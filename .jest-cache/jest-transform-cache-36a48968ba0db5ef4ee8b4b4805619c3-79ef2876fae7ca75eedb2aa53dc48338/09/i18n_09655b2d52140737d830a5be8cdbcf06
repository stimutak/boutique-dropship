e4ac85089586739103509f6d2c36fd4d
/**
 * Backend i18n configuration for error messages
 * Following CLAUDE.md constraints:
 * - Support for 10+ languages including RTL
 * - Simple implementation without unnecessary complexity
 */

// Error message translations for all supported languages
const errorTranslations = {
  en: {
    // Common errors
    VALIDATION_ERROR: 'Invalid input data',
    NOT_FOUND: 'Resource not found',
    UNAUTHORIZED: 'Unauthorized access',
    FORBIDDEN: 'Access forbidden',
    INTERNAL_ERROR: 'Internal server error',
    BAD_REQUEST: 'Bad request',
    // Authentication errors
    INVALID_CREDENTIALS: 'Invalid email or password',
    USER_EXISTS: 'User with this email already exists',
    USER_NOT_FOUND: 'User not found',
    TOKEN_INVALID: 'Invalid token',
    TOKEN_EXPIRED: 'Token has expired',
    INVALID_RESET_TOKEN: 'Password reset token is invalid or has expired',
    AUTHENTICATION_REQUIRED: 'Authentication required',
    REGISTRATION_ERROR: 'Failed to register user',
    ACCOUNT_DISABLED: 'Your account has been disabled',
    // Product errors
    PRODUCT_NOT_FOUND: 'Product not found',
    INVALID_PRODUCT_ID: 'Invalid product ID',
    PRODUCTS_FETCH_ERROR: 'Failed to fetch products',
    PRODUCT_CREATION_ERROR: 'Failed to create product',
    PRODUCT_UPDATE_ERROR: 'Failed to update product',
    PRODUCT_DELETE_ERROR: 'Failed to delete product',
    SEARCH_ERROR: 'Search failed',
    CATEGORIES_ERROR: 'Failed to fetch categories',
    FILTERS_ERROR: 'Failed to fetch filter options',
    RECOMMENDATIONS_ERROR: 'Failed to fetch recommendations',
    MISSING_QUERY: 'Search query is required',
    // Cart errors
    CART_ADD_ERROR: 'Failed to add item to cart',
    CART_UPDATE_ERROR: 'Failed to update cart',
    CART_REMOVE_ERROR: 'Failed to remove item from cart',
    CART_CLEAR_ERROR: 'Failed to clear cart',
    CART_MERGE_ERROR: 'Failed to merge guest cart',
    CART_FETCH_ERROR: 'Failed to fetch cart',
    ITEM_NOT_FOUND: 'Item not found in cart',
    MAX_QUANTITY_EXCEEDED: 'Cannot exceed maximum quantity of 99',
    INVALID_QUANTITY: 'Invalid quantity',
    MISSING_PRODUCT_ID: 'Product ID is required',
    // Order errors
    ORDER_NOT_FOUND: 'Order not found',
    ORDER_CREATE_ERROR: 'Failed to create order',
    ORDER_UPDATE_ERROR: 'Failed to update order',
    ORDER_CANCEL_ERROR: 'Failed to cancel order',
    INVALID_ORDER_STATUS: 'Invalid order status',
    EMPTY_CART: 'Your cart is empty',
    // Payment errors
    PAYMENT_FAILED: 'Payment failed',
    PAYMENT_METHOD_INVALID: 'Invalid payment method',
    INSUFFICIENT_FUNDS: 'Insufficient funds',
    PAYMENT_REQUIRED: 'Payment is required',
    PAYMENT_CREATE_ERROR: 'Failed to create payment',
    PAYMENT_STATUS_ERROR: 'Failed to check payment status',
    // Integration errors
    MOLLIE_ERROR: 'Payment service error',
    WHOLESALER_ERROR: 'Wholesaler communication error',
    EMAIL_ERROR: 'Email service error'
  },
  es: {
    // Spanish translations
    VALIDATION_ERROR: 'Datos de entrada inválidos',
    NOT_FOUND: 'Recurso no encontrado',
    UNAUTHORIZED: 'Acceso no autorizado',
    FORBIDDEN: 'Acceso prohibido',
    INTERNAL_ERROR: 'Error interno del servidor',
    BAD_REQUEST: 'Solicitud incorrecta',
    INVALID_CREDENTIALS: 'Correo electrónico o contraseña inválidos',
    USER_EXISTS: 'Ya existe un usuario con este correo electrónico',
    USER_NOT_FOUND: 'Usuario no encontrado',
    TOKEN_INVALID: 'Token inválido',
    TOKEN_EXPIRED: 'El token ha expirado',
    AUTHENTICATION_REQUIRED: 'Se requiere autenticación',
    PRODUCT_NOT_FOUND: 'Producto no encontrado',
    CART_ADD_ERROR: 'Error al agregar artículo al carrito',
    ORDER_NOT_FOUND: 'Pedido no encontrado',
    PAYMENT_FAILED: 'Pago fallido',
    EMPTY_CART: 'Tu carrito está vacío'
  },
  fr: {
    // French translations
    VALIDATION_ERROR: 'Données d\'entrée invalides',
    NOT_FOUND: 'Ressource non trouvée',
    UNAUTHORIZED: 'Accès non autorisé',
    FORBIDDEN: 'Accès interdit',
    INTERNAL_ERROR: 'Erreur interne du serveur',
    BAD_REQUEST: 'Mauvaise requête',
    INVALID_CREDENTIALS: 'Email ou mot de passe invalide',
    USER_EXISTS: 'Un utilisateur avec cet email existe déjà',
    USER_NOT_FOUND: 'Utilisateur non trouvé',
    TOKEN_INVALID: 'Jeton invalide',
    TOKEN_EXPIRED: 'Le jeton a expiré',
    AUTHENTICATION_REQUIRED: 'Authentification requise',
    PRODUCT_NOT_FOUND: 'Produit non trouvé',
    CART_ADD_ERROR: 'Échec de l\'ajout de l\'article au panier',
    ORDER_NOT_FOUND: 'Commande non trouvée',
    PAYMENT_FAILED: 'Paiement échoué',
    EMPTY_CART: 'Votre panier est vide'
  },
  de: {
    // German translations
    VALIDATION_ERROR: 'Ungültige Eingabedaten',
    NOT_FOUND: 'Ressource nicht gefunden',
    UNAUTHORIZED: 'Nicht autorisierter Zugriff',
    FORBIDDEN: 'Zugriff verboten',
    INTERNAL_ERROR: 'Interner Serverfehler',
    BAD_REQUEST: 'Ungültige Anfrage',
    INVALID_CREDENTIALS: 'Ungültige E-Mail oder Passwort',
    USER_EXISTS: 'Ein Benutzer mit dieser E-Mail existiert bereits',
    USER_NOT_FOUND: 'Benutzer nicht gefunden',
    TOKEN_INVALID: 'Ungültiges Token',
    TOKEN_EXPIRED: 'Token ist abgelaufen',
    AUTHENTICATION_REQUIRED: 'Authentifizierung erforderlich',
    PRODUCT_NOT_FOUND: 'Produkt nicht gefunden',
    CART_ADD_ERROR: 'Fehler beim Hinzufügen zum Warenkorb',
    ORDER_NOT_FOUND: 'Bestellung nicht gefunden',
    PAYMENT_FAILED: 'Zahlung fehlgeschlagen',
    EMPTY_CART: 'Ihr Warenkorb ist leer'
  },
  zh: {
    // Chinese translations
    VALIDATION_ERROR: '输入数据无效',
    NOT_FOUND: '未找到资源',
    UNAUTHORIZED: '未授权访问',
    FORBIDDEN: '禁止访问',
    INTERNAL_ERROR: '服务器内部错误',
    BAD_REQUEST: '错误的请求',
    INVALID_CREDENTIALS: '无效的邮箱或密码',
    USER_EXISTS: '该邮箱已被注册',
    USER_NOT_FOUND: '用户未找到',
    TOKEN_INVALID: '无效的令牌',
    TOKEN_EXPIRED: '令牌已过期',
    AUTHENTICATION_REQUIRED: '需要身份验证',
    PRODUCT_NOT_FOUND: '产品未找到',
    CART_ADD_ERROR: '添加到购物车失败',
    ORDER_NOT_FOUND: '订单未找到',
    PAYMENT_FAILED: '支付失败',
    EMPTY_CART: '您的购物车是空的'
  },
  ja: {
    // Japanese translations
    VALIDATION_ERROR: '入力データが無効です',
    NOT_FOUND: 'リソースが見つかりません',
    UNAUTHORIZED: '認証されていません',
    FORBIDDEN: 'アクセスが禁止されています',
    INTERNAL_ERROR: 'サーバー内部エラー',
    BAD_REQUEST: '不正なリクエスト',
    INVALID_CREDENTIALS: 'メールアドレスまたはパスワードが無効です',
    USER_EXISTS: 'このメールアドレスは既に登録されています',
    USER_NOT_FOUND: 'ユーザーが見つかりません',
    TOKEN_INVALID: '無効なトークン',
    TOKEN_EXPIRED: 'トークンの有効期限が切れました',
    AUTHENTICATION_REQUIRED: '認証が必要です',
    PRODUCT_NOT_FOUND: '商品が見つかりません',
    CART_ADD_ERROR: 'カートへの追加に失敗しました',
    ORDER_NOT_FOUND: '注文が見つかりません',
    PAYMENT_FAILED: '支払いに失敗しました',
    EMPTY_CART: 'カートが空です'
  },
  ar: {
    // Arabic translations (RTL)
    VALIDATION_ERROR: 'بيانات الإدخال غير صالحة',
    NOT_FOUND: 'المورد غير موجود',
    UNAUTHORIZED: 'وصول غير مصرح',
    FORBIDDEN: 'الوصول محظور',
    INTERNAL_ERROR: 'خطأ داخلي في الخادم',
    BAD_REQUEST: 'طلب غير صالح',
    INVALID_CREDENTIALS: 'البريد الإلكتروني أو كلمة المرور غير صالحة',
    USER_EXISTS: 'يوجد مستخدم بهذا البريد الإلكتروني بالفعل',
    USER_NOT_FOUND: 'المستخدم غير موجود',
    TOKEN_INVALID: 'رمز غير صالح',
    TOKEN_EXPIRED: 'انتهت صلاحية الرمز',
    AUTHENTICATION_REQUIRED: 'المصادقة مطلوبة',
    PRODUCT_NOT_FOUND: 'المنتج غير موجود',
    CART_ADD_ERROR: 'فشل إضافة المنتج إلى السلة',
    ORDER_NOT_FOUND: 'الطلب غير موجود',
    PAYMENT_FAILED: 'فشل الدفع',
    EMPTY_CART: 'سلة التسوق فارغة'
  },
  he: {
    // Hebrew translations (RTL)
    VALIDATION_ERROR: 'נתוני הקלט אינם תקינים',
    NOT_FOUND: 'המשאב לא נמצא',
    UNAUTHORIZED: 'גישה לא מורשית',
    FORBIDDEN: 'הגישה אסורה',
    INTERNAL_ERROR: 'שגיאת שרת פנימית',
    BAD_REQUEST: 'בקשה לא תקינה',
    INVALID_CREDENTIALS: 'אימייל או סיסמה לא תקינים',
    USER_EXISTS: 'משתמש עם אימייל זה כבר קיים',
    USER_NOT_FOUND: 'המשתמש לא נמצא',
    TOKEN_INVALID: 'אסימון לא תקין',
    TOKEN_EXPIRED: 'תוקף האסימון פג',
    AUTHENTICATION_REQUIRED: 'נדרש אימות',
    PRODUCT_NOT_FOUND: 'המוצר לא נמצא',
    CART_ADD_ERROR: 'הוספת המוצר לסל נכשלה',
    ORDER_NOT_FOUND: 'ההזמנה לא נמצאה',
    PAYMENT_FAILED: 'התשלום נכשל',
    EMPTY_CART: 'סל הקניות ריק'
  }
};

/**
 * Get translated error message
 * @param {string} code - Error code
 * @param {string} locale - Language locale (e.g., 'en', 'es', 'ar')
 * @param {string} defaultMessage - Default message if translation not found
 * @returns {string} Translated error message
 */
function getErrorMessage(code, locale = 'en', defaultMessage = null) {
  const lang = errorTranslations[locale] || errorTranslations['en'];
  return lang[code] || defaultMessage || errorTranslations['en'][code] || code;
}

/**
 * Express middleware to add i18n support to request
 */
function i18nMiddleware(req, res, next) {
  // Get locale from header, query param, or default to 'en'
  const locale = req.headers['x-locale'] || req.query.lang || 'en';

  // Add i18n function to request
  req.i18n = (code, defaultMessage) => {
    return getErrorMessage(code, locale, defaultMessage);
  };
  req.locale = locale;
  req.isRTL = ['ar', 'he'].includes(locale);
  next();
}

/**
 * Get all supported locales
 */
function getSupportedLocales() {
  return Object.keys(errorTranslations);
}

/**
 * Check if a locale is supported
 */
function isLocaleSupported(locale) {
  return errorTranslations.hasOwnProperty(locale);
}
module.exports = {
  getErrorMessage,
  i18nMiddleware,
  getSupportedLocales,
  isLocaleSupported,
  errorTranslations
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJlcnJvclRyYW5zbGF0aW9ucyIsImVuIiwiVkFMSURBVElPTl9FUlJPUiIsIk5PVF9GT1VORCIsIlVOQVVUSE9SSVpFRCIsIkZPUkJJRERFTiIsIklOVEVSTkFMX0VSUk9SIiwiQkFEX1JFUVVFU1QiLCJJTlZBTElEX0NSRURFTlRJQUxTIiwiVVNFUl9FWElTVFMiLCJVU0VSX05PVF9GT1VORCIsIlRPS0VOX0lOVkFMSUQiLCJUT0tFTl9FWFBJUkVEIiwiSU5WQUxJRF9SRVNFVF9UT0tFTiIsIkFVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEIiwiUkVHSVNUUkFUSU9OX0VSUk9SIiwiQUNDT1VOVF9ESVNBQkxFRCIsIlBST0RVQ1RfTk9UX0ZPVU5EIiwiSU5WQUxJRF9QUk9EVUNUX0lEIiwiUFJPRFVDVFNfRkVUQ0hfRVJST1IiLCJQUk9EVUNUX0NSRUFUSU9OX0VSUk9SIiwiUFJPRFVDVF9VUERBVEVfRVJST1IiLCJQUk9EVUNUX0RFTEVURV9FUlJPUiIsIlNFQVJDSF9FUlJPUiIsIkNBVEVHT1JJRVNfRVJST1IiLCJGSUxURVJTX0VSUk9SIiwiUkVDT01NRU5EQVRJT05TX0VSUk9SIiwiTUlTU0lOR19RVUVSWSIsIkNBUlRfQUREX0VSUk9SIiwiQ0FSVF9VUERBVEVfRVJST1IiLCJDQVJUX1JFTU9WRV9FUlJPUiIsIkNBUlRfQ0xFQVJfRVJST1IiLCJDQVJUX01FUkdFX0VSUk9SIiwiQ0FSVF9GRVRDSF9FUlJPUiIsIklURU1fTk9UX0ZPVU5EIiwiTUFYX1FVQU5USVRZX0VYQ0VFREVEIiwiSU5WQUxJRF9RVUFOVElUWSIsIk1JU1NJTkdfUFJPRFVDVF9JRCIsIk9SREVSX05PVF9GT1VORCIsIk9SREVSX0NSRUFURV9FUlJPUiIsIk9SREVSX1VQREFURV9FUlJPUiIsIk9SREVSX0NBTkNFTF9FUlJPUiIsIklOVkFMSURfT1JERVJfU1RBVFVTIiwiRU1QVFlfQ0FSVCIsIlBBWU1FTlRfRkFJTEVEIiwiUEFZTUVOVF9NRVRIT0RfSU5WQUxJRCIsIklOU1VGRklDSUVOVF9GVU5EUyIsIlBBWU1FTlRfUkVRVUlSRUQiLCJQQVlNRU5UX0NSRUFURV9FUlJPUiIsIlBBWU1FTlRfU1RBVFVTX0VSUk9SIiwiTU9MTElFX0VSUk9SIiwiV0hPTEVTQUxFUl9FUlJPUiIsIkVNQUlMX0VSUk9SIiwiZXMiLCJmciIsImRlIiwiemgiLCJqYSIsImFyIiwiaGUiLCJnZXRFcnJvck1lc3NhZ2UiLCJjb2RlIiwibG9jYWxlIiwiZGVmYXVsdE1lc3NhZ2UiLCJsYW5nIiwiaTE4bk1pZGRsZXdhcmUiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVycyIsInF1ZXJ5IiwiaTE4biIsImlzUlRMIiwiaW5jbHVkZXMiLCJnZXRTdXBwb3J0ZWRMb2NhbGVzIiwiT2JqZWN0Iiwia2V5cyIsImlzTG9jYWxlU3VwcG9ydGVkIiwiaGFzT3duUHJvcGVydHkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiaTE4bi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEJhY2tlbmQgaTE4biBjb25maWd1cmF0aW9uIGZvciBlcnJvciBtZXNzYWdlc1xuICogRm9sbG93aW5nIENMQVVERS5tZCBjb25zdHJhaW50czpcbiAqIC0gU3VwcG9ydCBmb3IgMTArIGxhbmd1YWdlcyBpbmNsdWRpbmcgUlRMXG4gKiAtIFNpbXBsZSBpbXBsZW1lbnRhdGlvbiB3aXRob3V0IHVubmVjZXNzYXJ5IGNvbXBsZXhpdHlcbiAqL1xuXG4vLyBFcnJvciBtZXNzYWdlIHRyYW5zbGF0aW9ucyBmb3IgYWxsIHN1cHBvcnRlZCBsYW5ndWFnZXNcbmNvbnN0IGVycm9yVHJhbnNsYXRpb25zID0ge1xuICBlbjoge1xuICAgIC8vIENvbW1vbiBlcnJvcnNcbiAgICBWQUxJREFUSU9OX0VSUk9SOiAnSW52YWxpZCBpbnB1dCBkYXRhJyxcbiAgICBOT1RfRk9VTkQ6ICdSZXNvdXJjZSBub3QgZm91bmQnLFxuICAgIFVOQVVUSE9SSVpFRDogJ1VuYXV0aG9yaXplZCBhY2Nlc3MnLFxuICAgIEZPUkJJRERFTjogJ0FjY2VzcyBmb3JiaWRkZW4nLFxuICAgIElOVEVSTkFMX0VSUk9SOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyxcbiAgICBCQURfUkVRVUVTVDogJ0JhZCByZXF1ZXN0JyxcbiAgICBcbiAgICAvLyBBdXRoZW50aWNhdGlvbiBlcnJvcnNcbiAgICBJTlZBTElEX0NSRURFTlRJQUxTOiAnSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZCcsXG4gICAgVVNFUl9FWElTVFM6ICdVc2VyIHdpdGggdGhpcyBlbWFpbCBhbHJlYWR5IGV4aXN0cycsXG4gICAgVVNFUl9OT1RfRk9VTkQ6ICdVc2VyIG5vdCBmb3VuZCcsXG4gICAgVE9LRU5fSU5WQUxJRDogJ0ludmFsaWQgdG9rZW4nLFxuICAgIFRPS0VOX0VYUElSRUQ6ICdUb2tlbiBoYXMgZXhwaXJlZCcsXG4gICAgSU5WQUxJRF9SRVNFVF9UT0tFTjogJ1Bhc3N3b3JkIHJlc2V0IHRva2VuIGlzIGludmFsaWQgb3IgaGFzIGV4cGlyZWQnLFxuICAgIEFVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEOiAnQXV0aGVudGljYXRpb24gcmVxdWlyZWQnLFxuICAgIFJFR0lTVFJBVElPTl9FUlJPUjogJ0ZhaWxlZCB0byByZWdpc3RlciB1c2VyJyxcbiAgICBBQ0NPVU5UX0RJU0FCTEVEOiAnWW91ciBhY2NvdW50IGhhcyBiZWVuIGRpc2FibGVkJyxcbiAgICBcbiAgICAvLyBQcm9kdWN0IGVycm9yc1xuICAgIFBST0RVQ1RfTk9UX0ZPVU5EOiAnUHJvZHVjdCBub3QgZm91bmQnLFxuICAgIElOVkFMSURfUFJPRFVDVF9JRDogJ0ludmFsaWQgcHJvZHVjdCBJRCcsXG4gICAgUFJPRFVDVFNfRkVUQ0hfRVJST1I6ICdGYWlsZWQgdG8gZmV0Y2ggcHJvZHVjdHMnLFxuICAgIFBST0RVQ1RfQ1JFQVRJT05fRVJST1I6ICdGYWlsZWQgdG8gY3JlYXRlIHByb2R1Y3QnLFxuICAgIFBST0RVQ1RfVVBEQVRFX0VSUk9SOiAnRmFpbGVkIHRvIHVwZGF0ZSBwcm9kdWN0JyxcbiAgICBQUk9EVUNUX0RFTEVURV9FUlJPUjogJ0ZhaWxlZCB0byBkZWxldGUgcHJvZHVjdCcsXG4gICAgU0VBUkNIX0VSUk9SOiAnU2VhcmNoIGZhaWxlZCcsXG4gICAgQ0FURUdPUklFU19FUlJPUjogJ0ZhaWxlZCB0byBmZXRjaCBjYXRlZ29yaWVzJyxcbiAgICBGSUxURVJTX0VSUk9SOiAnRmFpbGVkIHRvIGZldGNoIGZpbHRlciBvcHRpb25zJyxcbiAgICBSRUNPTU1FTkRBVElPTlNfRVJST1I6ICdGYWlsZWQgdG8gZmV0Y2ggcmVjb21tZW5kYXRpb25zJyxcbiAgICBNSVNTSU5HX1FVRVJZOiAnU2VhcmNoIHF1ZXJ5IGlzIHJlcXVpcmVkJyxcbiAgICBcbiAgICAvLyBDYXJ0IGVycm9yc1xuICAgIENBUlRfQUREX0VSUk9SOiAnRmFpbGVkIHRvIGFkZCBpdGVtIHRvIGNhcnQnLFxuICAgIENBUlRfVVBEQVRFX0VSUk9SOiAnRmFpbGVkIHRvIHVwZGF0ZSBjYXJ0JyxcbiAgICBDQVJUX1JFTU9WRV9FUlJPUjogJ0ZhaWxlZCB0byByZW1vdmUgaXRlbSBmcm9tIGNhcnQnLFxuICAgIENBUlRfQ0xFQVJfRVJST1I6ICdGYWlsZWQgdG8gY2xlYXIgY2FydCcsXG4gICAgQ0FSVF9NRVJHRV9FUlJPUjogJ0ZhaWxlZCB0byBtZXJnZSBndWVzdCBjYXJ0JyxcbiAgICBDQVJUX0ZFVENIX0VSUk9SOiAnRmFpbGVkIHRvIGZldGNoIGNhcnQnLFxuICAgIElURU1fTk9UX0ZPVU5EOiAnSXRlbSBub3QgZm91bmQgaW4gY2FydCcsXG4gICAgTUFYX1FVQU5USVRZX0VYQ0VFREVEOiAnQ2Fubm90IGV4Y2VlZCBtYXhpbXVtIHF1YW50aXR5IG9mIDk5JyxcbiAgICBJTlZBTElEX1FVQU5USVRZOiAnSW52YWxpZCBxdWFudGl0eScsXG4gICAgTUlTU0lOR19QUk9EVUNUX0lEOiAnUHJvZHVjdCBJRCBpcyByZXF1aXJlZCcsXG4gICAgXG4gICAgLy8gT3JkZXIgZXJyb3JzXG4gICAgT1JERVJfTk9UX0ZPVU5EOiAnT3JkZXIgbm90IGZvdW5kJyxcbiAgICBPUkRFUl9DUkVBVEVfRVJST1I6ICdGYWlsZWQgdG8gY3JlYXRlIG9yZGVyJyxcbiAgICBPUkRFUl9VUERBVEVfRVJST1I6ICdGYWlsZWQgdG8gdXBkYXRlIG9yZGVyJyxcbiAgICBPUkRFUl9DQU5DRUxfRVJST1I6ICdGYWlsZWQgdG8gY2FuY2VsIG9yZGVyJyxcbiAgICBJTlZBTElEX09SREVSX1NUQVRVUzogJ0ludmFsaWQgb3JkZXIgc3RhdHVzJyxcbiAgICBFTVBUWV9DQVJUOiAnWW91ciBjYXJ0IGlzIGVtcHR5JyxcbiAgICBcbiAgICAvLyBQYXltZW50IGVycm9yc1xuICAgIFBBWU1FTlRfRkFJTEVEOiAnUGF5bWVudCBmYWlsZWQnLFxuICAgIFBBWU1FTlRfTUVUSE9EX0lOVkFMSUQ6ICdJbnZhbGlkIHBheW1lbnQgbWV0aG9kJyxcbiAgICBJTlNVRkZJQ0lFTlRfRlVORFM6ICdJbnN1ZmZpY2llbnQgZnVuZHMnLFxuICAgIFBBWU1FTlRfUkVRVUlSRUQ6ICdQYXltZW50IGlzIHJlcXVpcmVkJyxcbiAgICBQQVlNRU5UX0NSRUFURV9FUlJPUjogJ0ZhaWxlZCB0byBjcmVhdGUgcGF5bWVudCcsXG4gICAgUEFZTUVOVF9TVEFUVVNfRVJST1I6ICdGYWlsZWQgdG8gY2hlY2sgcGF5bWVudCBzdGF0dXMnLFxuICAgIFxuICAgIC8vIEludGVncmF0aW9uIGVycm9yc1xuICAgIE1PTExJRV9FUlJPUjogJ1BheW1lbnQgc2VydmljZSBlcnJvcicsXG4gICAgV0hPTEVTQUxFUl9FUlJPUjogJ1dob2xlc2FsZXIgY29tbXVuaWNhdGlvbiBlcnJvcicsXG4gICAgRU1BSUxfRVJST1I6ICdFbWFpbCBzZXJ2aWNlIGVycm9yJ1xuICB9LFxuICBlczoge1xuICAgIC8vIFNwYW5pc2ggdHJhbnNsYXRpb25zXG4gICAgVkFMSURBVElPTl9FUlJPUjogJ0RhdG9zIGRlIGVudHJhZGEgaW52w6FsaWRvcycsXG4gICAgTk9UX0ZPVU5EOiAnUmVjdXJzbyBubyBlbmNvbnRyYWRvJyxcbiAgICBVTkFVVEhPUklaRUQ6ICdBY2Nlc28gbm8gYXV0b3JpemFkbycsXG4gICAgRk9SQklEREVOOiAnQWNjZXNvIHByb2hpYmlkbycsXG4gICAgSU5URVJOQUxfRVJST1I6ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvcicsXG4gICAgQkFEX1JFUVVFU1Q6ICdTb2xpY2l0dWQgaW5jb3JyZWN0YScsXG4gICAgXG4gICAgSU5WQUxJRF9DUkVERU5USUFMUzogJ0NvcnJlbyBlbGVjdHLDs25pY28gbyBjb250cmFzZcOxYSBpbnbDoWxpZG9zJyxcbiAgICBVU0VSX0VYSVNUUzogJ1lhIGV4aXN0ZSB1biB1c3VhcmlvIGNvbiBlc3RlIGNvcnJlbyBlbGVjdHLDs25pY28nLFxuICAgIFVTRVJfTk9UX0ZPVU5EOiAnVXN1YXJpbyBubyBlbmNvbnRyYWRvJyxcbiAgICBUT0tFTl9JTlZBTElEOiAnVG9rZW4gaW52w6FsaWRvJyxcbiAgICBUT0tFTl9FWFBJUkVEOiAnRWwgdG9rZW4gaGEgZXhwaXJhZG8nLFxuICAgIEFVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEOiAnU2UgcmVxdWllcmUgYXV0ZW50aWNhY2nDs24nLFxuICAgIFxuICAgIFBST0RVQ1RfTk9UX0ZPVU5EOiAnUHJvZHVjdG8gbm8gZW5jb250cmFkbycsXG4gICAgQ0FSVF9BRERfRVJST1I6ICdFcnJvciBhbCBhZ3JlZ2FyIGFydMOtY3VsbyBhbCBjYXJyaXRvJyxcbiAgICBPUkRFUl9OT1RfRk9VTkQ6ICdQZWRpZG8gbm8gZW5jb250cmFkbycsXG4gICAgUEFZTUVOVF9GQUlMRUQ6ICdQYWdvIGZhbGxpZG8nLFxuICAgIEVNUFRZX0NBUlQ6ICdUdSBjYXJyaXRvIGVzdMOhIHZhY8OtbydcbiAgfSxcbiAgZnI6IHtcbiAgICAvLyBGcmVuY2ggdHJhbnNsYXRpb25zXG4gICAgVkFMSURBVElPTl9FUlJPUjogJ0Rvbm7DqWVzIGRcXCdlbnRyw6llIGludmFsaWRlcycsXG4gICAgTk9UX0ZPVU5EOiAnUmVzc291cmNlIG5vbiB0cm91dsOpZScsXG4gICAgVU5BVVRIT1JJWkVEOiAnQWNjw6hzIG5vbiBhdXRvcmlzw6knLFxuICAgIEZPUkJJRERFTjogJ0FjY8OocyBpbnRlcmRpdCcsXG4gICAgSU5URVJOQUxfRVJST1I6ICdFcnJldXIgaW50ZXJuZSBkdSBzZXJ2ZXVyJyxcbiAgICBCQURfUkVRVUVTVDogJ01hdXZhaXNlIHJlcXXDqnRlJyxcbiAgICBcbiAgICBJTlZBTElEX0NSRURFTlRJQUxTOiAnRW1haWwgb3UgbW90IGRlIHBhc3NlIGludmFsaWRlJyxcbiAgICBVU0VSX0VYSVNUUzogJ1VuIHV0aWxpc2F0ZXVyIGF2ZWMgY2V0IGVtYWlsIGV4aXN0ZSBkw6lqw6AnLFxuICAgIFVTRVJfTk9UX0ZPVU5EOiAnVXRpbGlzYXRldXIgbm9uIHRyb3V2w6knLFxuICAgIFRPS0VOX0lOVkFMSUQ6ICdKZXRvbiBpbnZhbGlkZScsXG4gICAgVE9LRU5fRVhQSVJFRDogJ0xlIGpldG9uIGEgZXhwaXLDqScsXG4gICAgQVVUSEVOVElDQVRJT05fUkVRVUlSRUQ6ICdBdXRoZW50aWZpY2F0aW9uIHJlcXVpc2UnLFxuICAgIFxuICAgIFBST0RVQ1RfTk9UX0ZPVU5EOiAnUHJvZHVpdCBub24gdHJvdXbDqScsXG4gICAgQ0FSVF9BRERfRVJST1I6ICfDiWNoZWMgZGUgbFxcJ2Fqb3V0IGRlIGxcXCdhcnRpY2xlIGF1IHBhbmllcicsXG4gICAgT1JERVJfTk9UX0ZPVU5EOiAnQ29tbWFuZGUgbm9uIHRyb3V2w6llJyxcbiAgICBQQVlNRU5UX0ZBSUxFRDogJ1BhaWVtZW50IMOpY2hvdcOpJyxcbiAgICBFTVBUWV9DQVJUOiAnVm90cmUgcGFuaWVyIGVzdCB2aWRlJ1xuICB9LFxuICBkZToge1xuICAgIC8vIEdlcm1hbiB0cmFuc2xhdGlvbnNcbiAgICBWQUxJREFUSU9OX0VSUk9SOiAnVW5nw7xsdGlnZSBFaW5nYWJlZGF0ZW4nLFxuICAgIE5PVF9GT1VORDogJ1Jlc3NvdXJjZSBuaWNodCBnZWZ1bmRlbicsXG4gICAgVU5BVVRIT1JJWkVEOiAnTmljaHQgYXV0b3Jpc2llcnRlciBadWdyaWZmJyxcbiAgICBGT1JCSURERU46ICdadWdyaWZmIHZlcmJvdGVuJyxcbiAgICBJTlRFUk5BTF9FUlJPUjogJ0ludGVybmVyIFNlcnZlcmZlaGxlcicsXG4gICAgQkFEX1JFUVVFU1Q6ICdVbmfDvGx0aWdlIEFuZnJhZ2UnLFxuICAgIFxuICAgIElOVkFMSURfQ1JFREVOVElBTFM6ICdVbmfDvGx0aWdlIEUtTWFpbCBvZGVyIFBhc3N3b3J0JyxcbiAgICBVU0VSX0VYSVNUUzogJ0VpbiBCZW51dHplciBtaXQgZGllc2VyIEUtTWFpbCBleGlzdGllcnQgYmVyZWl0cycsXG4gICAgVVNFUl9OT1RfRk9VTkQ6ICdCZW51dHplciBuaWNodCBnZWZ1bmRlbicsXG4gICAgVE9LRU5fSU5WQUxJRDogJ1VuZ8O8bHRpZ2VzIFRva2VuJyxcbiAgICBUT0tFTl9FWFBJUkVEOiAnVG9rZW4gaXN0IGFiZ2VsYXVmZW4nLFxuICAgIEFVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEOiAnQXV0aGVudGlmaXppZXJ1bmcgZXJmb3JkZXJsaWNoJyxcbiAgICBcbiAgICBQUk9EVUNUX05PVF9GT1VORDogJ1Byb2R1a3QgbmljaHQgZ2VmdW5kZW4nLFxuICAgIENBUlRfQUREX0VSUk9SOiAnRmVobGVyIGJlaW0gSGluenVmw7xnZW4genVtIFdhcmVua29yYicsXG4gICAgT1JERVJfTk9UX0ZPVU5EOiAnQmVzdGVsbHVuZyBuaWNodCBnZWZ1bmRlbicsXG4gICAgUEFZTUVOVF9GQUlMRUQ6ICdaYWhsdW5nIGZlaGxnZXNjaGxhZ2VuJyxcbiAgICBFTVBUWV9DQVJUOiAnSWhyIFdhcmVua29yYiBpc3QgbGVlcidcbiAgfSxcbiAgemg6IHtcbiAgICAvLyBDaGluZXNlIHRyYW5zbGF0aW9uc1xuICAgIFZBTElEQVRJT05fRVJST1I6ICfovpPlhaXmlbDmja7ml6DmlYgnLFxuICAgIE5PVF9GT1VORDogJ+acquaJvuWIsOi1hOa6kCcsXG4gICAgVU5BVVRIT1JJWkVEOiAn5pyq5o6I5p2D6K6/6ZeuJyxcbiAgICBGT1JCSURERU46ICfnpoHmraLorr/pl64nLFxuICAgIElOVEVSTkFMX0VSUk9SOiAn5pyN5Yqh5Zmo5YaF6YOo6ZSZ6K+vJyxcbiAgICBCQURfUkVRVUVTVDogJ+mUmeivr+eahOivt+axgicsXG4gICAgXG4gICAgSU5WQUxJRF9DUkVERU5USUFMUzogJ+aXoOaViOeahOmCrueuseaIluWvhueggScsXG4gICAgVVNFUl9FWElTVFM6ICfor6Xpgq7nrrHlt7Looqvms6jlhownLFxuICAgIFVTRVJfTk9UX0ZPVU5EOiAn55So5oi35pyq5om+5YiwJyxcbiAgICBUT0tFTl9JTlZBTElEOiAn5peg5pWI55qE5Luk54mMJyxcbiAgICBUT0tFTl9FWFBJUkVEOiAn5Luk54mM5bey6L+H5pyfJyxcbiAgICBBVVRIRU5USUNBVElPTl9SRVFVSVJFRDogJ+mcgOimgei6q+S7vemqjOivgScsXG4gICAgXG4gICAgUFJPRFVDVF9OT1RfRk9VTkQ6ICfkuqflk4HmnKrmib7liLAnLFxuICAgIENBUlRfQUREX0VSUk9SOiAn5re75Yqg5Yiw6LSt54mp6L2m5aSx6LSlJyxcbiAgICBPUkRFUl9OT1RfRk9VTkQ6ICforqLljZXmnKrmib7liLAnLFxuICAgIFBBWU1FTlRfRkFJTEVEOiAn5pSv5LuY5aSx6LSlJyxcbiAgICBFTVBUWV9DQVJUOiAn5oKo55qE6LSt54mp6L2m5piv56m655qEJ1xuICB9LFxuICBqYToge1xuICAgIC8vIEphcGFuZXNlIHRyYW5zbGF0aW9uc1xuICAgIFZBTElEQVRJT05fRVJST1I6ICflhaXlipvjg4fjg7zjgr/jgYznhKHlirnjgafjgZknLFxuICAgIE5PVF9GT1VORDogJ+ODquOCveODvOOCueOBjOimi+OBpOOBi+OCiuOBvuOBm+OCkycsXG4gICAgVU5BVVRIT1JJWkVEOiAn6KqN6Ki844GV44KM44Gm44GE44G+44Gb44KTJyxcbiAgICBGT1JCSURERU46ICfjgqLjgq/jgrvjgrnjgYznpoHmraLjgZXjgozjgabjgYTjgb7jgZknLFxuICAgIElOVEVSTkFMX0VSUk9SOiAn44K144O844OQ44O85YaF6YOo44Ko44Op44O8JyxcbiAgICBCQURfUkVRVUVTVDogJ+S4jeato+OBquODquOCr+OCqOOCueODiCcsXG4gICAgXG4gICAgSU5WQUxJRF9DUkVERU5USUFMUzogJ+ODoeODvOODq+OCouODieODrOOCueOBvuOBn+OBr+ODkeOCueODr+ODvOODieOBjOeEoeWKueOBp+OBmScsXG4gICAgVVNFUl9FWElTVFM6ICfjgZPjga7jg6Hjg7zjg6vjgqLjg4njg6zjgrnjga/ml6LjgavnmbvpjLLjgZXjgozjgabjgYTjgb7jgZknLFxuICAgIFVTRVJfTk9UX0ZPVU5EOiAn44Om44O844K244O844GM6KaL44Gk44GL44KK44G+44Gb44KTJyxcbiAgICBUT0tFTl9JTlZBTElEOiAn54Sh5Yq544Gq44OI44O844Kv44OzJyxcbiAgICBUT0tFTl9FWFBJUkVEOiAn44OI44O844Kv44Oz44Gu5pyJ5Yq55pyf6ZmQ44GM5YiH44KM44G+44GX44GfJyxcbiAgICBBVVRIRU5USUNBVElPTl9SRVFVSVJFRDogJ+iqjeiovOOBjOW/heimgeOBp+OBmScsXG4gICAgXG4gICAgUFJPRFVDVF9OT1RfRk9VTkQ6ICfllYblk4HjgYzopovjgaTjgYvjgorjgb7jgZvjgpMnLFxuICAgIENBUlRfQUREX0VSUk9SOiAn44Kr44O844OI44G444Gu6L+95Yqg44Gr5aSx5pWX44GX44G+44GX44GfJyxcbiAgICBPUkRFUl9OT1RfRk9VTkQ6ICfms6jmlofjgYzopovjgaTjgYvjgorjgb7jgZvjgpMnLFxuICAgIFBBWU1FTlRfRkFJTEVEOiAn5pSv5omV44GE44Gr5aSx5pWX44GX44G+44GX44GfJyxcbiAgICBFTVBUWV9DQVJUOiAn44Kr44O844OI44GM56m644Gn44GZJ1xuICB9LFxuICBhcjoge1xuICAgIC8vIEFyYWJpYyB0cmFuc2xhdGlvbnMgKFJUTClcbiAgICBWQUxJREFUSU9OX0VSUk9SOiAn2KjZitin2YbYp9iqINin2YTYpdiv2K7Yp9mEINi62YrYsSDYtdin2YTYrdipJyxcbiAgICBOT1RfRk9VTkQ6ICfYp9mE2YXZiNix2K8g2LrZitixINmF2YjYrNmI2K8nLFxuICAgIFVOQVVUSE9SSVpFRDogJ9mI2LXZiNmEINi62YrYsSDZhdi12LHYrScsXG4gICAgRk9SQklEREVOOiAn2KfZhNmI2LXZiNmEINmF2K3YuNmI2LEnLFxuICAgIElOVEVSTkFMX0VSUk9SOiAn2K7Yt9ijINiv2KfYrtmE2Yog2YHZiiDYp9mE2K7Yp9iv2YUnLFxuICAgIEJBRF9SRVFVRVNUOiAn2LfZhNioINi62YrYsSDYtdin2YTYrScsXG4gICAgXG4gICAgSU5WQUxJRF9DUkVERU5USUFMUzogJ9in2YTYqNix2YrYryDYp9mE2KXZhNmD2KrYsdmI2YbZiiDYo9mIINmD2YTZhdipINin2YTZhdix2YjYsSDYutmK2LEg2LXYp9mE2K3YqScsXG4gICAgVVNFUl9FWElTVFM6ICfZitmI2KzYryDZhdiz2KrYrtiv2YUg2KjZh9iw2Kcg2KfZhNio2LHZitivINin2YTYpdmE2YPYqtix2YjZhtmKINio2KfZhNmB2LnZhCcsXG4gICAgVVNFUl9OT1RfRk9VTkQ6ICfYp9mE2YXYs9iq2K7Yr9mFINi62YrYsSDZhdmI2KzZiNivJyxcbiAgICBUT0tFTl9JTlZBTElEOiAn2LHZhdiyINi62YrYsSDYtdin2YTYrScsXG4gICAgVE9LRU5fRVhQSVJFRDogJ9in2YbYqtmH2Kog2LXZhNin2K3ZitipINin2YTYsdmF2LInLFxuICAgIEFVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEOiAn2KfZhNmF2LXYp9iv2YLYqSDZhdi32YTZiNio2KknLFxuICAgIFxuICAgIFBST0RVQ1RfTk9UX0ZPVU5EOiAn2KfZhNmF2YbYqtisINi62YrYsSDZhdmI2KzZiNivJyxcbiAgICBDQVJUX0FERF9FUlJPUjogJ9mB2LTZhCDYpdi22KfZgdipINin2YTZhdmG2KrYrCDYpdmE2Ykg2KfZhNiz2YTYqScsXG4gICAgT1JERVJfTk9UX0ZPVU5EOiAn2KfZhNi32YTYqCDYutmK2LEg2YXZiNis2YjYrycsXG4gICAgUEFZTUVOVF9GQUlMRUQ6ICfZgdi02YQg2KfZhNiv2YHYuScsXG4gICAgRU1QVFlfQ0FSVDogJ9iz2YTYqSDYp9mE2KrYs9mI2YIg2YHYp9ix2LrYqSdcbiAgfSxcbiAgaGU6IHtcbiAgICAvLyBIZWJyZXcgdHJhbnNsYXRpb25zIChSVEwpXG4gICAgVkFMSURBVElPTl9FUlJPUjogJ9eg16rXldeg15kg15TXp9ec15gg15DXmdeg150g16rXp9eZ16DXmdedJyxcbiAgICBOT1RfRk9VTkQ6ICfXlNee16nXkNeRINec15Ag16DXntem15AnLFxuICAgIFVOQVVUSE9SSVpFRDogJ9eS15nXqdeUINec15Ag157Xldeo16nXmdeqJyxcbiAgICBGT1JCSURERU46ICfXlNeS15nXqdeUINeQ16HXldeo15QnLFxuICAgIElOVEVSTkFMX0VSUk9SOiAn16nXkteZ15DXqiDXqdeo16og16TXoNeZ157XmdeqJyxcbiAgICBCQURfUkVRVUVTVDogJ9eR16fXqdeUINec15Ag16rXp9eZ16DXlCcsXG4gICAgXG4gICAgSU5WQUxJRF9DUkVERU5USUFMUzogJ9eQ15nXnteZ15nXnCDXkNeVINeh15nXodee15Qg15zXkCDXqten15nXoNeZ150nLFxuICAgIFVTRVJfRVhJU1RTOiAn157Xqdeq157XqSDXotedINeQ15nXnteZ15nXnCDXlteUINeb15HXqCDXp9eZ15nXnScsXG4gICAgVVNFUl9OT1RfRk9VTkQ6ICfXlNee16nXqtee16kg15zXkCDXoNee16bXkCcsXG4gICAgVE9LRU5fSU5WQUxJRDogJ9eQ16HXmdee15XXnyDXnNeQINeq16fXmdefJyxcbiAgICBUT0tFTl9FWFBJUkVEOiAn16rXlden16Mg15TXkNeh15nXnteV158g16TXkicsXG4gICAgQVVUSEVOVElDQVRJT05fUkVRVUlSRUQ6ICfXoNeT16jXqSDXkNeZ157XldeqJyxcbiAgICBcbiAgICBQUk9EVUNUX05PVF9GT1VORDogJ9eU157Xldem16gg15zXkCDXoNee16bXkCcsXG4gICAgQ0FSVF9BRERfRVJST1I6ICfXlNeV16HXpNeqINeU157Xldem16gg15zXodecINeg15vXqdec15QnLFxuICAgIE9SREVSX05PVF9GT1VORDogJ9eU15TXltee16DXlCDXnNeQINeg157XpteQ15QnLFxuICAgIFBBWU1FTlRfRkFJTEVEOiAn15TXqtep15zXldedINeg15vXqdecJyxcbiAgICBFTVBUWV9DQVJUOiAn16HXnCDXlNen16DXmdeV16og16jXmdenJ1xuICB9XG59O1xuXG4vKipcbiAqIEdldCB0cmFuc2xhdGVkIGVycm9yIG1lc3NhZ2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2RlIC0gRXJyb3IgY29kZVxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2FsZSAtIExhbmd1YWdlIGxvY2FsZSAoZS5nLiwgJ2VuJywgJ2VzJywgJ2FyJylcbiAqIEBwYXJhbSB7c3RyaW5nfSBkZWZhdWx0TWVzc2FnZSAtIERlZmF1bHQgbWVzc2FnZSBpZiB0cmFuc2xhdGlvbiBub3QgZm91bmRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRyYW5zbGF0ZWQgZXJyb3IgbWVzc2FnZVxuICovXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UoY29kZSwgbG9jYWxlID0gJ2VuJywgZGVmYXVsdE1lc3NhZ2UgPSBudWxsKSB7XG4gIGNvbnN0IGxhbmcgPSBlcnJvclRyYW5zbGF0aW9uc1tsb2NhbGVdIHx8IGVycm9yVHJhbnNsYXRpb25zWydlbiddO1xuICByZXR1cm4gbGFuZ1tjb2RlXSB8fCBkZWZhdWx0TWVzc2FnZSB8fCBlcnJvclRyYW5zbGF0aW9uc1snZW4nXVtjb2RlXSB8fCBjb2RlO1xufVxuXG4vKipcbiAqIEV4cHJlc3MgbWlkZGxld2FyZSB0byBhZGQgaTE4biBzdXBwb3J0IHRvIHJlcXVlc3RcbiAqL1xuZnVuY3Rpb24gaTE4bk1pZGRsZXdhcmUocmVxLCByZXMsIG5leHQpIHtcbiAgLy8gR2V0IGxvY2FsZSBmcm9tIGhlYWRlciwgcXVlcnkgcGFyYW0sIG9yIGRlZmF1bHQgdG8gJ2VuJ1xuICBjb25zdCBsb2NhbGUgPSByZXEuaGVhZGVyc1sneC1sb2NhbGUnXSB8fCByZXEucXVlcnkubGFuZyB8fCAnZW4nO1xuICBcbiAgLy8gQWRkIGkxOG4gZnVuY3Rpb24gdG8gcmVxdWVzdFxuICByZXEuaTE4biA9IChjb2RlLCBkZWZhdWx0TWVzc2FnZSkgPT4ge1xuICAgIHJldHVybiBnZXRFcnJvck1lc3NhZ2UoY29kZSwgbG9jYWxlLCBkZWZhdWx0TWVzc2FnZSk7XG4gIH07XG4gIFxuICByZXEubG9jYWxlID0gbG9jYWxlO1xuICByZXEuaXNSVEwgPSBbJ2FyJywgJ2hlJ10uaW5jbHVkZXMobG9jYWxlKTtcbiAgXG4gIG5leHQoKTtcbn1cblxuLyoqXG4gKiBHZXQgYWxsIHN1cHBvcnRlZCBsb2NhbGVzXG4gKi9cbmZ1bmN0aW9uIGdldFN1cHBvcnRlZExvY2FsZXMoKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhlcnJvclRyYW5zbGF0aW9ucyk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBsb2NhbGUgaXMgc3VwcG9ydGVkXG4gKi9cbmZ1bmN0aW9uIGlzTG9jYWxlU3VwcG9ydGVkKGxvY2FsZSkge1xuICByZXR1cm4gZXJyb3JUcmFuc2xhdGlvbnMuaGFzT3duUHJvcGVydHkobG9jYWxlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldEVycm9yTWVzc2FnZSxcbiAgaTE4bk1pZGRsZXdhcmUsXG4gIGdldFN1cHBvcnRlZExvY2FsZXMsXG4gIGlzTG9jYWxlU3VwcG9ydGVkLFxuICBlcnJvclRyYW5zbGF0aW9uc1xufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU1BLGlCQUFpQixHQUFHO0VBQ3hCQyxFQUFFLEVBQUU7SUFDRjtJQUNBQyxnQkFBZ0IsRUFBRSxvQkFBb0I7SUFDdENDLFNBQVMsRUFBRSxvQkFBb0I7SUFDL0JDLFlBQVksRUFBRSxxQkFBcUI7SUFDbkNDLFNBQVMsRUFBRSxrQkFBa0I7SUFDN0JDLGNBQWMsRUFBRSx1QkFBdUI7SUFDdkNDLFdBQVcsRUFBRSxhQUFhO0lBRTFCO0lBQ0FDLG1CQUFtQixFQUFFLDJCQUEyQjtJQUNoREMsV0FBVyxFQUFFLHFDQUFxQztJQUNs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