6121922ceefd6b28122a8c24725414fe
const mongoose = require('mongoose');
const productSchema = new mongoose.Schema({
  name: {
    type: String,
    required: true,
    trim: true,
    index: true
  },
  slug: {
    type: String,
    required: true,
    unique: true,
    lowercase: true
  },
  description: {
    type: String,
    required: true
  },
  shortDescription: {
    type: String,
    required: true,
    maxlength: 200
  },
  price: {
    type: Number,
    required: true,
    min: 0
  },
  compareAtPrice: {
    type: Number,
    min: 0
  },
  // Multi-currency support
  baseCurrency: {
    type: String,
    default: 'USD',
    enum: ['USD', 'EUR', 'CNY', 'JPY', 'SAR', 'GBP', 'CAD']
  },
  prices: {
    USD: {
      type: Number
    },
    EUR: {
      type: Number
    },
    CNY: {
      type: Number
    },
    JPY: {
      type: Number
    },
    SAR: {
      type: Number
    },
    GBP: {
      type: Number
    },
    CAD: {
      type: Number
    }
  },
  images: [{
    url: {
      type: String,
      required: true
    },
    alt: {
      type: String,
      required: true
    },
    isPrimary: {
      type: Boolean,
      default: false
    }
  }],
  category: {
    type: String,
    required: true,
    enum: ['crystals', 'herbs', 'oils', 'supplements', 'books', 'accessories', 'other']
  },
  tags: [String],
  properties: {
    chakra: [String],
    element: [String],
    zodiac: [String],
    healing: [String],
    origin: String,
    size: String,
    weight: String
  },
  wholesaler: {
    name: {
      type: String,
      required: true
    },
    email: {
      type: String,
      required: true
    },
    productCode: {
      type: String,
      required: true
    },
    cost: {
      type: Number,
      required: true
    },
    minOrderQty: {
      type: Number,
      default: 1
    }
  },
  seo: {
    title: String,
    description: String,
    keywords: [String]
  },
  isActive: {
    type: Boolean,
    default: true
  },
  isFeatured: {
    type: Boolean,
    default: false
  },
  crossSiteIntegration: {
    enabled: {
      type: Boolean,
      default: true
    },
    referenceKey: String,
    // For linking from sister sites
    relatedContent: [String] // URLs or content IDs from sister sites
  }
}, {
  timestamps: true
});

// Indexes for performance
productSchema.index({
  name: 'text',
  description: 'text',
  tags: 'text'
});
productSchema.index({
  category: 1,
  isActive: 1
});
productSchema.index({
  slug: 1
});
productSchema.index({
  'crossSiteIntegration.referenceKey': 1
});
productSchema.index({
  tags: 1
});
productSchema.index({
  isFeatured: 1,
  isActive: 1
});
productSchema.index({
  price: 1,
  isActive: 1
});
productSchema.index({
  'properties.chakra': 1,
  isActive: 1
});
productSchema.index({
  createdAt: -1,
  isActive: 1
});

// Method to get public product data (excludes wholesaler info)
productSchema.methods.toPublicJSON = function () {
  const product = this.toObject();
  delete product.wholesaler;
  return product;
};

// Static method to get products for public API
productSchema.statics.findPublic = function (query = {}) {
  return this.find({
    ...query,
    isActive: true
  }).select('-wholesaler');
};

// Method to get cross-site integration data
productSchema.methods.getCrossSiteData = function () {
  return {
    _id: this._id,
    name: this.name,
    slug: this.slug,
    shortDescription: this.shortDescription,
    price: this.price,
    compareAtPrice: this.compareAtPrice,
    images: this.images,
    category: this.category,
    properties: this.properties,
    seo: this.seo,
    crossSiteIntegration: this.crossSiteIntegration
  };
};

// Validation for cross-site integration
productSchema.pre('save', function (next) {
  if (this.crossSiteIntegration.enabled && !this.crossSiteIntegration.referenceKey) {
    this.crossSiteIntegration.referenceKey = this.slug;
  }

  // Ensure USD price is always set from base price
  if (!this.prices) {
    this.prices = {};
  }
  this.prices.USD = this.price;
  next();
});
module.exports = mongoose.model('Product', productSchema);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJwcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInRyaW0iLCJpbmRleCIsInNsdWciLCJ1bmlxdWUiLCJsb3dlcmNhc2UiLCJkZXNjcmlwdGlvbiIsInNob3J0RGVzY3JpcHRpb24iLCJtYXhsZW5ndGgiLCJwcmljZSIsIk51bWJlciIsIm1pbiIsImNvbXBhcmVBdFByaWNlIiwiYmFzZUN1cnJlbmN5IiwiZGVmYXVsdCIsImVudW0iLCJwcmljZXMiLCJVU0QiLCJFVVIiLCJDTlkiLCJKUFkiLCJTQVIiLCJHQlAiLCJDQUQiLCJpbWFnZXMiLCJ1cmwiLCJhbHQiLCJpc1ByaW1hcnkiLCJCb29sZWFuIiwiY2F0ZWdvcnkiLCJ0YWdzIiwicHJvcGVydGllcyIsImNoYWtyYSIsImVsZW1lbnQiLCJ6b2RpYWMiLCJoZWFsaW5nIiwib3JpZ2luIiwic2l6ZSIsIndlaWdodCIsIndob2xlc2FsZXIiLCJlbWFpbCIsInByb2R1Y3RDb2RlIiwiY29zdCIsIm1pbk9yZGVyUXR5Iiwic2VvIiwidGl0bGUiLCJrZXl3b3JkcyIsImlzQWN0aXZlIiwiaXNGZWF0dXJlZCIsImNyb3NzU2l0ZUludGVncmF0aW9uIiwiZW5hYmxlZCIsInJlZmVyZW5jZUtleSIsInJlbGF0ZWRDb250ZW50IiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsIm1ldGhvZHMiLCJ0b1B1YmxpY0pTT04iLCJwcm9kdWN0IiwidG9PYmplY3QiLCJzdGF0aWNzIiwiZmluZFB1YmxpYyIsInF1ZXJ5IiwiZmluZCIsInNlbGVjdCIsImdldENyb3NzU2l0ZURhdGEiLCJfaWQiLCJwcmUiLCJuZXh0IiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5cbmNvbnN0IHByb2R1Y3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgbmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB0cmltOiB0cnVlLFxuICAgIGluZGV4OiB0cnVlXG4gIH0sXG4gIHNsdWc6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgdW5pcXVlOiB0cnVlLFxuICAgIGxvd2VyY2FzZTogdHJ1ZVxuICB9LFxuICBkZXNjcmlwdGlvbjoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZVxuICB9LFxuICBzaG9ydERlc2NyaXB0aW9uOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIG1heGxlbmd0aDogMjAwXG4gIH0sXG4gIHByaWNlOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIG1pbjogMFxuICB9LFxuICBjb21wYXJlQXRQcmljZToge1xuICAgIHR5cGU6IE51bWJlcixcbiAgICBtaW46IDBcbiAgfSxcbiAgLy8gTXVsdGktY3VycmVuY3kgc3VwcG9ydFxuICBiYXNlQ3VycmVuY3k6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJ1VTRCcsXG4gICAgZW51bTogWydVU0QnLCAnRVVSJywgJ0NOWScsICdKUFknLCAnU0FSJywgJ0dCUCcsICdDQUQnXVxuICB9LFxuICBwcmljZXM6IHtcbiAgICBVU0Q6IHsgdHlwZTogTnVtYmVyIH0sXG4gICAgRVVSOiB7IHR5cGU6IE51bWJlciB9LFxuICAgIENOWTogeyB0eXBlOiBOdW1iZXIgfSxcbiAgICBKUFk6IHsgdHlwZTogTnVtYmVyIH0sXG4gICAgU0FSOiB7IHR5cGU6IE51bWJlciB9LFxuICAgIEdCUDogeyB0eXBlOiBOdW1iZXIgfSxcbiAgICBDQUQ6IHsgdHlwZTogTnVtYmVyIH1cbiAgfSxcbiAgaW1hZ2VzOiBbe1xuICAgIHVybDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgYWx0OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBpc1ByaW1hcnk6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfVxuICB9XSxcbiAgY2F0ZWdvcnk6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgZW51bTogWydjcnlzdGFscycsICdoZXJicycsICdvaWxzJywgJ3N1cHBsZW1lbnRzJywgJ2Jvb2tzJywgJ2FjY2Vzc29yaWVzJywgJ290aGVyJ11cbiAgfSxcbiAgdGFnczogW1N0cmluZ10sXG4gIHByb3BlcnRpZXM6IHtcbiAgICBjaGFrcmE6IFtTdHJpbmddLFxuICAgIGVsZW1lbnQ6IFtTdHJpbmddLFxuICAgIHpvZGlhYzogW1N0cmluZ10sXG4gICAgaGVhbGluZzogW1N0cmluZ10sXG4gICAgb3JpZ2luOiBTdHJpbmcsXG4gICAgc2l6ZTogU3RyaW5nLFxuICAgIHdlaWdodDogU3RyaW5nXG4gIH0sXG4gIHdob2xlc2FsZXI6IHtcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBlbWFpbDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcHJvZHVjdENvZGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGNvc3Q6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIG1pbk9yZGVyUXR5OiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMSB9XG4gIH0sXG4gIHNlbzoge1xuICAgIHRpdGxlOiBTdHJpbmcsXG4gICAgZGVzY3JpcHRpb246IFN0cmluZyxcbiAgICBrZXl3b3JkczogW1N0cmluZ11cbiAgfSxcbiAgaXNBY3RpdmU6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgaXNGZWF0dXJlZDoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogZmFsc2VcbiAgfSxcbiAgY3Jvc3NTaXRlSW50ZWdyYXRpb246IHtcbiAgICBlbmFibGVkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWUgfSxcbiAgICByZWZlcmVuY2VLZXk6IFN0cmluZywgLy8gRm9yIGxpbmtpbmcgZnJvbSBzaXN0ZXIgc2l0ZXNcbiAgICByZWxhdGVkQ29udGVudDogW1N0cmluZ10gLy8gVVJMcyBvciBjb250ZW50IElEcyBmcm9tIHNpc3RlciBzaXRlc1xuICB9XG59LCB7XG4gIHRpbWVzdGFtcHM6IHRydWVcbn0pO1xuXG4vLyBJbmRleGVzIGZvciBwZXJmb3JtYW5jZVxucHJvZHVjdFNjaGVtYS5pbmRleCh7IG5hbWU6ICd0ZXh0JywgZGVzY3JpcHRpb246ICd0ZXh0JywgdGFnczogJ3RleHQnIH0pO1xucHJvZHVjdFNjaGVtYS5pbmRleCh7IGNhdGVnb3J5OiAxLCBpc0FjdGl2ZTogMSB9KTtcbnByb2R1Y3RTY2hlbWEuaW5kZXgoeyBzbHVnOiAxIH0pO1xucHJvZHVjdFNjaGVtYS5pbmRleCh7ICdjcm9zc1NpdGVJbnRlZ3JhdGlvbi5yZWZlcmVuY2VLZXknOiAxIH0pO1xucHJvZHVjdFNjaGVtYS5pbmRleCh7IHRhZ3M6IDEgfSk7XG5wcm9kdWN0U2NoZW1hLmluZGV4KHsgaXNGZWF0dXJlZDogMSwgaXNBY3RpdmU6IDEgfSk7XG5wcm9kdWN0U2NoZW1hLmluZGV4KHsgcHJpY2U6IDEsIGlzQWN0aXZlOiAxIH0pO1xucHJvZHVjdFNjaGVtYS5pbmRleCh7ICdwcm9wZXJ0aWVzLmNoYWtyYSc6IDEsIGlzQWN0aXZlOiAxIH0pO1xucHJvZHVjdFNjaGVtYS5pbmRleCh7IGNyZWF0ZWRBdDogLTEsIGlzQWN0aXZlOiAxIH0pO1xuXG4vLyBNZXRob2QgdG8gZ2V0IHB1YmxpYyBwcm9kdWN0IGRhdGEgKGV4Y2x1ZGVzIHdob2xlc2FsZXIgaW5mbylcbnByb2R1Y3RTY2hlbWEubWV0aG9kcy50b1B1YmxpY0pTT04gPSBmdW5jdGlvbigpIHtcbiAgY29uc3QgcHJvZHVjdCA9IHRoaXMudG9PYmplY3QoKTtcbiAgZGVsZXRlIHByb2R1Y3Qud2hvbGVzYWxlcjtcbiAgcmV0dXJuIHByb2R1Y3Q7XG59O1xuXG4vLyBTdGF0aWMgbWV0aG9kIHRvIGdldCBwcm9kdWN0cyBmb3IgcHVibGljIEFQSVxucHJvZHVjdFNjaGVtYS5zdGF0aWNzLmZpbmRQdWJsaWMgPSBmdW5jdGlvbihxdWVyeSA9IHt9KSB7XG4gIHJldHVybiB0aGlzLmZpbmQoeyAuLi5xdWVyeSwgaXNBY3RpdmU6IHRydWUgfSkuc2VsZWN0KCctd2hvbGVzYWxlcicpO1xufTtcblxuLy8gTWV0aG9kIHRvIGdldCBjcm9zcy1zaXRlIGludGVncmF0aW9uIGRhdGFcbnByb2R1Y3RTY2hlbWEubWV0aG9kcy5nZXRDcm9zc1NpdGVEYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgX2lkOiB0aGlzLl9pZCxcbiAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgc2x1ZzogdGhpcy5zbHVnLFxuICAgIHNob3J0RGVzY3JpcHRpb246IHRoaXMuc2hvcnREZXNjcmlwdGlvbixcbiAgICBwcmljZTogdGhpcy5wcmljZSxcbiAgICBjb21wYXJlQXRQcmljZTogdGhpcy5jb21wYXJlQXRQcmljZSxcbiAgICBpbWFnZXM6IHRoaXMuaW1hZ2VzLFxuICAgIGNhdGVnb3J5OiB0aGlzLmNhdGVnb3J5LFxuICAgIHByb3BlcnRpZXM6IHRoaXMucHJvcGVydGllcyxcbiAgICBzZW86IHRoaXMuc2VvLFxuICAgIGNyb3NzU2l0ZUludGVncmF0aW9uOiB0aGlzLmNyb3NzU2l0ZUludGVncmF0aW9uXG4gIH07XG59O1xuXG4vLyBWYWxpZGF0aW9uIGZvciBjcm9zcy1zaXRlIGludGVncmF0aW9uXG5wcm9kdWN0U2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uKG5leHQpIHtcbiAgaWYgKHRoaXMuY3Jvc3NTaXRlSW50ZWdyYXRpb24uZW5hYmxlZCAmJiAhdGhpcy5jcm9zc1NpdGVJbnRlZ3JhdGlvbi5yZWZlcmVuY2VLZXkpIHtcbiAgICB0aGlzLmNyb3NzU2l0ZUludGVncmF0aW9uLnJlZmVyZW5jZUtleSA9IHRoaXMuc2x1ZztcbiAgfVxuICBcbiAgLy8gRW5zdXJlIFVTRCBwcmljZSBpcyBhbHdheXMgc2V0IGZyb20gYmFzZSBwcmljZVxuICBpZiAoIXRoaXMucHJpY2VzKSB7XG4gICAgdGhpcy5wcmljZXMgPSB7fTtcbiAgfVxuICB0aGlzLnByaWNlcy5VU0QgPSB0aGlzLnByaWNlO1xuICBcbiAgbmV4dCgpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBwcm9kdWN0U2NoZW1hKTsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUVwQyxNQUFNQyxhQUFhLEdBQUcsSUFBSUYsUUFBUSxDQUFDRyxNQUFNLENBQUM7RUFDeENDLElBQUksRUFBRTtJQUNKQyxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFLElBQUk7SUFDZEMsSUFBSSxFQUFFLElBQUk7SUFDVkMsS0FBSyxFQUFFO0VBQ1QsQ0FBQztFQUNEQyxJQUFJLEVBQUU7SUFDSkwsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRSxJQUFJO0lBQ2RJLE1BQU0sRUFBRSxJQUFJO0lBQ1pDLFNBQVMsRUFBRTtFQUNiLENBQUM7RUFDREMsV0FBVyxFQUFFO0lBQ1hSLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RPLGdCQUFnQixFQUFFO0lBQ2hCVCxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFLElBQUk7SUFDZFEsU0FBUyxFQUFFO0VBQ2IsQ0FBQztFQUNEQyxLQUFLLEVBQUU7SUFDTFgsSUFBSSxFQUFFWSxNQUFNO0lBQ1pWLFFBQVEsRUFBRSxJQUFJO0lBQ2RXLEdBQUcsRUFBRTtFQUNQLENBQUM7RUFDREMsY0FBYyxFQUFFO0lBQ2RkLElBQUksRUFB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