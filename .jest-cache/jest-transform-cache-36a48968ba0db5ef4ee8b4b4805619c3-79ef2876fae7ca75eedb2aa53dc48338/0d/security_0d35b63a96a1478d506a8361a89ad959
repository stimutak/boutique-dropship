5b154ccbe9235c3171e78899cf38a221
const crypto = require('crypto');
const mongoSanitize = require('express-mongo-sanitize');
const rateLimit = require('express-rate-limit');
const slowDown = require('express-slow-down');
const {
  body,
  validationResult
} = require('express-validator');

// CSRF Protection Middleware
const csrfProtection = (req, res, next) => {
  // Skip CSRF for GET, HEAD, OPTIONS requests
  if (['GET', 'HEAD', 'OPTIONS'].includes(req.method)) {
    return next();
  }

  // Skip CSRF for API key authenticated requests
  if (req.headers['x-api-key']) {
    return next();
  }

  // Skip CSRF for webhooks and health checks
  if (req.path.includes('/webhook') || req.path.includes('/health')) {
    return next();
  }
  const token = req.headers['x-csrf-token'] || req.body._csrf;
  const sessionToken = req.session?.csrfToken;

  // If no session exists yet, it's likely a first request - be lenient
  if (!req.session) {
    console.warn('No session found for CSRF check on:', req.path);
    return next();
  }
  if (!token || !sessionToken || token !== sessionToken) {
    console.error('CSRF token mismatch:', {
      provided: token ? 'yes' : 'no',
      session: sessionToken ? 'yes' : 'no',
      match: token === sessionToken
    });
    return res.status(403).json({
      success: false,
      error: {
        code: 'CSRF_TOKEN_MISMATCH',
        message: 'Invalid CSRF token'
      }
    });
  }
  next();
};

// Generate CSRF token
const generateCSRFToken = (req, res, next) => {
  if (!req.session.csrfToken) {
    req.session.csrfToken = crypto.randomBytes(32).toString('hex');
  }
  next();
};

// API Key Authentication
const apiKeyAuth = (req, res, next) => {
  const apiKey = req.headers['x-api-key'];
  if (!apiKey) {
    return res.status(401).json({
      success: false,
      error: {
        code: 'API_KEY_REQUIRED',
        message: 'API key is required for cross-site integration'
      }
    });
  }

  // Validate API key (in production, store these securely)
  const validApiKeys = process.env.VALID_API_KEYS?.split(',') || [];
  if (!validApiKeys.includes(apiKey)) {
    return res.status(401).json({
      success: false,
      error: {
        code: 'INVALID_API_KEY',
        message: 'Invalid API key'
      }
    });
  }
  req.apiKeyAuth = true;
  next();
};

// Enhanced Rate Limiting
const createRateLimit = (windowMs, max, message) => {
  return rateLimit({
    windowMs,
    max,
    message: {
      success: false,
      error: {
        code: 'RATE_LIMIT_EXCEEDED',
        message
      }
    },
    standardHeaders: true,
    legacyHeaders: false
  });
};

// Different rate limits for different endpoints
// More forgiving limits for development while still providing protection
const rateLimits = {
  // General API rate limit - increased for development
  general: createRateLimit(15 * 60 * 1000,
  // 15 minutes
  500,
  // 500 requests per window (was 100)
  'Too many requests, please try again later'),
  // Authentication endpoints - more forgiving for dev/testing
  auth: createRateLimit(15 * 60 * 1000,
  // 15 minutes
  50,
  // 50 requests per window (was 10)
  'Too many authentication attempts, please try again later'),
  // Payment endpoints rate limit - slightly increased
  payment: createRateLimit(60 * 60 * 1000,
  // 1 hour
  50,
  // 50 requests per hour (was 20)
  'Too many payment requests, please try again later'),
  // Admin endpoints rate limit - increased
  admin: createRateLimit(15 * 60 * 1000,
  // 15 minutes
  200,
  // 200 requests per window (was 50)
  'Too many admin requests, please try again later'),
  // Cross-site integration rate limit - increased
  integration: createRateLimit(60 * 1000,
  // 1 minute
  100,
  // 100 requests per minute (was 30)
  'Too many integration requests, please try again later')
};

// Slow down middleware for brute force protection
const speedLimiter = slowDown({
  windowMs: 15 * 60 * 1000,
  // 15 minutes
  delayAfter: 5,
  // allow 5 requests per windowMs without delay
  delayMs: () => 500,
  // add 500ms delay per request after delayAfter
  maxDelayMs: 20000,
  // max delay of 20 seconds
  validate: {
    delayMs: false
  } // disable warning
});

// Input sanitization middleware
const sanitizeInput = [mongoSanitize({
  replaceWith: '_',
  onSanitize: ({
    req,
    key
  }) => {
    console.warn(`Sanitized input: ${key} in ${req.method} ${req.path}`);
  }
})];

// Common validation rules
const validationRules = {
  email: body('email').isEmail().normalizeEmail().withMessage('Please provide a valid email address'),
  password: body('password').isLength({
    min: 8
  }).withMessage('Password must be at least 8 characters long').matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/).withMessage('Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character'),
  name: body('name').trim().isLength({
    min: 2,
    max: 50
  }).withMessage('Name must be between 2 and 50 characters').matches(/^[a-zA-Z\s'-]+$/).withMessage('Name can only contain letters, spaces, hyphens, and apostrophes'),
  phone: body('phone').optional().isMobilePhone().withMessage('Please provide a valid phone number'),
  address: body('address').optional().trim().isLength({
    max: 200
  }).withMessage('Address must not exceed 200 characters'),
  price: body('price').isFloat({
    min: 0
  }).withMessage('Price must be a positive number'),
  quantity: body('quantity').isInt({
    min: 1
  }).withMessage('Quantity must be a positive integer')
};

// Validation error handler
const handleValidationErrors = (req, res, next) => {
  const errors = validationResult(req);
  if (!errors.isEmpty()) {
    return res.status(400).json({
      success: false,
      error: {
        code: 'VALIDATION_ERROR',
        message: 'Invalid input data',
        details: errors.array().map(error => ({
          field: error.path,
          message: error.msg,
          value: error.value
        }))
      }
    });
  }
  next();
};

// Security headers middleware
const securityHeaders = (req, res, next) => {
  // Additional security headers beyond helmet
  res.setHeader('X-Content-Type-Options', 'nosniff');
  res.setHeader('X-Frame-Options', 'DENY');
  res.setHeader('X-XSS-Protection', '1; mode=block');
  res.setHeader('Referrer-Policy', 'strict-origin-when-cross-origin');
  res.setHeader('Permissions-Policy', 'geolocation=(), microphone=(), camera=()');

  // Remove server information
  res.removeHeader('X-Powered-By');
  next();
};
module.exports = {
  csrfProtection,
  generateCSRFToken,
  apiKeyAuth,
  rateLimits,
  speedLimiter,
  sanitizeInput,
  validationRules,
  handleValidationErrors,
  securityHeaders
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjcnlwdG8iLCJyZXF1aXJlIiwibW9uZ29TYW5pdGl6ZSIsInJhdGVMaW1pdCIsInNsb3dEb3duIiwiYm9keSIsInZhbGlkYXRpb25SZXN1bHQiLCJjc3JmUHJvdGVjdGlvbiIsInJlcSIsInJlcyIsIm5leHQiLCJpbmNsdWRlcyIsIm1ldGhvZCIsImhlYWRlcnMiLCJwYXRoIiwidG9rZW4iLCJfY3NyZiIsInNlc3Npb25Ub2tlbiIsInNlc3Npb24iLCJjc3JmVG9rZW4iLCJjb25zb2xlIiwid2FybiIsImVycm9yIiwicHJvdmlkZWQiLCJtYXRjaCIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwiY29kZSIsIm1lc3NhZ2UiLCJnZW5lcmF0ZUNTUkZUb2tlbiIsInJhbmRvbUJ5dGVzIiwidG9TdHJpbmciLCJhcGlLZXlBdXRoIiwiYXBpS2V5IiwidmFsaWRBcGlLZXlzIiwicHJvY2VzcyIsImVudiIsIlZBTElEX0FQSV9LRVlTIiwic3BsaXQiLCJjcmVhdGVSYXRlTGltaXQiLCJ3aW5kb3dNcyIsIm1heCIsInN0YW5kYXJkSGVhZGVycyIsImxlZ2FjeUhlYWRlcnMiLCJyYXRlTGltaXRzIiwiZ2VuZXJhbCIsImF1dGgiLCJwYXltZW50IiwiYWRtaW4iLCJpbnRlZ3JhdGlvbiIsInNwZWVkTGltaXRlciIsImRlbGF5QWZ0ZXIiLCJkZWxheU1zIiwibWF4RGVsYXlNcyIsInZhbGlkYXRlIiwic2FuaXRpemVJbnB1dCIsInJlcGxhY2VXaXRoIiwib25TYW5pdGl6ZSIsImtleSIsInZhbGlkYXRpb25SdWxlcyIsImVtYWlsIiwiaXNFbWFpbCIsIm5vcm1hbGl6ZUVtYWlsIiwid2l0aE1lc3NhZ2UiLCJwYXNzd29yZCIsImlzTGVuZ3RoIiwibWluIiwibWF0Y2hlcyIsIm5hbWUiLCJ0cmltIiwicGhvbmUiLCJvcHRpb25hbCIsImlzTW9iaWxlUGhvbmUiLCJhZGRyZXNzIiwicHJpY2UiLCJpc0Zsb2F0IiwicXVhbnRpdHkiLCJpc0ludCIsImhhbmRsZVZhbGlkYXRpb25FcnJvcnMiLCJlcnJvcnMiLCJpc0VtcHR5IiwiZGV0YWlscyIsImFycmF5IiwibWFwIiwiZmllbGQiLCJtc2ciLCJ2YWx1ZSIsInNlY3VyaXR5SGVhZGVycyIsInNldEhlYWRlciIsInJlbW92ZUhlYWRlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJzZWN1cml0eS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKTtcbmNvbnN0IG1vbmdvU2FuaXRpemUgPSByZXF1aXJlKCdleHByZXNzLW1vbmdvLXNhbml0aXplJyk7XG5jb25zdCByYXRlTGltaXQgPSByZXF1aXJlKCdleHByZXNzLXJhdGUtbGltaXQnKTtcbmNvbnN0IHNsb3dEb3duID0gcmVxdWlyZSgnZXhwcmVzcy1zbG93LWRvd24nKTtcbmNvbnN0IHsgYm9keSwgdmFsaWRhdGlvblJlc3VsdCB9ID0gcmVxdWlyZSgnZXhwcmVzcy12YWxpZGF0b3InKTtcblxuLy8gQ1NSRiBQcm90ZWN0aW9uIE1pZGRsZXdhcmVcbmNvbnN0IGNzcmZQcm90ZWN0aW9uID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIC8vIFNraXAgQ1NSRiBmb3IgR0VULCBIRUFELCBPUFRJT05TIHJlcXVlc3RzXG4gIGlmIChbJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnXS5pbmNsdWRlcyhyZXEubWV0aG9kKSkge1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH1cblxuICAvLyBTa2lwIENTUkYgZm9yIEFQSSBrZXkgYXV0aGVudGljYXRlZCByZXF1ZXN0c1xuICBpZiAocmVxLmhlYWRlcnNbJ3gtYXBpLWtleSddKSB7XG4gICAgcmV0dXJuIG5leHQoKTtcbiAgfVxuXG4gIC8vIFNraXAgQ1NSRiBmb3Igd2ViaG9va3MgYW5kIGhlYWx0aCBjaGVja3NcbiAgaWYgKHJlcS5wYXRoLmluY2x1ZGVzKCcvd2ViaG9vaycpIHx8IHJlcS5wYXRoLmluY2x1ZGVzKCcvaGVhbHRoJykpIHtcbiAgICByZXR1cm4gbmV4dCgpO1xuICB9XG5cbiAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVyc1sneC1jc3JmLXRva2VuJ10gfHwgcmVxLmJvZHkuX2NzcmY7XG4gIGNvbnN0IHNlc3Npb25Ub2tlbiA9IHJlcS5zZXNzaW9uPy5jc3JmVG9rZW47XG5cbiAgLy8gSWYgbm8gc2Vzc2lvbiBleGlzdHMgeWV0LCBpdCdzIGxpa2VseSBhIGZpcnN0IHJlcXVlc3QgLSBiZSBsZW5pZW50XG4gIGlmICghcmVxLnNlc3Npb24pIHtcbiAgICBjb25zb2xlLndhcm4oJ05vIHNlc3Npb24gZm91bmQgZm9yIENTUkYgY2hlY2sgb246JywgcmVxLnBhdGgpO1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH1cblxuICBpZiAoIXRva2VuIHx8ICFzZXNzaW9uVG9rZW4gfHwgdG9rZW4gIT09IHNlc3Npb25Ub2tlbikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0NTUkYgdG9rZW4gbWlzbWF0Y2g6Jywge1xuICAgICAgcHJvdmlkZWQ6IHRva2VuID8gJ3llcycgOiAnbm8nLFxuICAgICAgc2Vzc2lvbjogc2Vzc2lvblRva2VuID8gJ3llcycgOiAnbm8nLFxuICAgICAgbWF0Y2g6IHRva2VuID09PSBzZXNzaW9uVG9rZW5cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjoge1xuICAgICAgICBjb2RlOiAnQ1NSRl9UT0tFTl9NSVNNQVRDSCcsXG4gICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIENTUkYgdG9rZW4nXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBuZXh0KCk7XG59O1xuXG4vLyBHZW5lcmF0ZSBDU1JGIHRva2VuXG5jb25zdCBnZW5lcmF0ZUNTUkZUb2tlbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBpZiAoIXJlcS5zZXNzaW9uLmNzcmZUb2tlbikge1xuICAgIHJlcS5zZXNzaW9uLmNzcmZUb2tlbiA9IGNyeXB0by5yYW5kb21CeXRlcygzMikudG9TdHJpbmcoJ2hleCcpO1xuICB9XG4gIG5leHQoKTtcbn07XG5cbi8vIEFQSSBLZXkgQXV0aGVudGljYXRpb25cbmNvbnN0IGFwaUtleUF1dGggPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3QgYXBpS2V5ID0gcmVxLmhlYWRlcnNbJ3gtYXBpLWtleSddO1xuICBcbiAgaWYgKCFhcGlLZXkpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjoge1xuICAgICAgICBjb2RlOiAnQVBJX0tFWV9SRVFVSVJFRCcsXG4gICAgICAgIG1lc3NhZ2U6ICdBUEkga2V5IGlzIHJlcXVpcmVkIGZvciBjcm9zcy1zaXRlIGludGVncmF0aW9uJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gVmFsaWRhdGUgQVBJIGtleSAoaW4gcHJvZHVjdGlvbiwgc3RvcmUgdGhlc2Ugc2VjdXJlbHkpXG4gIGNvbnN0IHZhbGlkQXBpS2V5cyA9IHByb2Nlc3MuZW52LlZBTElEX0FQSV9LRVlTPy5zcGxpdCgnLCcpIHx8IFtdO1xuICBcbiAgaWYgKCF2YWxpZEFwaUtleXMuaW5jbHVkZXMoYXBpS2V5KSkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIGNvZGU6ICdJTlZBTElEX0FQSV9LRVknLFxuICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBBUEkga2V5J1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmVxLmFwaUtleUF1dGggPSB0cnVlO1xuICBuZXh0KCk7XG59O1xuXG4vLyBFbmhhbmNlZCBSYXRlIExpbWl0aW5nXG5jb25zdCBjcmVhdGVSYXRlTGltaXQgPSAod2luZG93TXMsIG1heCwgbWVzc2FnZSkgPT4ge1xuICByZXR1cm4gcmF0ZUxpbWl0KHtcbiAgICB3aW5kb3dNcyxcbiAgICBtYXgsXG4gICAgbWVzc2FnZToge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjoge1xuICAgICAgICBjb2RlOiAnUkFURV9MSU1JVF9FWENFRURFRCcsXG4gICAgICAgIG1lc3NhZ2VcbiAgICAgIH1cbiAgICB9LFxuICAgIHN0YW5kYXJkSGVhZGVyczogdHJ1ZSxcbiAgICBsZWdhY3lIZWFkZXJzOiBmYWxzZSxcbiAgfSk7XG59O1xuXG4vLyBEaWZmZXJlbnQgcmF0ZSBsaW1pdHMgZm9yIGRpZmZlcmVudCBlbmRwb2ludHNcbi8vIE1vcmUgZm9yZ2l2aW5nIGxpbWl0cyBmb3IgZGV2ZWxvcG1lbnQgd2hpbGUgc3RpbGwgcHJvdmlkaW5nIHByb3RlY3Rpb25cbmNvbnN0IHJhdGVMaW1pdHMgPSB7XG4gIC8vIEdlbmVyYWwgQVBJIHJhdGUgbGltaXQgLSBpbmNyZWFzZWQgZm9yIGRldmVsb3BtZW50XG4gIGdlbmVyYWw6IGNyZWF0ZVJhdGVMaW1pdChcbiAgICAxNSAqIDYwICogMTAwMCwgLy8gMTUgbWludXRlc1xuICAgIDUwMCwgLy8gNTAwIHJlcXVlc3RzIHBlciB3aW5kb3cgKHdhcyAxMDApXG4gICAgJ1RvbyBtYW55IHJlcXVlc3RzLCBwbGVhc2UgdHJ5IGFnYWluIGxhdGVyJ1xuICApLFxuICBcbiAgLy8gQXV0aGVudGljYXRpb24gZW5kcG9pbnRzIC0gbW9yZSBmb3JnaXZpbmcgZm9yIGRldi90ZXN0aW5nXG4gIGF1dGg6IGNyZWF0ZVJhdGVMaW1pdChcbiAgICAxNSAqIDYwICogMTAwMCwgLy8gMTUgbWludXRlc1xuICAgIDUwLCAvLyA1MCByZXF1ZXN0cyBwZXIgd2luZG93ICh3YXMgMTApXG4gICAgJ1RvbyBtYW55IGF1dGhlbnRpY2F0aW9uIGF0dGVtcHRzLCBwbGVhc2UgdHJ5IGFnYWluIGxhdGVyJ1xuICApLFxuICBcbiAgLy8gUGF5bWVudCBlbmRwb2ludHMgcmF0ZSBsaW1pdCAtIHNsaWdodGx5IGluY3JlYXNlZFxuICBwYXltZW50OiBjcmVhdGVSYXRlTGltaXQoXG4gICAgNjAgKiA2MCAqIDEwMDAsIC8vIDEgaG91clxuICAgIDUwLCAvLyA1MCByZXF1ZXN0cyBwZXIgaG91ciAod2FzIDIwKVxuICAgICdUb28gbWFueSBwYXltZW50IHJlcXVlc3RzLCBwbGVhc2UgdHJ5IGFnYWluIGxhdGVyJ1xuICApLFxuICBcbiAgLy8gQWRtaW4gZW5kcG9pbnRzIHJhdGUgbGltaXQgLSBpbmNyZWFzZWRcbiAgYWRtaW46IGNyZWF0ZVJhdGVMaW1pdChcbiAgICAxNSAqIDYwICogMTAwMCwgLy8gMTUgbWludXRlc1xuICAgIDIwMCwgLy8gMjAwIHJlcXVlc3RzIHBlciB3aW5kb3cgKHdhcyA1MClcbiAgICAnVG9vIG1hbnkgYWRtaW4gcmVxdWVzdHMsIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXInXG4gICksXG4gIFxuICAvLyBDcm9zcy1zaXRlIGludGVncmF0aW9uIHJhdGUgbGltaXQgLSBpbmNyZWFzZWRcbiAgaW50ZWdyYXRpb246IGNyZWF0ZVJhdGVMaW1pdChcbiAgICA2MCAqIDEwMDAsIC8vIDEgbWludXRlXG4gICAgMTAwLCAvLyAxMDAgcmVxdWVzdHMgcGVyIG1pbnV0ZSAod2FzIDMwKVxuICAgICdUb28gbWFueSBpbnRlZ3JhdGlvbiByZXF1ZXN0cywgcGxlYXNlIHRyeSBhZ2FpbiBsYXRlcidcbiAgKVxufTtcblxuLy8gU2xvdyBkb3duIG1pZGRsZXdhcmUgZm9yIGJydXRlIGZvcmNlIHByb3RlY3Rpb25cbmNvbnN0IHNwZWVkTGltaXRlciA9IHNsb3dEb3duKHtcbiAgd2luZG93TXM6IDE1ICogNjAgKiAxMDAwLCAvLyAxNSBtaW51dGVzXG4gIGRlbGF5QWZ0ZXI6IDUsIC8vIGFsbG93IDUgcmVxdWVzdHMgcGVyIHdpbmRvd01zIHdpdGhvdXQgZGVsYXlcbiAgZGVsYXlNczogKCkgPT4gNTAwLCAvLyBhZGQgNTAwbXMgZGVsYXkgcGVyIHJlcXVlc3QgYWZ0ZXIgZGVsYXlBZnRlclxuICBtYXhEZWxheU1zOiAyMDAwMCwgLy8gbWF4IGRlbGF5IG9mIDIwIHNlY29uZHNcbiAgdmFsaWRhdGU6IHsgZGVsYXlNczogZmFsc2UgfSAvLyBkaXNhYmxlIHdhcm5pbmdcbn0pO1xuXG4vLyBJbnB1dCBzYW5pdGl6YXRpb24gbWlkZGxld2FyZVxuY29uc3Qgc2FuaXRpemVJbnB1dCA9IFtcbiAgbW9uZ29TYW5pdGl6ZSh7XG4gICAgcmVwbGFjZVdpdGg6ICdfJyxcbiAgICBvblNhbml0aXplOiAoeyByZXEsIGtleSB9KSA9PiB7XG4gICAgICBjb25zb2xlLndhcm4oYFNhbml0aXplZCBpbnB1dDogJHtrZXl9IGluICR7cmVxLm1ldGhvZH0gJHtyZXEucGF0aH1gKTtcbiAgICB9LFxuICB9KSxcbl07XG5cbi8vIENvbW1vbiB2YWxpZGF0aW9uIHJ1bGVzXG5jb25zdCB2YWxpZGF0aW9uUnVsZXMgPSB7XG4gIGVtYWlsOiBib2R5KCdlbWFpbCcpXG4gICAgLmlzRW1haWwoKVxuICAgIC5ub3JtYWxpemVFbWFpbCgpXG4gICAgLndpdGhNZXNzYWdlKCdQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIGVtYWlsIGFkZHJlc3MnKSxcbiAgXG4gIHBhc3N3b3JkOiBib2R5KCdwYXNzd29yZCcpXG4gICAgLmlzTGVuZ3RoKHsgbWluOiA4IH0pXG4gICAgLndpdGhNZXNzYWdlKCdQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDggY2hhcmFjdGVycyBsb25nJylcbiAgICAubWF0Y2hlcygvXig/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlxcZCkoPz0uKltAJCElKj8mXSlbQS1aYS16XFxkQCQhJSo/Jl0vKVxuICAgIC53aXRoTWVzc2FnZSgnUGFzc3dvcmQgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSB1cHBlcmNhc2UgbGV0dGVyLCBvbmUgbG93ZXJjYXNlIGxldHRlciwgb25lIG51bWJlciwgYW5kIG9uZSBzcGVjaWFsIGNoYXJhY3RlcicpLFxuICBcbiAgbmFtZTogYm9keSgnbmFtZScpXG4gICAgLnRyaW0oKVxuICAgIC5pc0xlbmd0aCh7IG1pbjogMiwgbWF4OiA1MCB9KVxuICAgIC53aXRoTWVzc2FnZSgnTmFtZSBtdXN0IGJlIGJldHdlZW4gMiBhbmQgNTAgY2hhcmFjdGVycycpXG4gICAgLm1hdGNoZXMoL15bYS16QS1aXFxzJy1dKyQvKVxuICAgIC53aXRoTWVzc2FnZSgnTmFtZSBjYW4gb25seSBjb250YWluIGxldHRlcnMsIHNwYWNlcywgaHlwaGVucywgYW5kIGFwb3N0cm9waGVzJyksXG4gIFxuICBwaG9uZTogYm9keSgncGhvbmUnKVxuICAgIC5vcHRpb25hbCgpXG4gICAgLmlzTW9iaWxlUGhvbmUoKVxuICAgIC53aXRoTWVzc2FnZSgnUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCBwaG9uZSBudW1iZXInKSxcbiAgXG4gIGFkZHJlc3M6IGJvZHkoJ2FkZHJlc3MnKVxuICAgIC5vcHRpb25hbCgpXG4gICAgLnRyaW0oKVxuICAgIC5pc0xlbmd0aCh7IG1heDogMjAwIH0pXG4gICAgLndpdGhNZXNzYWdlKCdBZGRyZXNzIG11c3Qgbm90IGV4Y2VlZCAyMDAgY2hhcmFjdGVycycpLFxuICBcbiAgcHJpY2U6IGJvZHkoJ3ByaWNlJylcbiAgICAuaXNGbG9hdCh7IG1pbjogMCB9KVxuICAgIC53aXRoTWVzc2FnZSgnUHJpY2UgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpLFxuICBcbiAgcXVhbnRpdHk6IGJvZHkoJ3F1YW50aXR5JylcbiAgICAuaXNJbnQoeyBtaW46IDEgfSlcbiAgICAud2l0aE1lc3NhZ2UoJ1F1YW50aXR5IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyJyksXG59O1xuXG4vLyBWYWxpZGF0aW9uIGVycm9yIGhhbmRsZXJcbmNvbnN0IGhhbmRsZVZhbGlkYXRpb25FcnJvcnMgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3QgZXJyb3JzID0gdmFsaWRhdGlvblJlc3VsdChyZXEpO1xuICBcbiAgaWYgKCFlcnJvcnMuaXNFbXB0eSgpKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgY29kZTogJ1ZBTElEQVRJT05fRVJST1InLFxuICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBpbnB1dCBkYXRhJyxcbiAgICAgICAgZGV0YWlsczogZXJyb3JzLmFycmF5KCkubWFwKGVycm9yID0+ICh7XG4gICAgICAgICAgZmllbGQ6IGVycm9yLnBhdGgsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3IubXNnLFxuICAgICAgICAgIHZhbHVlOiBlcnJvci52YWx1ZVxuICAgICAgICB9KSlcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBcbiAgbmV4dCgpO1xufTtcblxuLy8gU2VjdXJpdHkgaGVhZGVycyBtaWRkbGV3YXJlXG5jb25zdCBzZWN1cml0eUhlYWRlcnMgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgLy8gQWRkaXRpb25hbCBzZWN1cml0eSBoZWFkZXJzIGJleW9uZCBoZWxtZXRcbiAgcmVzLnNldEhlYWRlcignWC1Db250ZW50LVR5cGUtT3B0aW9ucycsICdub3NuaWZmJyk7XG4gIHJlcy5zZXRIZWFkZXIoJ1gtRnJhbWUtT3B0aW9ucycsICdERU5ZJyk7XG4gIHJlcy5zZXRIZWFkZXIoJ1gtWFNTLVByb3RlY3Rpb24nLCAnMTsgbW9kZT1ibG9jaycpO1xuICByZXMuc2V0SGVhZGVyKCdSZWZlcnJlci1Qb2xpY3knLCAnc3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbicpO1xuICByZXMuc2V0SGVhZGVyKCdQZXJtaXNzaW9ucy1Qb2xpY3knLCAnZ2VvbG9jYXRpb249KCksIG1pY3JvcGhvbmU9KCksIGNhbWVyYT0oKScpO1xuICBcbiAgLy8gUmVtb3ZlIHNlcnZlciBpbmZvcm1hdGlvblxuICByZXMucmVtb3ZlSGVhZGVyKCdYLVBvd2VyZWQtQnknKTtcbiAgXG4gIG5leHQoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjc3JmUHJvdGVjdGlvbixcbiAgZ2VuZXJhdGVDU1JGVG9rZW4sXG4gIGFwaUtleUF1dGgsXG4gIHJhdGVMaW1pdHMsXG4gIHNwZWVkTGltaXRlcixcbiAgc2FuaXRpemVJbnB1dCxcbiAgdmFsaWRhdGlvblJ1bGVzLFxuICBoYW5kbGVWYWxpZGF0aW9uRXJyb3JzLFxuICBzZWN1cml0eUhlYWRlcnNcbn07Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDaEMsTUFBTUMsYUFBYSxHQUFHRCxPQUFPLENBQUMsd0JBQXdCLENBQUM7QUFDdkQsTUFBTUUsU0FBUyxHQUFHRixPQUFPLENBQUMsb0JBQW9CLENBQUM7QUFDL0MsTUFBTUcsUUFBUSxHQUFHSCxPQUFPLENBQUMsbUJBQW1CLENBQUM7QUFDN0MsTUFBTTtFQUFFSSxJQUFJO0VBQUVDO0FBQWlCLENBQUMsR0FBR0wsT0FBTyxDQUFDLG1CQUFtQixDQUFDOztBQUUvRDtBQUNBLE1BQU1NLGNBQWMsR0FBR0EsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztFQUN6QztFQUNBLElBQUksQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDQyxRQUFRLENBQUNILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEVBQUU7SUFDbkQsT0FBT0YsSUFBSSxDQUFDLENBQUM7RUFDZjs7RUFFQTtFQUNBLElBQUlGLEdBQUcsQ0FBQ0ssT0FBTyxDQUFDLFdBQVcsQ0FBQyxFQUFFO0lBQzVCLE9BQU9ILElBQUksQ0FBQyxDQUFDO0VBQ2Y7O0VBRUE7RUFDQSxJQUFJRixHQUFHLENBQUNNLElBQUksQ0FBQ0gsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJSCxHQUFHLENBQUNNLElBQUksQ0FBQ0gsUUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUFFO0lBQ2pFLE9BQU9ELElBQUksQ0FBQyxDQUFDO0VBQ2Y7RUFFQSxNQUFNSyxLQUFLLEdBQUdQLEdBQUcsQ0FBQ0ssT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJTCxHQUFHLENBQUNILElBQUksQ0FBQ1csS0FBSztFQUMzRCxNQUFNQyxZQUFZLEdBQUdULEdBQUcsQ0FB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