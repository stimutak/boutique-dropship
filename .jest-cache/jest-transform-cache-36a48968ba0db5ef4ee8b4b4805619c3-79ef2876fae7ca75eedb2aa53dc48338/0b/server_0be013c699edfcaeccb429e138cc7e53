61f8907190942ebd6f0d46256c70ad1b
const express = require('express');
const mongoose = require('mongoose');
const cors = require('cors');
const helmet = require('helmet');
const rateLimit = require('express-rate-limit');
const session = require('express-session');
const MongoStore = require('connect-mongo');
const cookieParser = require('cookie-parser');
const path = require('path');
require('dotenv').config();

// Debug: Log environment variables
console.log('Environment variables loaded:');
console.log('NODE_ENV:', process.env.NODE_ENV);
console.log('PORT:', process.env.PORT);
console.log('JWT_SECRET exists:', !!process.env.JWT_SECRET);
console.log('JWT_SECRET length:', process.env.JWT_SECRET ? process.env.JWT_SECRET.length : 0);

// Validate critical environment variables at startup
if (!process.env.JWT_SECRET && process.env.NODE_ENV !== 'test') {
  console.error('FATAL ERROR: JWT_SECRET environment variable is not set. This is required for secure token generation.');
  process.exit(1);
}
if (!process.env.JWT_SECRET || process.env.JWT_SECRET.length < 32) {
  if (process.env.NODE_ENV !== 'test') {
    console.error('FATAL ERROR: JWT_SECRET must be at least 32 characters long for security.');
    console.error('Current JWT_SECRET length:', process.env.JWT_SECRET ? process.env.JWT_SECRET.length : 0);
    process.exit(1);
  }
}

// Import logging and error handling
const {
  logger
} = require('./utils/logger');
const {
  globalErrorHandler
} = require('./middleware/errorHandler');
const {
  i18nMiddleware
} = require('./utils/i18n');
const {
  errorResponse
} = require('./utils/errorHandler');
const {
  rateLimits,
  speedLimiter,
  sanitizeInput,
  securityHeaders
} = require('./middleware/security');
const app = express();

// Security middleware
app.use(helmet());
app.use(securityHeaders);
// Configure CORS with explicit settings for Docker environment
const corsOptions = {
  origin: function (origin, callback) {
    const allowedOrigins = process.env.ALLOWED_ORIGINS?.split(',') || ['http://localhost:3000', 'http://localhost:3001', 'http://localhost:3003', 'http://localhost:5173'];

    // Allow requests with no origin (like mobile apps or Postman)
    if (!origin) return callback(null, true);

    // Check if the origin is allowed
    if (allowedOrigins.indexOf(origin) !== -1) {
      callback(null, true);
    } else {
      console.warn('CORS blocked origin:', origin);
      callback(new Error('Not allowed by CORS'));
    }
  },
  credentials: true,
  methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],
  allowedHeaders: ['Content-Type', 'Authorization', 'x-csrf-token', 'x-guest-session-id', 'x-locale', 'x-currency', 'Cookie'],
  exposedHeaders: ['set-cookie']
};
app.use(cors(corsOptions));

// Input sanitization
app.use(sanitizeInput);

// General rate limiting
app.use(rateLimits.general);

// Speed limiting for brute force protection
app.use(speedLimiter);

// Import unified session/CSRF management
const {
  createSessionConfig,
  generateCSRFToken,
  validateCSRFToken,
  enhanceGuestSession,
  cleanupGuestSession
} = require('./middleware/sessionCSRF');

// Session middleware with unified config
const mongoUrl = process.env.MONGODB_URI || 'mongodb://localhost:27017/holistic-store';
app.use(session(createSessionConfig(mongoUrl)));

// Session enhancement middleware
app.use(generateCSRFToken);
app.use(enhanceGuestSession);
app.use(cleanupGuestSession);

// Body parsing middleware
app.use(express.json({
  limit: '10mb'
}));
app.use(express.urlencoded({
  extended: true
}));

// Cookie parser middleware
app.use(cookieParser());

// i18n middleware for error messages
app.use(i18nMiddleware);

// Error response helper middleware
app.use(errorResponse);

// Static files
app.use('/uploads', express.static('uploads'));
app.use(express.static('public'));

// Database connection
mongoose.connect(process.env.MONGODB_URI || 'mongodb://localhost:27017/holistic-store', {
  useNewUrlParser: true,
  useUnifiedTopology: true
}).then(() => {
  console.log('Connected to MongoDB');
}).catch(error => {
  console.warn('MongoDB connection failed:', error.message);
  console.warn('Running in development mode without database');
});

// Handle MongoDB connection events
mongoose.connection.on('error', error => {
  console.warn('MongoDB connection error:', error.message);
});
mongoose.connection.on('disconnected', () => {
  console.warn('MongoDB disconnected');
});

// Routes with specific rate limiting
app.use('/api/auth', rateLimits.auth, require('./routes/auth'));
app.use('/api/products', require('./routes/products'));
app.use('/api/cart', require('./routes/cart'));
app.use('/api/orders', require('./routes/orders'));
app.use('/api/payments', rateLimits.payment, require('./routes/payments'));
app.use('/api/wholesalers', require('./routes/wholesalers'));
app.use('/api/integration', rateLimits.integration, require('./routes/integration'));
app.use('/api/admin', rateLimits.admin, require('./routes/admin'));
app.use('/api/monitoring', require('./routes/monitoring'));

// Health check
app.get('/health', (req, res) => {
  res.json({
    status: 'OK',
    timestamp: new Date().toISOString()
  });
});

// CSRF token endpoint
app.get('/api/csrf-token', (req, res) => {
  res.json({
    success: true,
    csrfToken: req.session.csrfToken,
    sessionInfo: {
      isGuest: !req.user && !!req.session.guestId,
      hasCart: !!req.session.cart && !!req.session.cart.items && req.session.cart.items.length > 0
    }
  });
});

// Root route for API info
app.get('/', (req, res) => {
  res.json({
    message: 'Holistic Dropship Store API',
    version: '1.0.0',
    endpoints: {
      health: '/health',
      auth: '/api/auth',
      products: '/api/products',
      cart: '/api/cart',
      orders: '/api/orders',
      payments: '/api/payments'
    },
    frontend: process.env.FRONTEND_URL || 'http://localhost:3000'
  });
});

// Global error handling middleware (must be last)
app.use(globalErrorHandler);

// Serve React app in production
if (process.env.NODE_ENV === 'production') {
  app.get('*', (req, res) => {
    res.sendFile(path.join(__dirname, 'build', 'index.html'));
  });
}
const PORT = process.env.PORT || 5001;

// Only start server if not in test mode
if (process.env.NODE_ENV !== 'test') {
  app.listen(PORT, () => {
    logger.info(`Server running on port ${PORT}`);
  });
}

// Export app for testing
module.exports = app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIm1vbmdvb3NlIiwiY29ycyIsImhlbG1ldCIsInJhdGVMaW1pdCIsInNlc3Npb24iLCJNb25nb1N0b3JlIiwiY29va2llUGFyc2VyIiwicGF0aCIsImNvbmZpZyIsImNvbnNvbGUiLCJsb2ciLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJQT1JUIiwiSldUX1NFQ1JFVCIsImxlbmd0aCIsImVycm9yIiwiZXhpdCIsImxvZ2dlciIsImdsb2JhbEVycm9ySGFuZGxlciIsImkxOG5NaWRkbGV3YXJlIiwiZXJyb3JSZXNwb25zZSIsInJhdGVMaW1pdHMiLCJzcGVlZExpbWl0ZXIiLCJzYW5pdGl6ZUlucHV0Iiwic2VjdXJpdHlIZWFkZXJzIiwiYXBwIiwidXNlIiwiY29yc09wdGlvbnMiLCJvcmlnaW4iLCJjYWxsYmFjayIsImFsbG93ZWRPcmlnaW5zIiwiQUxMT1dFRF9PUklHSU5TIiwic3BsaXQiLCJpbmRleE9mIiwid2FybiIsIkVycm9yIiwiY3JlZGVudGlhbHMiLCJtZXRob2RzIiwiYWxsb3dlZEhlYWRlcnMiLCJleHBvc2VkSGVhZGVycyIsImdlbmVyYWwiLCJjcmVhdGVTZXNzaW9uQ29uZmlnIiwiZ2VuZXJhdGVDU1JGVG9rZW4iLCJ2YWxpZGF0ZUNTUkZUb2tlbiIsImVuaGFuY2VHdWVzdFNlc3Npb24iLCJjbGVhbnVwR3Vlc3RTZXNzaW9uIiwibW9uZ29VcmwiLCJNT05HT0RCX1VSSSIsImpzb24iLCJsaW1pdCIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInN0YXRpYyIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwiY2F0Y2giLCJtZXNzYWdlIiwiY29ubmVjdGlvbiIsIm9uIiwiYXV0aCIsInBheW1lbnQiLCJpbnRlZ3JhdGlvbiIsImFkbWluIiwiZ2V0IiwicmVxIiwicmVzIiwic3RhdHVzIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic3VjY2VzcyIsImNzcmZUb2tlbiIsInNlc3Npb25JbmZvIiwiaXNHdWVzdCIsInVzZXIiLCJndWVzdElkIiwiaGFzQ2FydCIsImNhcnQiLCJpdGVtcyIsInZlcnNpb24iLCJlbmRwb2ludHMiLCJoZWFsdGgiLCJwcm9kdWN0cyIsIm9yZGVycyIsInBheW1lbnRzIiwiZnJvbnRlbmQiLCJGUk9OVEVORF9VUkwiLCJzZW5kRmlsZSIsImpvaW4iLCJfX2Rpcm5hbWUiLCJsaXN0ZW4iLCJpbmZvIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xuY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xuY29uc3QgY29ycyA9IHJlcXVpcmUoJ2NvcnMnKTtcbmNvbnN0IGhlbG1ldCA9IHJlcXVpcmUoJ2hlbG1ldCcpO1xuY29uc3QgcmF0ZUxpbWl0ID0gcmVxdWlyZSgnZXhwcmVzcy1yYXRlLWxpbWl0Jyk7XG5jb25zdCBzZXNzaW9uID0gcmVxdWlyZSgnZXhwcmVzcy1zZXNzaW9uJyk7XG5jb25zdCBNb25nb1N0b3JlID0gcmVxdWlyZSgnY29ubmVjdC1tb25nbycpO1xuY29uc3QgY29va2llUGFyc2VyID0gcmVxdWlyZSgnY29va2llLXBhcnNlcicpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbnJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpO1xuXG4vLyBEZWJ1ZzogTG9nIGVudmlyb25tZW50IHZhcmlhYmxlc1xuY29uc29sZS5sb2coJ0Vudmlyb25tZW50IHZhcmlhYmxlcyBsb2FkZWQ6Jyk7XG5jb25zb2xlLmxvZygnTk9ERV9FTlY6JywgcHJvY2Vzcy5lbnYuTk9ERV9FTlYpO1xuY29uc29sZS5sb2coJ1BPUlQ6JywgcHJvY2Vzcy5lbnYuUE9SVCk7XG5jb25zb2xlLmxvZygnSldUX1NFQ1JFVCBleGlzdHM6JywgISFwcm9jZXNzLmVudi5KV1RfU0VDUkVUKTtcbmNvbnNvbGUubG9nKCdKV1RfU0VDUkVUIGxlbmd0aDonLCBwcm9jZXNzLmVudi5KV1RfU0VDUkVUID8gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVC5sZW5ndGggOiAwKTtcblxuLy8gVmFsaWRhdGUgY3JpdGljYWwgZW52aXJvbm1lbnQgdmFyaWFibGVzIGF0IHN0YXJ0dXBcbmlmICghcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ0ZBVEFMIEVSUk9SOiBKV1RfU0VDUkVUIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQuIFRoaXMgaXMgcmVxdWlyZWQgZm9yIHNlY3VyZSB0b2tlbiBnZW5lcmF0aW9uLicpO1xuICBwcm9jZXNzLmV4aXQoMSk7XG59XG5cbmlmICghcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCBwcm9jZXNzLmVudi5KV1RfU0VDUkVULmxlbmd0aCA8IDMyKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnKSB7XG4gICAgY29uc29sZS5lcnJvcignRkFUQUwgRVJST1I6IEpXVF9TRUNSRVQgbXVzdCBiZSBhdCBsZWFzdCAzMiBjaGFyYWN0ZXJzIGxvbmcgZm9yIHNlY3VyaXR5LicpO1xuICAgIGNvbnNvbGUuZXJyb3IoJ0N1cnJlbnQgSldUX1NFQ1JFVCBsZW5ndGg6JywgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCA/IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQubGVuZ3RoIDogMCk7XG4gICAgcHJvY2Vzcy5leGl0KDEpO1xuICB9XG59XG5cbi8vIEltcG9ydCBsb2dnaW5nIGFuZCBlcnJvciBoYW5kbGluZ1xuY29uc3QgeyBsb2dnZXIgfSA9IHJlcXVpcmUoJy4vdXRpbHMvbG9nZ2VyJyk7XG5jb25zdCB7IGdsb2JhbEVycm9ySGFuZGxlciB9ID0gcmVxdWlyZSgnLi9taWRkbGV3YXJlL2Vycm9ySGFuZGxlcicpO1xuY29uc3QgeyBpMThuTWlkZGxld2FyZSB9ID0gcmVxdWlyZSgnLi91dGlscy9pMThuJyk7XG5jb25zdCB7IGVycm9yUmVzcG9uc2UgfSA9IHJlcXVpcmUoJy4vdXRpbHMvZXJyb3JIYW5kbGVyJyk7XG5jb25zdCB7IFxuICByYXRlTGltaXRzLCBcbiAgc3BlZWRMaW1pdGVyLCBcbiAgc2FuaXRpemVJbnB1dCwgXG4gIHNlY3VyaXR5SGVhZGVycyBcbn0gPSByZXF1aXJlKCcuL21pZGRsZXdhcmUvc2VjdXJpdHknKTtcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG4vLyBTZWN1cml0eSBtaWRkbGV3YXJlXG5hcHAudXNlKGhlbG1ldCgpKTtcbmFwcC51c2Uoc2VjdXJpdHlIZWFkZXJzKTtcbi8vIENvbmZpZ3VyZSBDT1JTIHdpdGggZXhwbGljaXQgc2V0dGluZ3MgZm9yIERvY2tlciBlbnZpcm9ubWVudFxuY29uc3QgY29yc09wdGlvbnMgPSB7XG4gIG9yaWdpbjogZnVuY3Rpb24gKG9yaWdpbiwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBhbGxvd2VkT3JpZ2lucyA9IHByb2Nlc3MuZW52LkFMTE9XRURfT1JJR0lOUz8uc3BsaXQoJywnKSB8fCBbXG4gICAgICAnaHR0cDovL2xvY2FsaG9zdDozMDAwJyxcbiAgICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDEnLCBcbiAgICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDMnLFxuICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6NTE3MydcbiAgICBdO1xuICAgIFxuICAgIC8vIEFsbG93IHJlcXVlc3RzIHdpdGggbm8gb3JpZ2luIChsaWtlIG1vYmlsZSBhcHBzIG9yIFBvc3RtYW4pXG4gICAgaWYgKCFvcmlnaW4pIHJldHVybiBjYWxsYmFjayhudWxsLCB0cnVlKTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiB0aGUgb3JpZ2luIGlzIGFsbG93ZWRcbiAgICBpZiAoYWxsb3dlZE9yaWdpbnMuaW5kZXhPZihvcmlnaW4pICE9PSAtMSkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybignQ09SUyBibG9ja2VkIG9yaWdpbjonLCBvcmlnaW4pO1xuICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdOb3QgYWxsb3dlZCBieSBDT1JTJykpO1xuICAgIH1cbiAgfSxcbiAgY3JlZGVudGlhbHM6IHRydWUsXG4gIG1ldGhvZHM6IFsnR0VUJywgJ1BPU1QnLCAnUFVUJywgJ0RFTEVURScsICdPUFRJT05TJ10sXG4gIGFsbG93ZWRIZWFkZXJzOiBbJ0NvbnRlbnQtVHlwZScsICdBdXRob3JpemF0aW9uJywgJ3gtY3NyZi10b2tlbicsICd4LWd1ZXN0LXNlc3Npb24taWQnLCAneC1sb2NhbGUnLCAneC1jdXJyZW5jeScsICdDb29raWUnXSxcbiAgZXhwb3NlZEhlYWRlcnM6IFsnc2V0LWNvb2tpZSddXG59O1xuXG5hcHAudXNlKGNvcnMoY29yc09wdGlvbnMpKTtcblxuLy8gSW5wdXQgc2FuaXRpemF0aW9uXG5hcHAudXNlKHNhbml0aXplSW5wdXQpO1xuXG4vLyBHZW5lcmFsIHJhdGUgbGltaXRpbmdcbmFwcC51c2UocmF0ZUxpbWl0cy5nZW5lcmFsKTtcblxuLy8gU3BlZWQgbGltaXRpbmcgZm9yIGJydXRlIGZvcmNlIHByb3RlY3Rpb25cbmFwcC51c2Uoc3BlZWRMaW1pdGVyKTtcblxuLy8gSW1wb3J0IHVuaWZpZWQgc2Vzc2lvbi9DU1JGIG1hbmFnZW1lbnRcbmNvbnN0IHsgXG4gIGNyZWF0ZVNlc3Npb25Db25maWcsIFxuICBnZW5lcmF0ZUNTUkZUb2tlbixcbiAgdmFsaWRhdGVDU1JGVG9rZW4sXG4gIGVuaGFuY2VHdWVzdFNlc3Npb24sXG4gIGNsZWFudXBHdWVzdFNlc3Npb24gXG59ID0gcmVxdWlyZSgnLi9taWRkbGV3YXJlL3Nlc3Npb25DU1JGJyk7XG5cbi8vIFNlc3Npb24gbWlkZGxld2FyZSB3aXRoIHVuaWZpZWQgY29uZmlnXG5jb25zdCBtb25nb1VybCA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJIHx8ICdtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L2hvbGlzdGljLXN0b3JlJztcbmFwcC51c2Uoc2Vzc2lvbihjcmVhdGVTZXNzaW9uQ29uZmlnKG1vbmdvVXJsKSkpO1xuXG4vLyBTZXNzaW9uIGVuaGFuY2VtZW50IG1pZGRsZXdhcmVcbmFwcC51c2UoZ2VuZXJhdGVDU1JGVG9rZW4pO1xuYXBwLnVzZShlbmhhbmNlR3Vlc3RTZXNzaW9uKTtcbmFwcC51c2UoY2xlYW51cEd1ZXN0U2Vzc2lvbik7XG5cbi8vIEJvZHkgcGFyc2luZyBtaWRkbGV3YXJlXG5hcHAudXNlKGV4cHJlc3MuanNvbih7IGxpbWl0OiAnMTBtYicgfSkpO1xuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG5cbi8vIENvb2tpZSBwYXJzZXIgbWlkZGxld2FyZVxuYXBwLnVzZShjb29raWVQYXJzZXIoKSk7XG5cbi8vIGkxOG4gbWlkZGxld2FyZSBmb3IgZXJyb3IgbWVzc2FnZXNcbmFwcC51c2UoaTE4bk1pZGRsZXdhcmUpO1xuXG4vLyBFcnJvciByZXNwb25zZSBoZWxwZXIgbWlkZGxld2FyZVxuYXBwLnVzZShlcnJvclJlc3BvbnNlKTtcblxuLy8gU3RhdGljIGZpbGVzXG5hcHAudXNlKCcvdXBsb2FkcycsIGV4cHJlc3Muc3RhdGljKCd1cGxvYWRzJykpO1xuYXBwLnVzZShleHByZXNzLnN0YXRpYygncHVibGljJykpO1xuXG4vLyBEYXRhYmFzZSBjb25uZWN0aW9uXG5tb25nb29zZS5jb25uZWN0KHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJIHx8ICdtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L2hvbGlzdGljLXN0b3JlJywge1xuICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG4gIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcbn0pLnRoZW4oKCkgPT4ge1xuICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIE1vbmdvREInKTtcbn0pLmNhdGNoKChlcnJvcikgPT4ge1xuICBjb25zb2xlLndhcm4oJ01vbmdvREIgY29ubmVjdGlvbiBmYWlsZWQ6JywgZXJyb3IubWVzc2FnZSk7XG4gIGNvbnNvbGUud2FybignUnVubmluZyBpbiBkZXZlbG9wbWVudCBtb2RlIHdpdGhvdXQgZGF0YWJhc2UnKTtcbn0pO1xuXG4vLyBIYW5kbGUgTW9uZ29EQiBjb25uZWN0aW9uIGV2ZW50c1xubW9uZ29vc2UuY29ubmVjdGlvbi5vbignZXJyb3InLCAoZXJyb3IpID0+IHtcbiAgY29uc29sZS53YXJuKCdNb25nb0RCIGNvbm5lY3Rpb24gZXJyb3I6JywgZXJyb3IubWVzc2FnZSk7XG59KTtcblxubW9uZ29vc2UuY29ubmVjdGlvbi5vbignZGlzY29ubmVjdGVkJywgKCkgPT4ge1xuICBjb25zb2xlLndhcm4oJ01vbmdvREIgZGlzY29ubmVjdGVkJyk7XG59KTtcblxuLy8gUm91dGVzIHdpdGggc3BlY2lmaWMgcmF0ZSBsaW1pdGluZ1xuYXBwLnVzZSgnL2FwaS9hdXRoJywgcmF0ZUxpbWl0cy5hdXRoLCByZXF1aXJlKCcuL3JvdXRlcy9hdXRoJykpO1xuYXBwLnVzZSgnL2FwaS9wcm9kdWN0cycsIHJlcXVpcmUoJy4vcm91dGVzL3Byb2R1Y3RzJykpO1xuYXBwLnVzZSgnL2FwaS9jYXJ0JywgcmVxdWlyZSgnLi9yb3V0ZXMvY2FydCcpKTtcbmFwcC51c2UoJy9hcGkvb3JkZXJzJywgcmVxdWlyZSgnLi9yb3V0ZXMvb3JkZXJzJykpO1xuYXBwLnVzZSgnL2FwaS9wYXltZW50cycsIHJhdGVMaW1pdHMucGF5bWVudCwgcmVxdWlyZSgnLi9yb3V0ZXMvcGF5bWVudHMnKSk7XG5hcHAudXNlKCcvYXBpL3dob2xlc2FsZXJzJywgcmVxdWlyZSgnLi9yb3V0ZXMvd2hvbGVzYWxlcnMnKSk7XG5hcHAudXNlKCcvYXBpL2ludGVncmF0aW9uJywgcmF0ZUxpbWl0cy5pbnRlZ3JhdGlvbiwgcmVxdWlyZSgnLi9yb3V0ZXMvaW50ZWdyYXRpb24nKSk7XG5hcHAudXNlKCcvYXBpL2FkbWluJywgcmF0ZUxpbWl0cy5hZG1pbiwgcmVxdWlyZSgnLi9yb3V0ZXMvYWRtaW4nKSk7XG5hcHAudXNlKCcvYXBpL21vbml0b3JpbmcnLCByZXF1aXJlKCcuL3JvdXRlcy9tb25pdG9yaW5nJykpO1xuXG4vLyBIZWFsdGggY2hlY2tcbmFwcC5nZXQoJy9oZWFsdGgnLCAocmVxLCByZXMpID0+IHtcbiAgcmVzLmpzb24oeyBzdGF0dXM6ICdPSycsIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pO1xufSk7XG5cbi8vIENTUkYgdG9rZW4gZW5kcG9pbnRcbmFwcC5nZXQoJy9hcGkvY3NyZi10b2tlbicsIChyZXEsIHJlcykgPT4ge1xuICByZXMuanNvbih7IFxuICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgY3NyZlRva2VuOiByZXEuc2Vzc2lvbi5jc3JmVG9rZW4sXG4gICAgc2Vzc2lvbkluZm86IHtcbiAgICAgIGlzR3Vlc3Q6ICFyZXEudXNlciAmJiAhIXJlcS5zZXNzaW9uLmd1ZXN0SWQsXG4gICAgICBoYXNDYXJ0OiAhIXJlcS5zZXNzaW9uLmNhcnQgJiYgISFyZXEuc2Vzc2lvbi5jYXJ0Lml0ZW1zICYmIHJlcS5zZXNzaW9uLmNhcnQuaXRlbXMubGVuZ3RoID4gMFxuICAgIH1cbiAgfSk7XG59KTtcblxuLy8gUm9vdCByb3V0ZSBmb3IgQVBJIGluZm9cbmFwcC5nZXQoJy8nLCAocmVxLCByZXMpID0+IHtcbiAgcmVzLmpzb24oe1xuICAgIG1lc3NhZ2U6ICdIb2xpc3RpYyBEcm9wc2hpcCBTdG9yZSBBUEknLFxuICAgIHZlcnNpb246ICcxLjAuMCcsXG4gICAgZW5kcG9pbnRzOiB7XG4gICAgICBoZWFsdGg6ICcvaGVhbHRoJyxcbiAgICAgIGF1dGg6ICcvYXBpL2F1dGgnLFxuICAgICAgcHJvZHVjdHM6ICcvYXBpL3Byb2R1Y3RzJyxcbiAgICAgIGNhcnQ6ICcvYXBpL2NhcnQnLFxuICAgICAgb3JkZXJzOiAnL2FwaS9vcmRlcnMnLFxuICAgICAgcGF5bWVudHM6ICcvYXBpL3BheW1lbnRzJ1xuICAgIH0sXG4gICAgZnJvbnRlbmQ6IHByb2Nlc3MuZW52LkZST05URU5EX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDozMDAwJ1xuICB9KTtcbn0pO1xuXG4vLyBHbG9iYWwgZXJyb3IgaGFuZGxpbmcgbWlkZGxld2FyZSAobXVzdCBiZSBsYXN0KVxuYXBwLnVzZShnbG9iYWxFcnJvckhhbmRsZXIpO1xuXG4vLyBTZXJ2ZSBSZWFjdCBhcHAgaW4gcHJvZHVjdGlvblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgYXBwLmdldCgnKicsIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5zZW5kRmlsZShwYXRoLmpvaW4oX19kaXJuYW1lLCAnYnVpbGQnLCAnaW5kZXguaHRtbCcpKTtcbiAgfSk7XG59XG5cbmNvbnN0IFBPUlQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDUwMDE7XG5cbi8vIE9ubHkgc3RhcnQgc2VydmVyIGlmIG5vdCBpbiB0ZXN0IG1vZGVcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnKSB7XG4gIGFwcC5saXN0ZW4oUE9SVCwgKCkgPT4ge1xuICAgIGxvZ2dlci5pbmZvKGBTZXJ2ZXIgcnVubmluZyBvbiBwb3J0ICR7UE9SVH1gKTtcbiAgfSk7XG59XG5cbi8vIEV4cG9ydCBhcHAgZm9yIHRlc3Rpbmdcbm1vZHVsZS5leHBvcnRzID0gYXBwOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLFFBQVEsR0FBR0QsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNwQyxNQUFNRSxJQUFJLEdBQUdGLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDNUIsTUFBTUcsTUFBTSxHQUFHSCxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ2hDLE1BQU1JLFNBQVMsR0FBR0osT0FBTyxDQUFDLG9CQUFvQixDQUFDO0FBQy9DLE1BQU1LLE9BQU8sR0FBR0wsT0FBTyxDQUFDLGlCQUFpQixDQUFDO0FBQzFDLE1BQU1NLFVB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