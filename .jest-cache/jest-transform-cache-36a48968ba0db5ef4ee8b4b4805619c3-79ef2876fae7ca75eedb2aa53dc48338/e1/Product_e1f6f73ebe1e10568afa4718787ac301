068381ddb6dc2599adc3ffb2eab51820
const mongoose = require('mongoose');
const productSchema = new mongoose.Schema({
  name: {
    type: String,
    required: true,
    trim: true,
    index: true
  },
  slug: {
    type: String,
    required: true,
    unique: true,
    lowercase: true
  },
  description: {
    type: String,
    required: true
  },
  shortDescription: {
    type: String,
    required: true,
    maxlength: 200
  },
  price: {
    type: Number,
    required: true,
    min: 0
  },
  compareAtPrice: {
    type: Number,
    min: 0
  },
  images: [{
    url: {
      type: String,
      required: true
    },
    alt: {
      type: String,
      required: true
    },
    isPrimary: {
      type: Boolean,
      default: false
    }
  }],
  category: {
    type: String,
    required: true,
    enum: ['crystals', 'herbs', 'oils', 'supplements', 'books', 'accessories', 'other']
  },
  tags: [String],
  properties: {
    chakra: [String],
    element: [String],
    zodiac: [String],
    healing: [String],
    origin: String,
    size: String,
    weight: String
  },
  wholesaler: {
    name: {
      type: String,
      required: true
    },
    email: {
      type: String,
      required: true
    },
    productCode: {
      type: String,
      required: true
    },
    cost: {
      type: Number,
      required: true
    },
    minOrderQty: {
      type: Number,
      default: 1
    }
  },
  seo: {
    title: String,
    description: String,
    keywords: [String]
  },
  isActive: {
    type: Boolean,
    default: true
  },
  isFeatured: {
    type: Boolean,
    default: false
  },
  crossSiteIntegration: {
    enabled: {
      type: Boolean,
      default: true
    },
    referenceKey: String,
    // For linking from sister sites
    relatedContent: [String] // URLs or content IDs from sister sites
  }
}, {
  timestamps: true
});

// Indexes for performance
productSchema.index({
  name: 'text',
  description: 'text',
  tags: 'text'
});
productSchema.index({
  category: 1,
  isActive: 1
});
productSchema.index({
  slug: 1
});
productSchema.index({
  'crossSiteIntegration.referenceKey': 1
});
productSchema.index({
  tags: 1
});
productSchema.index({
  isFeatured: 1,
  isActive: 1
});
productSchema.index({
  price: 1,
  isActive: 1
});
productSchema.index({
  'properties.chakra': 1,
  isActive: 1
});
productSchema.index({
  createdAt: -1,
  isActive: 1
});

// Method to get public product data (excludes wholesaler info)
productSchema.methods.toPublicJSON = function () {
  const product = this.toObject();
  delete product.wholesaler;
  return product;
};

// Static method to get products for public API
productSchema.statics.findPublic = function (query = {}) {
  return this.find({
    ...query,
    isActive: true
  }).select('-wholesaler');
};

// Method to get cross-site integration data
productSchema.methods.getCrossSiteData = function () {
  return {
    _id: this._id,
    name: this.name,
    slug: this.slug,
    shortDescription: this.shortDescription,
    price: this.price,
    compareAtPrice: this.compareAtPrice,
    images: this.images,
    category: this.category,
    properties: this.properties,
    seo: this.seo,
    crossSiteIntegration: this.crossSiteIntegration
  };
};

// Validation for cross-site integration
productSchema.pre('save', function (next) {
  if (this.crossSiteIntegration.enabled && !this.crossSiteIntegration.referenceKey) {
    this.crossSiteIntegration.referenceKey = this.slug;
  }
  next();
});
module.exports = mongoose.model('Product', productSchema);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJwcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInRyaW0iLCJpbmRleCIsInNsdWciLCJ1bmlxdWUiLCJsb3dlcmNhc2UiLCJkZXNjcmlwdGlvbiIsInNob3J0RGVzY3JpcHRpb24iLCJtYXhsZW5ndGgiLCJwcmljZSIsIk51bWJlciIsIm1pbiIsImNvbXBhcmVBdFByaWNlIiwiaW1hZ2VzIiwidXJsIiwiYWx0IiwiaXNQcmltYXJ5IiwiQm9vbGVhbiIsImRlZmF1bHQiLCJjYXRlZ29yeSIsImVudW0iLCJ0YWdzIiwicHJvcGVydGllcyIsImNoYWtyYSIsImVsZW1lbnQiLCJ6b2RpYWMiLCJoZWFsaW5nIiwib3JpZ2luIiwic2l6ZSIsIndlaWdodCIsIndob2xlc2FsZXIiLCJlbWFpbCIsInByb2R1Y3RDb2RlIiwiY29zdCIsIm1pbk9yZGVyUXR5Iiwic2VvIiwidGl0bGUiLCJrZXl3b3JkcyIsImlzQWN0aXZlIiwiaXNGZWF0dXJlZCIsImNyb3NzU2l0ZUludGVncmF0aW9uIiwiZW5hYmxlZCIsInJlZmVyZW5jZUtleSIsInJlbGF0ZWRDb250ZW50IiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsIm1ldGhvZHMiLCJ0b1B1YmxpY0pTT04iLCJwcm9kdWN0IiwidG9PYmplY3QiLCJzdGF0aWNzIiwiZmluZFB1YmxpYyIsInF1ZXJ5IiwiZmluZCIsInNlbGVjdCIsImdldENyb3NzU2l0ZURhdGEiLCJfaWQiLCJwcmUiLCJuZXh0IiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5cbmNvbnN0IHByb2R1Y3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgbmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB0cmltOiB0cnVlLFxuICAgIGluZGV4OiB0cnVlXG4gIH0sXG4gIHNsdWc6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgdW5pcXVlOiB0cnVlLFxuICAgIGxvd2VyY2FzZTogdHJ1ZVxuICB9LFxuICBkZXNjcmlwdGlvbjoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZVxuICB9LFxuICBzaG9ydERlc2NyaXB0aW9uOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIG1heGxlbmd0aDogMjAwXG4gIH0sXG4gIHByaWNlOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIG1pbjogMFxuICB9LFxuICBjb21wYXJlQXRQcmljZToge1xuICAgIHR5cGU6IE51bWJlcixcbiAgICBtaW46IDBcbiAgfSxcbiAgaW1hZ2VzOiBbe1xuICAgIHVybDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgYWx0OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBpc1ByaW1hcnk6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfVxuICB9XSxcbiAgY2F0ZWdvcnk6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgZW51bTogWydjcnlzdGFscycsICdoZXJicycsICdvaWxzJywgJ3N1cHBsZW1lbnRzJywgJ2Jvb2tzJywgJ2FjY2Vzc29yaWVzJywgJ290aGVyJ11cbiAgfSxcbiAgdGFnczogW1N0cmluZ10sXG4gIHByb3BlcnRpZXM6IHtcbiAgICBjaGFrcmE6IFtTdHJpbmddLFxuICAgIGVsZW1lbnQ6IFtTdHJpbmddLFxuICAgIHpvZGlhYzogW1N0cmluZ10sXG4gICAgaGVhbGluZzogW1N0cmluZ10sXG4gICAgb3JpZ2luOiBTdHJpbmcsXG4gICAgc2l6ZTogU3RyaW5nLFxuICAgIHdlaWdodDogU3RyaW5nXG4gIH0sXG4gIHdob2xlc2FsZXI6IHtcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBlbWFpbDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcHJvZHVjdENvZGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGNvc3Q6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIG1pbk9yZGVyUXR5OiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMSB9XG4gIH0sXG4gIHNlbzoge1xuICAgIHRpdGxlOiBTdHJpbmcsXG4gICAgZGVzY3JpcHRpb246IFN0cmluZyxcbiAgICBrZXl3b3JkczogW1N0cmluZ11cbiAgfSxcbiAgaXNBY3RpdmU6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgaXNGZWF0dXJlZDoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogZmFsc2VcbiAgfSxcbiAgY3Jvc3NTaXRlSW50ZWdyYXRpb246IHtcbiAgICBlbmFibGVkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWUgfSxcbiAgICByZWZlcmVuY2VLZXk6IFN0cmluZywgLy8gRm9yIGxpbmtpbmcgZnJvbSBzaXN0ZXIgc2l0ZXNcbiAgICByZWxhdGVkQ29udGVudDogW1N0cmluZ10gLy8gVVJMcyBvciBjb250ZW50IElEcyBmcm9tIHNpc3RlciBzaXRlc1xuICB9XG59LCB7XG4gIHRpbWVzdGFtcHM6IHRydWVcbn0pO1xuXG4vLyBJbmRleGVzIGZvciBwZXJmb3JtYW5jZVxucHJvZHVjdFNjaGVtYS5pbmRleCh7IG5hbWU6ICd0ZXh0JywgZGVzY3JpcHRpb246ICd0ZXh0JywgdGFnczogJ3RleHQnIH0pO1xucHJvZHVjdFNjaGVtYS5pbmRleCh7IGNhdGVnb3J5OiAxLCBpc0FjdGl2ZTogMSB9KTtcbnByb2R1Y3RTY2hlbWEuaW5kZXgoeyBzbHVnOiAxIH0pO1xucHJvZHVjdFNjaGVtYS5pbmRleCh7ICdjcm9zc1NpdGVJbnRlZ3JhdGlvbi5yZWZlcmVuY2VLZXknOiAxIH0pO1xucHJvZHVjdFNjaGVtYS5pbmRleCh7IHRhZ3M6IDEgfSk7XG5wcm9kdWN0U2NoZW1hLmluZGV4KHsgaXNGZWF0dXJlZDogMSwgaXNBY3RpdmU6IDEgfSk7XG5wcm9kdWN0U2NoZW1hLmluZGV4KHsgcHJpY2U6IDEsIGlzQWN0aXZlOiAxIH0pO1xucHJvZHVjdFNjaGVtYS5pbmRleCh7ICdwcm9wZXJ0aWVzLmNoYWtyYSc6IDEsIGlzQWN0aXZlOiAxIH0pO1xucHJvZHVjdFNjaGVtYS5pbmRleCh7IGNyZWF0ZWRBdDogLTEsIGlzQWN0aXZlOiAxIH0pO1xuXG4vLyBNZXRob2QgdG8gZ2V0IHB1YmxpYyBwcm9kdWN0IGRhdGEgKGV4Y2x1ZGVzIHdob2xlc2FsZXIgaW5mbylcbnByb2R1Y3RTY2hlbWEubWV0aG9kcy50b1B1YmxpY0pTT04gPSBmdW5jdGlvbigpIHtcbiAgY29uc3QgcHJvZHVjdCA9IHRoaXMudG9PYmplY3QoKTtcbiAgZGVsZXRlIHByb2R1Y3Qud2hvbGVzYWxlcjtcbiAgcmV0dXJuIHByb2R1Y3Q7XG59O1xuXG4vLyBTdGF0aWMgbWV0aG9kIHRvIGdldCBwcm9kdWN0cyBmb3IgcHVibGljIEFQSVxucHJvZHVjdFNjaGVtYS5zdGF0aWNzLmZpbmRQdWJsaWMgPSBmdW5jdGlvbihxdWVyeSA9IHt9KSB7XG4gIHJldHVybiB0aGlzLmZpbmQoeyAuLi5xdWVyeSwgaXNBY3RpdmU6IHRydWUgfSkuc2VsZWN0KCctd2hvbGVzYWxlcicpO1xufTtcblxuLy8gTWV0aG9kIHRvIGdldCBjcm9zcy1zaXRlIGludGVncmF0aW9uIGRhdGFcbnByb2R1Y3RTY2hlbWEubWV0aG9kcy5nZXRDcm9zc1NpdGVEYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgX2lkOiB0aGlzLl9pZCxcbiAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgc2x1ZzogdGhpcy5zbHVnLFxuICAgIHNob3J0RGVzY3JpcHRpb246IHRoaXMuc2hvcnREZXNjcmlwdGlvbixcbiAgICBwcmljZTogdGhpcy5wcmljZSxcbiAgICBjb21wYXJlQXRQcmljZTogdGhpcy5jb21wYXJlQXRQcmljZSxcbiAgICBpbWFnZXM6IHRoaXMuaW1hZ2VzLFxuICAgIGNhdGVnb3J5OiB0aGlzLmNhdGVnb3J5LFxuICAgIHByb3BlcnRpZXM6IHRoaXMucHJvcGVydGllcyxcbiAgICBzZW86IHRoaXMuc2VvLFxuICAgIGNyb3NzU2l0ZUludGVncmF0aW9uOiB0aGlzLmNyb3NzU2l0ZUludGVncmF0aW9uXG4gIH07XG59O1xuXG4vLyBWYWxpZGF0aW9uIGZvciBjcm9zcy1zaXRlIGludGVncmF0aW9uXG5wcm9kdWN0U2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uKG5leHQpIHtcbiAgaWYgKHRoaXMuY3Jvc3NTaXRlSW50ZWdyYXRpb24uZW5hYmxlZCAmJiAhdGhpcy5jcm9zc1NpdGVJbnRlZ3JhdGlvbi5yZWZlcmVuY2VLZXkpIHtcbiAgICB0aGlzLmNyb3NzU2l0ZUludGVncmF0aW9uLnJlZmVyZW5jZUtleSA9IHRoaXMuc2x1ZztcbiAgfVxuICBuZXh0KCk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBtb25nb29zZS5tb2RlbCgnUHJvZHVjdCcsIHByb2R1Y3RTY2hlbWEpOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBRXBDLE1BQU1DLGFBQWEsR0FBRyxJQUFJRixRQUFRLENBQUNHLE1BQU0sQ0FBQztFQUN4Q0MsSUFBSSxFQUFFO0lBQ0pDLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUUsSUFBSTtJQUNkQyxJQUFJLEVBQUUsSUFBSTtJQUNWQyxLQUFLLEVBQUU7RUFDVCxDQUFDO0VBQ0RDLElBQUksRUFBRTtJQUNKTCxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFF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