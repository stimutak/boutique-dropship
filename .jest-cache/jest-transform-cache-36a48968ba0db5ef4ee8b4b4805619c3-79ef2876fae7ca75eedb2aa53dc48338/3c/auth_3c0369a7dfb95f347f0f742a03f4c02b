dd704d7b070d4d91240852c48312e1a9
const express = require('express');
const router = express.Router();
const jwt = require('jsonwebtoken');
const crypto = require('crypto');
const {
  body,
  validationResult
} = require('express-validator');
const User = require('../models/User');
const {
  requireAuth,
  authenticateToken
} = require('../middleware/auth');
const {
  validateCSRFToken
} = require('../middleware/sessionCSRF');
const {
  AppError
} = require('../middleware/errorHandler');
const {
  ErrorCodes
} = require('../utils/errorHandler');

// Generate JWT token
const generateToken = userId => {
  return jwt.sign({
    userId
  }, process.env.JWT_SECRET, {
    expiresIn: '7d'
  });
};

// Validation middleware for registration
const validateRegistration = [body('email').isEmail().normalizeEmail().withMessage('Valid email is required'), body('password').isLength({
  min: 6
}).withMessage('Password must be at least 6 characters long'), body('firstName').trim().isLength({
  min: 1,
  max: 50
}).withMessage('First name is required and must be less than 50 characters'), body('lastName').trim().isLength({
  min: 1,
  max: 50
}).withMessage('Last name is required and must be less than 50 characters'), body('phone').optional().isString().isLength({
  min: 7,
  max: 30
}).withMessage('Phone number must be between 7 and 30 characters')];

// Validation middleware for login
const validateLogin = [body('email').isEmail().normalizeEmail().withMessage('Valid email is required'), body('password').notEmpty().withMessage('Password is required')];

// Validation for forgot password
const validateForgotPassword = [body('email').isEmail().normalizeEmail().withMessage('Valid email is required')];

// Validation for reset password
const validateResetPassword = [body('token').notEmpty().withMessage('Reset token is required'), body('password').isLength({
  min: 6
}).withMessage('Password must be at least 6 characters long')];

// Register new user
router.post('/register', validateRegistration, async (req, res) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.validationError(errors);
    }
    const {
      email,
      password,
      firstName,
      lastName,
      phone,
      preferences
    } = req.body;

    // Check if user already exists
    const existingUser = await User.findOne({
      email
    });
    if (existingUser) {
      return res.error(409, ErrorCodes.USER_EXISTS, 'User with this email already exists');
    }

    // Create new user
    const userData = {
      email,
      password,
      firstName,
      lastName,
      phone,
      preferences: preferences || {}
    };
    const user = await User.create(userData);
    const token = generateToken(user._id);

    // Update last login
    user.lastLogin = new Date();
    await user.save();

    // Send welcome email
    try {
      if (user.wantsEmail('welcomeEmails')) {
        const {
          sendWelcomeEmail
        } = require('../utils/emailService');
        const welcomeData = {
          firstName: user.firstName,
          email: user.email
        };
        const emailResult = await sendWelcomeEmail(user.email, welcomeData);
        if (!emailResult.success) {
          console.error('Failed to send welcome email:', emailResult.error);
        }
      }
    } catch (emailError) {
      console.error('Error sending welcome email:', emailError);
    }

    // Set token as httpOnly cookie for security
    res.cookie('token', token, {
      httpOnly: true,
      secure: process.env.NODE_ENV === 'production',
      sameSite: 'strict',
      maxAge: 7 * 24 * 60 * 60 * 1000,
      // 7 days
      path: '/'
    });
    res.status(201).json({
      success: true,
      message: 'User registered successfully',
      data: {
        token,
        // Still send token for backward compatibility during migration
        user: user.toPublicJSON()
      }
    });
  } catch (error) {
    console.error('Registration error:', error);
    res.error(500, ErrorCodes.REGISTRATION_ERROR, 'Failed to register user');
  }
});

// Login user with enhanced cart merging
router.post('/login', validateLogin, async (req, res) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.validationError(errors);
    }
    const {
      email,
      password,
      guestCartItems
    } = req.body;

    // Find user
    const user = await User.findOne({
      email
    });
    if (!user) {
      return res.error(401, ErrorCodes.INVALID_CREDENTIALS, 'Invalid email or password');
    }

    // Check password
    const isMatch = await user.comparePassword(password);
    if (!isMatch) {
      return res.error(401, ErrorCodes.INVALID_CREDENTIALS, 'Invalid email or password');
    }

    // Check if user is active
    if (!user.isActive) {
      return res.error(403, ErrorCodes.ACCOUNT_DISABLED, 'Your account has been disabled');
    }

    // Generate token
    const token = generateToken(user._id);

    // Update last login
    user.lastLogin = new Date();
    await user.save();

    // Cart info (simplified after removing cartService)
    let cartInfo = {
      itemCount: 0,
      mergedItems: 0
    };

    // Guest cart merging would happen on the frontend after login

    // Set token as httpOnly cookie for security
    res.cookie('token', token, {
      httpOnly: true,
      secure: process.env.NODE_ENV === 'production',
      sameSite: 'strict',
      maxAge: 7 * 24 * 60 * 60 * 1000,
      // 7 days
      path: '/'
    });
    res.json({
      success: true,
      message: 'Login successful',
      data: {
        token,
        // Still send token for backward compatibility during migration
        user: user.toPublicJSON(),
        cart: cartInfo
      }
    });
  } catch (error) {
    console.error('Login error:', error);
    res.error(500, ErrorCodes.LOGIN_ERROR, 'Failed to login');
  }
});

// Forgot password - Fixed timing attack vulnerability
router.post('/forgot-password', validateForgotPassword, async (req, res) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.validationError(errors);
    }
    const {
      email
    } = req.body;

    // Always execute the same operations to prevent timing attacks
    let user, resetToken, resetTokenHash;

    // Find user
    user = await User.findOne({
      email
    });

    // Always generate a token (even if user doesn't exist) to normalize timing
    resetToken = crypto.randomBytes(32).toString('hex');
    resetTokenHash = crypto.createHash('sha256').update(resetToken).digest('hex');

    // If user exists, save the reset token and send email
    if (user) {
      // Save reset token and expiry
      user.passwordResetToken = resetTokenHash;
      user.passwordResetExpiry = Date.now() + 3600000; // 1 hour
      await user.save();

      // Send reset email
      try {
        const {
          sendPasswordResetEmail
        } = require('../utils/emailService');
        const resetUrl = `${process.env.FRONTEND_URL || 'http://localhost:3000'}/reset-password?token=${resetToken}`;
        const emailResult = await sendPasswordResetEmail(user.email, {
          firstName: user.firstName,
          resetToken,
          resetUrl
        });
        if (!emailResult.success) {
          console.error('Failed to send reset email:', emailResult.error);
        }

        // Log reset URL for development when email is not configured
        if (emailResult.message === 'Email skipped - not configured') {
          console.log('\n========================================');
          console.log('PASSWORD RESET URL (Email not configured)');
          console.log('========================================');
          console.log(`User: ${user.email}`);
          console.log(`Reset URL: ${resetUrl}`);
          console.log('========================================\n');
        }
      } catch (emailError) {
        console.error('Error sending reset email:', emailError);
      }
    } else {
      // If user doesn't exist, still perform the same cryptographic operations
      // and simulate sending an email to normalize response time
      await new Promise(resolve => setTimeout(resolve, Math.random() * 100 + 50));
    }

    // Always return the same response regardless of whether user exists
    res.json({
      success: true,
      message: 'If an account exists with this email, a password reset link will be sent.'
    });
  } catch (error) {
    console.error('Forgot password error:', error);
    res.error(500, ErrorCodes.FORGOT_PASSWORD_ERROR, 'Failed to process password reset request');
  }
});

// Reset password
router.post('/reset-password', validateResetPassword, async (req, res) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.validationError(errors);
    }
    const {
      token,
      password
    } = req.body;

    // Hash the token to match stored version
    const resetTokenHash = crypto.createHash('sha256').update(token).digest('hex');

    // Find user with valid reset token
    const user = await User.findOne({
      passwordResetToken: resetTokenHash,
      passwordResetExpiry: {
        $gt: Date.now()
      }
    });
    if (!user) {
      return res.error(400, ErrorCodes.INVALID_RESET_TOKEN, 'Password reset token is invalid or has expired');
    }

    // Update password
    user.password = password;
    user.passwordResetToken = undefined;
    user.passwordResetExpiry = undefined;
    await user.save();

    // Generate new auth token
    const authToken = generateToken(user._id);
    res.json({
      success: true,
      message: 'Password has been reset successfully',
      token: authToken,
      user: user.toPublicJSON()
    });
  } catch (error) {
    console.error('Reset password error:', error);
    res.error(500, ErrorCodes.RESET_PASSWORD_ERROR, 'Failed to reset password');
  }
});

// Verify token from cookie (for auth persistence check)
router.get('/verify', authenticateToken, async (req, res) => {
  try {
    // If authenticateToken middleware passed, user is authenticated
    if (!req.user) {
      return res.error(401, ErrorCodes.AUTHENTICATION_REQUIRED, 'Not authenticated');
    }

    // Get fresh user data
    const user = await User.findById(req.user._id).select('-password');
    if (!user || !user.isActive) {
      return res.error(401, ErrorCodes.USER_NOT_FOUND, 'User not found or inactive');
    }
    res.json({
      success: true,
      data: {
        user: user.toPublicJSON(),
        authenticated: true
      }
    });
  } catch (error) {
    console.error('Token verification error:', error);
    res.error(500, ErrorCodes.VERIFICATION_ERROR, 'Failed to verify authentication');
  }
});

// Get user profile
router.get('/profile', requireAuth, async (req, res) => {
  try {
    // Fetch fresh user data to ensure all fields are populated correctly
    const user = await User.findById(req.user._id).select('-password');
    if (!user) {
      return res.error(404, ErrorCodes.USER_NOT_FOUND, 'User not found');
    }
    res.json({
      success: true,
      data: {
        user: user.toPublicJSON()
      }
    });
  } catch (error) {
    console.error('Profile fetch error:', error);
    res.error(500, ErrorCodes.PROFILE_FETCH_ERROR, 'Failed to fetch user profile');
  }
});

// Update user profile with optimistic updates and performance optimization
router.put('/profile', requireAuth, validateCSRFToken, [body('firstName').optional().trim().isLength({
  min: 1,
  max: 50
}).withMessage('First name must be 1-50 characters'), body('lastName').optional().trim().isLength({
  min: 1,
  max: 50
}).withMessage('Last name must be 1-50 characters'), body('phone').optional().isString().isLength({
  min: 7,
  max: 30
}).withMessage('Phone must be 7-30 characters'), body('email').optional().isEmail().withMessage('Valid email is required'), body('addresses').optional().isArray().withMessage('Addresses must be an array'), body('addresses.*.street').optional().trim().isLength({
  min: 1,
  max: 100
}).withMessage('Street must be 1-100 characters'), body('addresses.*.city').optional().trim().isLength({
  min: 1,
  max: 50
}).withMessage('City must be 1-50 characters'), body('addresses.*.state').optional().trim().isLength({
  min: 1,
  max: 50
}).withMessage('State must be 1-50 characters'), body('addresses.*.zipCode').optional().trim().isLength({
  min: 5,
  max: 10
}).withMessage('ZIP code must be 5-10 characters'), body('addresses.*.country').optional().trim().isLength({
  min: 2,
  max: 2
}).withMessage('Country must be 2-letter code'), body('preferences.notifications').optional().isBoolean().withMessage('Notifications must be boolean'), body('preferences.newsletter').optional().isBoolean().withMessage('Newsletter must be boolean'), body('preferences.emailPreferences').optional().isObject().withMessage('Email preferences must be an object')], async (req, res) => {
  const startTime = Date.now();
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.validationError(errors);
    }
    const {
      firstName,
      lastName,
      phone,
      email,
      addresses,
      preferences
    } = req.body;

    // Build update data object
    const updateData = {};
    if (firstName !== undefined) updateData.firstName = firstName;
    if (lastName !== undefined) updateData.lastName = lastName;
    if (phone !== undefined) updateData.phone = phone;
    if (email !== undefined) updateData.email = email;
    if (addresses !== undefined) updateData.addresses = addresses;

    // Handle nested preferences updates
    if (preferences !== undefined) {
      // Get current preferences safely
      let currentPreferences = {};
      if (req.user.preferences) {
        currentPreferences = typeof req.user.preferences.toObject === 'function' ? req.user.preferences.toObject() : req.user.preferences;
      }
      updateData.preferences = {
        ...currentPreferences,
        ...preferences
      };

      // Handle nested emailPreferences
      if (preferences.emailPreferences) {
        updateData.preferences.emailPreferences = {
          ...(currentPreferences.emailPreferences || {}),
          ...preferences.emailPreferences
        };
      }
    }

    // Update user directly
    try {
      // Check if email is being changed and already exists
      if (email && email !== req.user.email) {
        const existingUser = await User.findOne({
          email,
          _id: {
            $ne: req.user._id
          }
        });
        if (existingUser) {
          return res.error(409, ErrorCodes.EMAIL_IN_USE, 'Email address is already in use');
        }
      }

      // Update the user
      const user = await User.findByIdAndUpdate(req.user._id, updateData, {
        new: true,
        runValidators: true
      }).select('-password');
      if (!user) {
        return res.error(404, ErrorCodes.USER_NOT_FOUND, 'User not found');
      }
      const totalDuration = Date.now() - startTime;

      // Send success response
      res.json({
        success: true,
        message: 'Profile updated successfully',
        data: {
          user: user.toPublicJSON()
        },
        performance: {
          duration: totalDuration,
          target: '200ms',
          status: totalDuration <= 200 ? 'optimal' : 'needs_optimization'
        }
      });
    } catch (updateError) {
      console.error('Profile update error:', updateError);
      return res.error(500, ErrorCodes.PROFILE_UPDATE_ERROR, updateError.message || 'Failed to update profile');
    }
  } catch (error) {
    console.error('Profile update error:', error);
    console.error('Error stack:', error.stack);
    console.error('Request body:', req.body);

    // Handle specific MongoDB errors
    if (error.code === 11000) {
      return res.error(409, ErrorCodes.DUPLICATE_EMAIL, 'Email address is already in use');
    }
    res.error(500, ErrorCodes.PROFILE_UPDATE_ERROR, 'Failed to update profile', null, {
      details: error.message
    });
  }
});

// Change password
router.post('/change-password', requireAuth, [body('currentPassword').notEmpty().withMessage('Current password is required'), body('newPassword').isLength({
  min: 6
}).withMessage('New password must be at least 6 characters long')], async (req, res) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.validationError(errors);
    }
    const {
      currentPassword,
      newPassword
    } = req.body;

    // Get user with password field
    const user = await User.findById(req.user._id).select('+password');

    // Verify current password
    const isMatch = await user.comparePassword(currentPassword);
    if (!isMatch) {
      return res.status(401).json({
        success: false,
        error: {
          code: 'INVALID_PASSWORD',
          message: 'Current password is incorrect'
        }
      });
    }

    // Update password
    user.password = newPassword;
    await user.save();
    res.json({
      success: true,
      message: 'Password changed successfully'
    });
  } catch (error) {
    console.error('Password change error:', error);
    res.status(500).json({
      success: false,
      error: {
        code: 'PASSWORD_CHANGE_ERROR',
        message: 'Failed to change password'
      }
    });
  }
});

// Logout (optional - mainly for server-side session cleanup)
router.post('/logout', requireAuth, async (req, res) => {
  try {
    const userId = req.user._id;

    // Log logout event
    console.log('User logout:', {
      userId: userId,
      timestamp: new Date()
    });

    // Clear any server-side sessions and cleanup cart state
    if (req.session) {
      // Clear any cart session IDs to prevent ghost carts
      delete req.session.cartId;
      delete req.session.guestId;

      // Clear the session
      req.session.destroy(err => {
        if (err) {
          console.error('Session destruction error:', err);
        }
      });
    }

    // Clear the JWT cookie
    res.clearCookie('token', {
      httpOnly: true,
      secure: process.env.NODE_ENV === 'production',
      sameSite: 'strict',
      path: '/'
    });
    res.json({
      success: true,
      message: 'Logged out successfully',
      cartCleared: true // Signal to frontend to clear cart state
    });
  } catch (error) {
    console.error('Logout error:', error);
    res.status(500).json({
      success: false,
      error: {
        code: 'LOGOUT_ERROR',
        message: 'Failed to logout'
      }
    });
  }
});

// Address management endpoints without authentication loss

// Add new address
router.post('/profile/addresses', requireAuth, validateCSRFToken, [body('type').isIn(['shipping', 'billing']).withMessage('Address type must be shipping or billing'), body('firstName').trim().isLength({
  min: 1,
  max: 50
}).withMessage('First name is required'), body('lastName').trim().isLength({
  min: 1,
  max: 50
}).withMessage('Last name is required'), body('street').trim().isLength({
  min: 1,
  max: 100
}).withMessage('Street address is required'), body('city').trim().isLength({
  min: 1,
  max: 50
}).withMessage('City is required'), body('state').trim().isLength({
  min: 1,
  max: 50
}).withMessage('State is required'), body('zipCode').trim().isLength({
  min: 3,
  max: 20
}).withMessage('ZIP code is required'), body('country').optional().trim().isLength({
  min: 2,
  max: 3
}).withMessage('Country code must be 2-3 characters'), body('phone').optional().isString().isLength({
  min: 7,
  max: 30
}).withMessage('Phone must be 7-30 characters'), body('isDefault').optional().isBoolean().withMessage('isDefault must be boolean')], async (req, res) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.validationError(errors);
    }
    const addressData = {
      type: req.body.type,
      firstName: req.body.firstName,
      lastName: req.body.lastName,
      street: req.body.street,
      city: req.body.city,
      state: req.body.state,
      zipCode: req.body.zipCode,
      country: req.body.country || 'US',
      phone: req.body.phone,
      isDefault: req.body.isDefault || false
    };

    // Add address to user
    const user = await User.findById(req.user._id);
    if (!user) {
      return res.error(404, ErrorCodes.USER_NOT_FOUND, 'User not found');
    }

    // If this is the default address, unset other defaults
    if (addressData.isDefault) {
      user.addresses.forEach(addr => {
        addr.isDefault = false;
      });
    }
    user.addresses.push(addressData);
    await user.save();
    res.status(201).json({
      success: true,
      message: 'Address added successfully',
      user: user.toPublicJSON()
    });
  } catch (error) {
    console.error('Add address error:', error);
    res.status(500).json({
      success: false,
      error: {
        code: 'ADDRESS_ADD_ERROR',
        message: 'Failed to add address'
      }
    });
  }
});

// Update existing address
router.put('/profile/addresses/:addressId', requireAuth, validateCSRFToken, [body('type').optional().isIn(['shipping', 'billing']).withMessage('Address type must be shipping or billing'), body('firstName').optional().trim().isLength({
  min: 1,
  max: 50
}).withMessage('First name must be 1-50 characters'), body('lastName').optional().trim().isLength({
  min: 1,
  max: 50
}).withMessage('Last name must be 1-50 characters'), body('street').optional().trim().isLength({
  min: 1,
  max: 100
}).withMessage('Street must be 1-100 characters'), body('city').optional().trim().isLength({
  min: 1,
  max: 50
}).withMessage('City must be 1-50 characters'), body('state').optional().trim().isLength({
  min: 1,
  max: 50
}).withMessage('State must be 1-50 characters'), body('zipCode').optional().trim().isLength({
  min: 3,
  max: 20
}).withMessage('ZIP code must be 3-20 characters'), body('country').optional().trim().isLength({
  min: 2,
  max: 3
}).withMessage('Country code must be 2-3 characters'), body('phone').optional().isString().isLength({
  min: 7,
  max: 30
}).withMessage('Phone must be 7-30 characters'), body('isDefault').optional().isBoolean().withMessage('isDefault must be boolean')], async (req, res) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.validationError(errors);
    }
    const {
      addressId
    } = req.params;
    const updateData = {};

    // Only include fields that are provided
    ['type', 'firstName', 'lastName', 'street', 'city', 'state', 'zipCode', 'country', 'phone', 'isDefault'].forEach(field => {
      if (req.body[field] !== undefined) {
        updateData[field] = req.body[field];
      }
    });

    // Update address on user
    const user = await User.findById(req.user._id);
    if (!user) {
      return res.error(404, ErrorCodes.USER_NOT_FOUND, 'User not found');
    }
    const address = user.addresses.id(addressId);
    if (!address) {
      return res.status(404).json({
        success: false,
        error: {
          code: 'ADDRESS_NOT_FOUND',
          message: 'Address not found'
        }
      });
    }

    // If setting as default, unset other defaults
    if (updateData.isDefault) {
      user.addresses.forEach(addr => {
        if (addr._id.toString() !== addressId) {
          addr.isDefault = false;
        }
      });
    }

    // Update the address
    Object.assign(address, updateData);
    await user.save();
    res.json({
      success: true,
      message: 'Address updated successfully',
      user: user.toPublicJSON()
    });
  } catch (error) {
    console.error('Update address error:', error);
    res.status(500).json({
      success: false,
      error: {
        code: 'ADDRESS_UPDATE_ERROR',
        message: 'Failed to update address'
      }
    });
  }
});

// Delete address
router.delete('/profile/addresses/:addressId', requireAuth, validateCSRFToken, async (req, res) => {
  try {
    const {
      addressId
    } = req.params;

    // Delete address from user
    const user = await User.findById(req.user._id);
    if (!user) {
      return res.error(404, ErrorCodes.USER_NOT_FOUND, 'User not found');
    }
    const address = user.addresses.id(addressId);
    if (!address) {
      return res.status(404).json({
        success: false,
        error: {
          code: 'ADDRESS_NOT_FOUND',
          message: 'Address not found'
        }
      });
    }

    // Remove the address
    address.remove();
    await user.save();
    res.json({
      success: true,
      message: 'Address deleted successfully',
      user: user.toPublicJSON()
    });
  } catch (error) {
    console.error('Delete address error:', error);
    res.status(500).json({
      success: false,
      error: {
        code: 'ADDRESS_DELETE_ERROR',
        message: 'Failed to delete address'
      }
    });
  }
});

// Set default address
router.patch('/profile/addresses/:addressId/default', requireAuth, validateCSRFToken, async (req, res) => {
  try {
    const {
      addressId
    } = req.params;

    // Set default address
    const user = await User.findById(req.user._id);
    if (!user) {
      return res.error(404, ErrorCodes.USER_NOT_FOUND, 'User not found');
    }
    const address = user.addresses.id(addressId);
    if (!address) {
      return res.status(404).json({
        success: false,
        error: {
          code: 'ADDRESS_NOT_FOUND',
          message: 'Address not found'
        }
      });
    }

    // Unset all other defaults and set this one
    user.addresses.forEach(addr => {
      addr.isDefault = addr._id.toString() === addressId;
    });
    await user.save();
    res.json({
      success: true,
      message: 'Default address updated successfully',
      user: user.toPublicJSON()
    });
  } catch (error) {
    console.error('Set default address error:', error);
    res.status(500).json({
      success: false,
      error: {
        code: 'ADDRESS_DEFAULT_ERROR',
        message: 'Failed to set default address'
      }
    });
  }
});

// Refresh token endpoint
router.post('/refresh-token', async (req, res) => {
  try {
    const {
      token
    } = req.body;
    if (!token) {
      return res.status(400).json({
        success: false,
        error: {
          code: 'MISSING_TOKEN',
          message: 'Token is required'
        }
      });
    }
    const decoded = jwt.verify(token, process.env.JWT_SECRET);
    const user = await User.findById(decoded.userId);
    if (!user || !user.isActive) {
      return res.status(401).json({
        success: false,
        error: {
          code: 'INVALID_TOKEN',
          message: 'Invalid token'
        }
      });
    }
    const newToken = generateToken(user._id);
    res.json({
      success: true,
      token: newToken,
      user: user.toPublicJSON()
    });
  } catch (error) {
    console.error('Token refresh error:', error);
    res.status(401).json({
      success: false,
      error: {
        code: 'TOKEN_REFRESH_ERROR',
        message: 'Failed to refresh token'
      }
    });
  }
});
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImp3dCIsImNyeXB0byIsImJvZHkiLCJ2YWxpZGF0aW9uUmVzdWx0IiwiVXNlciIsInJlcXVpcmVBdXRoIiwiYXV0aGVudGljYXRlVG9rZW4iLCJ2YWxpZGF0ZUNTUkZUb2tlbiIsIkFwcEVycm9yIiwiRXJyb3JDb2RlcyIsImdlbmVyYXRlVG9rZW4iLCJ1c2VySWQiLCJzaWduIiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJ2YWxpZGF0ZVJlZ2lzdHJhdGlvbiIsImlzRW1haWwiLCJub3JtYWxpemVFbWFpbCIsIndpdGhNZXNzYWdlIiwiaXNMZW5ndGgiLCJtaW4iLCJ0cmltIiwibWF4Iiwib3B0aW9uYWwiLCJpc1N0cmluZyIsInZhbGlkYXRlTG9naW4iLCJub3RFbXB0eSIsInZhbGlkYXRlRm9yZ290UGFzc3dvcmQiLCJ2YWxpZGF0ZVJlc2V0UGFzc3dvcmQiLCJwb3N0IiwicmVxIiwicmVzIiwiZXJyb3JzIiwiaXNFbXB0eSIsInZhbGlkYXRpb25FcnJvciIsImVtYWlsIiwicGFzc3dvcmQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInBob25lIiwicHJlZmVyZW5jZXMiLCJleGlzdGluZ1VzZXIiLCJmaW5kT25lIiwiZXJyb3IiLCJVU0VSX0VYSVNUUyIsInVzZXJEYXRhIiwidXNlciIsImNyZWF0ZSIsInRva2VuIiwiX2lkIiwibGFzdExvZ2luIiwiRGF0ZSIsInNhdmUiLCJ3YW50c0VtYWlsIiwic2VuZFdlbGNvbWVFbWFpbCIsIndlbGNvbWVEYXRhIiwiZW1haWxSZXN1bHQiLCJzdWNjZXNzIiwiY29uc29sZSIsImVtYWlsRXJyb3IiLCJjb29raWUiLCJodHRwT25seSIsInNlY3VyZSIsIk5PREVfRU5WIiwic2FtZVNpdGUiLCJtYXhBZ2UiLCJwYXRoIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJkYXRhIiwidG9QdWJsaWNKU09OIiwiUkVHSVNUUkFUSU9OX0VSUk9SIiwiZ3Vlc3RDYXJ0SXRlbXMiLCJJTlZBTElEX0NSRURFTlRJQUxTIiwiaXNNYXRjaCIsImNvbXBhcmVQYXNzd29yZCIsImlzQWN0aXZlIiwiQUNDT1VOVF9ESVNBQkxFRCIsImNhcnRJbmZvIiwiaXRlbUNvdW50IiwibWVyZ2VkSXRlbXMiLCJjYXJ0IiwiTE9HSU5fRVJST1IiLCJyZXNldFRva2VuIiwicmVzZXRUb2tlbkhhc2giLCJyYW5kb21CeXRlcyIsInRvU3RyaW5nIiwiY3JlYXRlSGFzaCIsInVwZGF0ZSIsImRpZ2VzdCIsInBhc3N3b3JkUmVzZXRUb2tlbiIsInBhc3N3b3JkUmVzZXRFeHBpcnkiLCJub3ciLCJzZW5kUGFzc3dvcmRSZXNldEVtYWlsIiwicmVzZXRVcmwiLCJGUk9OVEVORF9VUkwiLCJsb2ciLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJNYXRoIiwicmFuZG9tIiwiRk9SR09UX1BBU1NXT1JEX0VSUk9SIiwiJGd0IiwiSU5WQUxJRF9SRVNFVF9UT0tFTiIsInVuZGVmaW5lZCIsImF1dGhUb2tlbiIsIlJFU0VUX1BBU1NXT1JEX0VSUk9SIiwiZ2V0IiwiQVVUSEVOVElDQVRJT05fUkVRVUlSRUQiLCJmaW5kQnlJZCIsInNlbGVjdCIsIlVTRVJfTk9UX0ZPVU5EIiwiYXV0aGVudGljYXRlZCIsIlZFUklGSUNBVElPTl9FUlJPUiIsIlBST0ZJTEVfRkVUQ0hfRVJST1IiLCJwdXQiLCJpc0FycmF5IiwiaXNCb29sZWFuIiwiaXNPYmplY3QiLCJzdGFydFRpbWUiLCJhZGRyZXNzZXMiLCJ1cGRhdGVEYXRhIiwiY3VycmVudFByZWZlcmVuY2VzIiwidG9PYmplY3QiLCJlbWFpbFByZWZlcmVuY2VzIiwiJG5lIiwiRU1BSUxfSU5fVVNFIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJuZXciLCJydW5WYWxpZGF0b3JzIiwidG90YWxEdXJhdGlvbiIsInBlcmZvcm1hbmNlIiwiZHVyYXRpb24iLCJ0YXJnZXQiLCJ1cGRhdGVFcnJvciIsIlBST0ZJTEVfVVBEQVRFX0VSUk9SIiwic3RhY2siLCJjb2RlIiwiRFVQTElDQVRFX0VNQUlMIiwiZGV0YWlscyIsImN1cnJlbnRQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwidGltZXN0YW1wIiwic2Vzc2lvbiIsImNhcnRJZCIsImd1ZXN0SWQiLCJkZXN0cm95IiwiZXJyIiwiY2xlYXJDb29raWUiLCJjYXJ0Q2xlYXJlZCIsImlzSW4iLCJhZGRyZXNzRGF0YSIsInR5cGUiLCJzdHJlZXQiLCJjaXR5Iiwic3RhdGUiLCJ6aXBDb2RlIiwiY291bnRyeSIsImlzRGVmYXVsdCIsImZvckVhY2giLCJhZGRyIiwicHVzaCIsImFkZHJlc3NJZCIsInBhcmFtcyIsImZpZWxkIiwiYWRkcmVzcyIsImlkIiwiT2JqZWN0IiwiYXNzaWduIiwiZGVsZXRlIiwicmVtb3ZlIiwicGF0Y2giLCJkZWNvZGVkIiwidmVyaWZ5IiwibmV3VG9rZW4iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbmNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpO1xuY29uc3QgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJyk7XG5jb25zdCB7IGJvZHksIHZhbGlkYXRpb25SZXN1bHQgfSA9IHJlcXVpcmUoJ2V4cHJlc3MtdmFsaWRhdG9yJyk7XG5jb25zdCBVc2VyID0gcmVxdWlyZSgnLi4vbW9kZWxzL1VzZXInKTtcbmNvbnN0IHsgcmVxdWlyZUF1dGgsIGF1dGhlbnRpY2F0ZVRva2VuIH0gPSByZXF1aXJlKCcuLi9taWRkbGV3YXJlL2F1dGgnKTtcbmNvbnN0IHsgdmFsaWRhdGVDU1JGVG9rZW4gfSA9IHJlcXVpcmUoJy4uL21pZGRsZXdhcmUvc2Vzc2lvbkNTUkYnKTtcbmNvbnN0IHsgQXBwRXJyb3IgfSA9IHJlcXVpcmUoJy4uL21pZGRsZXdhcmUvZXJyb3JIYW5kbGVyJyk7XG5jb25zdCB7IEVycm9yQ29kZXMgfSA9IHJlcXVpcmUoJy4uL3V0aWxzL2Vycm9ySGFuZGxlcicpO1xuXG4vLyBHZW5lcmF0ZSBKV1QgdG9rZW5cbmNvbnN0IGdlbmVyYXRlVG9rZW4gPSAodXNlcklkKSA9PiB7XG4gIHJldHVybiBqd3Quc2lnbih7IHVzZXJJZCB9LCBwcm9jZXNzLmVudi5KV1RfU0VDUkVULCB7IGV4cGlyZXNJbjogJzdkJyB9KTtcbn07XG5cbi8vIFZhbGlkYXRpb24gbWlkZGxld2FyZSBmb3IgcmVnaXN0cmF0aW9uXG5jb25zdCB2YWxpZGF0ZVJlZ2lzdHJhdGlvbiA9IFtcbiAgYm9keSgnZW1haWwnKVxuICAgIC5pc0VtYWlsKClcbiAgICAubm9ybWFsaXplRW1haWwoKVxuICAgIC53aXRoTWVzc2FnZSgnVmFsaWQgZW1haWwgaXMgcmVxdWlyZWQnKSxcbiAgYm9keSgncGFzc3dvcmQnKVxuICAgIC5pc0xlbmd0aCh7IG1pbjogNiB9KVxuICAgIC53aXRoTWVzc2FnZSgnUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA2IGNoYXJhY3RlcnMgbG9uZycpLFxuICBib2R5KCdmaXJzdE5hbWUnKVxuICAgIC50cmltKClcbiAgICAuaXNMZW5ndGgoeyBtaW46IDEsIG1heDogNTAgfSlcbiAgICAud2l0aE1lc3NhZ2UoJ0ZpcnN0IG5hbWUgaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgbGVzcyB0aGFuIDUwIGNoYXJhY3RlcnMnKSxcbiAgYm9keSgnbGFzdE5hbWUnKVxuICAgIC50cmltKClcbiAgICAuaXNMZW5ndGgoeyBtaW46IDEsIG1heDogNTAgfSlcbiAgICAud2l0aE1lc3NhZ2UoJ0xhc3QgbmFtZSBpcyByZXF1aXJlZCBhbmQgbXVzdCBiZSBsZXNzIHRoYW4gNTAgY2hhcmFjdGVycycpLFxuICBib2R5KCdwaG9uZScpXG4gICAgLm9wdGlvbmFsKClcbiAgICAuaXNTdHJpbmcoKVxuICAgIC5pc0xlbmd0aCh7IG1pbjogNywgbWF4OiAzMCB9KVxuICAgIC53aXRoTWVzc2FnZSgnUGhvbmUgbnVtYmVyIG11c3QgYmUgYmV0d2VlbiA3IGFuZCAzMCBjaGFyYWN0ZXJzJylcbl07XG5cbi8vIFZhbGlkYXRpb24gbWlkZGxld2FyZSBmb3IgbG9naW5cbmNvbnN0IHZhbGlkYXRlTG9naW4gPSBbXG4gIGJvZHkoJ2VtYWlsJylcbiAgICAuaXNFbWFpbCgpXG4gICAgLm5vcm1hbGl6ZUVtYWlsKClcbiAgICAud2l0aE1lc3NhZ2UoJ1ZhbGlkIGVtYWlsIGlzIHJlcXVpcmVkJyksXG4gIGJvZHkoJ3Bhc3N3b3JkJylcbiAgICAubm90RW1wdHkoKVxuICAgIC53aXRoTWVzc2FnZSgnUGFzc3dvcmQgaXMgcmVxdWlyZWQnKVxuXTtcblxuLy8gVmFsaWRhdGlvbiBmb3IgZm9yZ290IHBhc3N3b3JkXG5jb25zdCB2YWxpZGF0ZUZvcmdvdFBhc3N3b3JkID0gW1xuICBib2R5KCdlbWFpbCcpXG4gICAgLmlzRW1haWwoKVxuICAgIC5ub3JtYWxpemVFbWFpbCgpXG4gICAgLndpdGhNZXNzYWdlKCdWYWxpZCBlbWFpbCBpcyByZXF1aXJlZCcpXG5dO1xuXG4vLyBWYWxpZGF0aW9uIGZvciByZXNldCBwYXNzd29yZFxuY29uc3QgdmFsaWRhdGVSZXNldFBhc3N3b3JkID0gW1xuICBib2R5KCd0b2tlbicpXG4gICAgLm5vdEVtcHR5KClcbiAgICAud2l0aE1lc3NhZ2UoJ1Jlc2V0IHRva2VuIGlzIHJlcXVpcmVkJyksXG4gIGJvZHkoJ3Bhc3N3b3JkJylcbiAgICAuaXNMZW5ndGgoeyBtaW46IDYgfSlcbiAgICAud2l0aE1lc3NhZ2UoJ1Bhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgNiBjaGFyYWN0ZXJzIGxvbmcnKVxuXTtcblxuLy8gUmVnaXN0ZXIgbmV3IHVzZXJcbnJvdXRlci5wb3N0KCcvcmVnaXN0ZXInLCB2YWxpZGF0ZVJlZ2lzdHJhdGlvbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZXJyb3JzID0gdmFsaWRhdGlvblJlc3VsdChyZXEpO1xuICAgIGlmICghZXJyb3JzLmlzRW1wdHkoKSkge1xuICAgICAgcmV0dXJuIHJlcy52YWxpZGF0aW9uRXJyb3IoZXJyb3JzKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgcGhvbmUsIHByZWZlcmVuY2VzIH0gPSByZXEuYm9keTtcblxuICAgIC8vIENoZWNrIGlmIHVzZXIgYWxyZWFkeSBleGlzdHNcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbCB9KTtcbiAgICBpZiAoZXhpc3RpbmdVc2VyKSB7XG4gICAgICByZXR1cm4gcmVzLmVycm9yKDQwOSwgRXJyb3JDb2Rlcy5VU0VSX0VYSVNUUywgJ1VzZXIgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3RzJyk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIG5ldyB1c2VyXG4gICAgY29uc3QgdXNlckRhdGEgPSB7XG4gICAgICBlbWFpbCxcbiAgICAgIHBhc3N3b3JkLFxuICAgICAgZmlyc3ROYW1lLFxuICAgICAgbGFzdE5hbWUsXG4gICAgICBwaG9uZSxcbiAgICAgIHByZWZlcmVuY2VzOiBwcmVmZXJlbmNlcyB8fCB7fVxuICAgIH07XG5cbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5jcmVhdGUodXNlckRhdGEpO1xuICAgIGNvbnN0IHRva2VuID0gZ2VuZXJhdGVUb2tlbih1c2VyLl9pZCk7XG5cbiAgICAvLyBVcGRhdGUgbGFzdCBsb2dpblxuICAgIHVzZXIubGFzdExvZ2luID0gbmV3IERhdGUoKTtcbiAgICBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgIC8vIFNlbmQgd2VsY29tZSBlbWFpbFxuICAgIHRyeSB7XG4gICAgICBpZiAodXNlci53YW50c0VtYWlsKCd3ZWxjb21lRW1haWxzJykpIHtcbiAgICAgICAgY29uc3QgeyBzZW5kV2VsY29tZUVtYWlsIH0gPSByZXF1aXJlKCcuLi91dGlscy9lbWFpbFNlcnZpY2UnKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHdlbGNvbWVEYXRhID0ge1xuICAgICAgICAgIGZpcnN0TmFtZTogdXNlci5maXJzdE5hbWUsXG4gICAgICAgICAgZW1haWw6IHVzZXIuZW1haWxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBlbWFpbFJlc3VsdCA9IGF3YWl0IHNlbmRXZWxjb21lRW1haWwodXNlci5lbWFpbCwgd2VsY29tZURhdGEpO1xuICAgICAgICBpZiAoIWVtYWlsUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2VuZCB3ZWxjb21lIGVtYWlsOicsIGVtYWlsUmVzdWx0LmVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVtYWlsRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgd2VsY29tZSBlbWFpbDonLCBlbWFpbEVycm9yKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdG9rZW4gYXMgaHR0cE9ubHkgY29va2llIGZvciBzZWN1cml0eVxuICAgIHJlcy5jb29raWUoJ3Rva2VuJywgdG9rZW4sIHtcbiAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nLFxuICAgICAgc2FtZVNpdGU6ICdzdHJpY3QnLFxuICAgICAgbWF4QWdlOiA3ICogMjQgKiA2MCAqIDYwICogMTAwMCwgLy8gNyBkYXlzXG4gICAgICBwYXRoOiAnLydcbiAgICB9KTtcblxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiAnVXNlciByZWdpc3RlcmVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHRva2VuLCAvLyBTdGlsbCBzZW5kIHRva2VuIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGR1cmluZyBtaWdyYXRpb25cbiAgICAgICAgdXNlcjogdXNlci50b1B1YmxpY0pTT04oKVxuICAgICAgfVxuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUmVnaXN0cmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICByZXMuZXJyb3IoNTAwLCBFcnJvckNvZGVzLlJFR0lTVFJBVElPTl9FUlJPUiwgJ0ZhaWxlZCB0byByZWdpc3RlciB1c2VyJyk7XG4gIH1cbn0pO1xuXG4vLyBMb2dpbiB1c2VyIHdpdGggZW5oYW5jZWQgY2FydCBtZXJnaW5nXG5yb3V0ZXIucG9zdCgnL2xvZ2luJywgdmFsaWRhdGVMb2dpbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZXJyb3JzID0gdmFsaWRhdGlvblJlc3VsdChyZXEpO1xuICAgIGlmICghZXJyb3JzLmlzRW1wdHkoKSkge1xuICAgICAgcmV0dXJuIHJlcy52YWxpZGF0aW9uRXJyb3IoZXJyb3JzKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCwgZ3Vlc3RDYXJ0SXRlbXMgfSA9IHJlcS5ib2R5O1xuXG4gICAgLy8gRmluZCB1c2VyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IGVtYWlsIH0pO1xuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIHJlcy5lcnJvcig0MDEsIEVycm9yQ29kZXMuSU5WQUxJRF9DUkVERU5USUFMUywgJ0ludmFsaWQgZW1haWwgb3IgcGFzc3dvcmQnKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBwYXNzd29yZFxuICAgIGNvbnN0IGlzTWF0Y2ggPSBhd2FpdCB1c2VyLmNvbXBhcmVQYXNzd29yZChwYXNzd29yZCk7XG4gICAgaWYgKCFpc01hdGNoKSB7XG4gICAgICByZXR1cm4gcmVzLmVycm9yKDQwMSwgRXJyb3JDb2Rlcy5JTlZBTElEX0NSRURFTlRJQUxTLCAnSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZCcpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYWN0aXZlXG4gICAgaWYgKCF1c2VyLmlzQWN0aXZlKSB7XG4gICAgICByZXR1cm4gcmVzLmVycm9yKDQwMywgRXJyb3JDb2Rlcy5BQ0NPVU5UX0RJU0FCTEVELCAnWW91ciBhY2NvdW50IGhhcyBiZWVuIGRpc2FibGVkJyk7XG4gICAgfVxuXG4gICAgLy8gR2VuZXJhdGUgdG9rZW5cbiAgICBjb25zdCB0b2tlbiA9IGdlbmVyYXRlVG9rZW4odXNlci5faWQpO1xuXG4gICAgLy8gVXBkYXRlIGxhc3QgbG9naW5cbiAgICB1c2VyLmxhc3RMb2dpbiA9IG5ldyBEYXRlKCk7XG4gICAgYXdhaXQgdXNlci5zYXZlKCk7XG5cbiAgICAvLyBDYXJ0IGluZm8gKHNpbXBsaWZpZWQgYWZ0ZXIgcmVtb3ZpbmcgY2FydFNlcnZpY2UpXG4gICAgbGV0IGNhcnRJbmZvID0geyBpdGVtQ291bnQ6IDAsIG1lcmdlZEl0ZW1zOiAwIH07XG4gICAgXG4gICAgLy8gR3Vlc3QgY2FydCBtZXJnaW5nIHdvdWxkIGhhcHBlbiBvbiB0aGUgZnJvbnRlbmQgYWZ0ZXIgbG9naW5cblxuICAgIC8vIFNldCB0b2tlbiBhcyBodHRwT25seSBjb29raWUgZm9yIHNlY3VyaXR5XG4gICAgcmVzLmNvb2tpZSgndG9rZW4nLCB0b2tlbiwge1xuICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicsXG4gICAgICBzYW1lU2l0ZTogJ3N0cmljdCcsXG4gICAgICBtYXhBZ2U6IDcgKiAyNCAqIDYwICogNjAgKiAxMDAwLCAvLyA3IGRheXNcbiAgICAgIHBhdGg6ICcvJ1xuICAgIH0pO1xuXG4gICAgcmVzLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdMb2dpbiBzdWNjZXNzZnVsJyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdG9rZW4sIC8vIFN0aWxsIHNlbmQgdG9rZW4gZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgZHVyaW5nIG1pZ3JhdGlvblxuICAgICAgICB1c2VyOiB1c2VyLnRvUHVibGljSlNPTigpLFxuICAgICAgICBjYXJ0OiBjYXJ0SW5mb1xuICAgICAgfVxuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignTG9naW4gZXJyb3I6JywgZXJyb3IpO1xuICAgIHJlcy5lcnJvcig1MDAsIEVycm9yQ29kZXMuTE9HSU5fRVJST1IsICdGYWlsZWQgdG8gbG9naW4nKTtcbiAgfVxufSk7XG5cbi8vIEZvcmdvdCBwYXNzd29yZCAtIEZpeGVkIHRpbWluZyBhdHRhY2sgdnVsbmVyYWJpbGl0eVxucm91dGVyLnBvc3QoJy9mb3Jnb3QtcGFzc3dvcmQnLCB2YWxpZGF0ZUZvcmdvdFBhc3N3b3JkLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBlcnJvcnMgPSB2YWxpZGF0aW9uUmVzdWx0KHJlcSk7XG4gICAgaWYgKCFlcnJvcnMuaXNFbXB0eSgpKSB7XG4gICAgICByZXR1cm4gcmVzLnZhbGlkYXRpb25FcnJvcihlcnJvcnMpO1xuICAgIH1cblxuICAgIGNvbnN0IHsgZW1haWwgfSA9IHJlcS5ib2R5O1xuICAgIFxuICAgIC8vIEFsd2F5cyBleGVjdXRlIHRoZSBzYW1lIG9wZXJhdGlvbnMgdG8gcHJldmVudCB0aW1pbmcgYXR0YWNrc1xuICAgIGxldCB1c2VyLCByZXNldFRva2VuLCByZXNldFRva2VuSGFzaDtcbiAgICBcbiAgICAvLyBGaW5kIHVzZXJcbiAgICB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgZW1haWwgfSk7XG4gICAgXG4gICAgLy8gQWx3YXlzIGdlbmVyYXRlIGEgdG9rZW4gKGV2ZW4gaWYgdXNlciBkb2Vzbid0IGV4aXN0KSB0byBub3JtYWxpemUgdGltaW5nXG4gICAgcmVzZXRUb2tlbiA9IGNyeXB0by5yYW5kb21CeXRlcygzMikudG9TdHJpbmcoJ2hleCcpO1xuICAgIHJlc2V0VG9rZW5IYXNoID0gY3J5cHRvXG4gICAgICAuY3JlYXRlSGFzaCgnc2hhMjU2JylcbiAgICAgIC51cGRhdGUocmVzZXRUb2tlbilcbiAgICAgIC5kaWdlc3QoJ2hleCcpO1xuXG4gICAgLy8gSWYgdXNlciBleGlzdHMsIHNhdmUgdGhlIHJlc2V0IHRva2VuIGFuZCBzZW5kIGVtYWlsXG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIC8vIFNhdmUgcmVzZXQgdG9rZW4gYW5kIGV4cGlyeVxuICAgICAgdXNlci5wYXNzd29yZFJlc2V0VG9rZW4gPSByZXNldFRva2VuSGFzaDtcbiAgICAgIHVzZXIucGFzc3dvcmRSZXNldEV4cGlyeSA9IERhdGUubm93KCkgKyAzNjAwMDAwOyAvLyAxIGhvdXJcbiAgICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuXG4gICAgICAvLyBTZW5kIHJlc2V0IGVtYWlsXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IHNlbmRQYXNzd29yZFJlc2V0RW1haWwgfSA9IHJlcXVpcmUoJy4uL3V0aWxzL2VtYWlsU2VydmljZScpO1xuICAgICAgICBjb25zdCByZXNldFVybCA9IGAke3Byb2Nlc3MuZW52LkZST05URU5EX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDozMDAwJ30vcmVzZXQtcGFzc3dvcmQ/dG9rZW49JHtyZXNldFRva2VufWA7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBlbWFpbFJlc3VsdCA9IGF3YWl0IHNlbmRQYXNzd29yZFJlc2V0RW1haWwodXNlci5lbWFpbCwge1xuICAgICAgICAgIGZpcnN0TmFtZTogdXNlci5maXJzdE5hbWUsXG4gICAgICAgICAgcmVzZXRUb2tlbixcbiAgICAgICAgICByZXNldFVybFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGlmICghZW1haWxSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzZW5kIHJlc2V0IGVtYWlsOicsIGVtYWlsUmVzdWx0LmVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gTG9nIHJlc2V0IFVSTCBmb3IgZGV2ZWxvcG1lbnQgd2hlbiBlbWFpbCBpcyBub3QgY29uZmlndXJlZFxuICAgICAgICBpZiAoZW1haWxSZXN1bHQubWVzc2FnZSA9PT0gJ0VtYWlsIHNraXBwZWQgLSBub3QgY29uZmlndXJlZCcpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnXFxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PScpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdQQVNTV09SRCBSRVNFVCBVUkwgKEVtYWlsIG5vdCBjb25maWd1cmVkKScpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCc9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Jyk7XG4gICAgICAgICAgY29uc29sZS5sb2coYFVzZXI6ICR7dXNlci5lbWFpbH1gKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgUmVzZXQgVVJMOiAke3Jlc2V0VXJsfWApO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCc9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFxuJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVtYWlsRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyByZXNldCBlbWFpbDonLCBlbWFpbEVycm9yKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgdXNlciBkb2Vzbid0IGV4aXN0LCBzdGlsbCBwZXJmb3JtIHRoZSBzYW1lIGNyeXB0b2dyYXBoaWMgb3BlcmF0aW9uc1xuICAgICAgLy8gYW5kIHNpbXVsYXRlIHNlbmRpbmcgYW4gZW1haWwgdG8gbm9ybWFsaXplIHJlc3BvbnNlIHRpbWVcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBNYXRoLnJhbmRvbSgpICogMTAwICsgNTApKTtcbiAgICB9XG5cbiAgICAvLyBBbHdheXMgcmV0dXJuIHRoZSBzYW1lIHJlc3BvbnNlIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB1c2VyIGV4aXN0c1xuICAgIHJlcy5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiAnSWYgYW4gYWNjb3VudCBleGlzdHMgd2l0aCB0aGlzIGVtYWlsLCBhIHBhc3N3b3JkIHJlc2V0IGxpbmsgd2lsbCBiZSBzZW50LidcbiAgICB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZvcmdvdCBwYXNzd29yZCBlcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLmVycm9yKDUwMCwgRXJyb3JDb2Rlcy5GT1JHT1RfUEFTU1dPUkRfRVJST1IsICdGYWlsZWQgdG8gcHJvY2VzcyBwYXNzd29yZCByZXNldCByZXF1ZXN0Jyk7XG4gIH1cbn0pO1xuXG4vLyBSZXNldCBwYXNzd29yZFxucm91dGVyLnBvc3QoJy9yZXNldC1wYXNzd29yZCcsIHZhbGlkYXRlUmVzZXRQYXNzd29yZCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZXJyb3JzID0gdmFsaWRhdGlvblJlc3VsdChyZXEpO1xuICAgIGlmICghZXJyb3JzLmlzRW1wdHkoKSkge1xuICAgICAgcmV0dXJuIHJlcy52YWxpZGF0aW9uRXJyb3IoZXJyb3JzKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IHRva2VuLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgXG4gICAgLy8gSGFzaCB0aGUgdG9rZW4gdG8gbWF0Y2ggc3RvcmVkIHZlcnNpb25cbiAgICBjb25zdCByZXNldFRva2VuSGFzaCA9IGNyeXB0b1xuICAgICAgLmNyZWF0ZUhhc2goJ3NoYTI1NicpXG4gICAgICAudXBkYXRlKHRva2VuKVxuICAgICAgLmRpZ2VzdCgnaGV4Jyk7XG5cbiAgICAvLyBGaW5kIHVzZXIgd2l0aCB2YWxpZCByZXNldCB0b2tlblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xuICAgICAgcGFzc3dvcmRSZXNldFRva2VuOiByZXNldFRva2VuSGFzaCxcbiAgICAgIHBhc3N3b3JkUmVzZXRFeHBpcnk6IHsgJGd0OiBEYXRlLm5vdygpIH1cbiAgICB9KTtcblxuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIHJlcy5lcnJvcig0MDAsIEVycm9yQ29kZXMuSU5WQUxJRF9SRVNFVF9UT0tFTiwgJ1Bhc3N3b3JkIHJlc2V0IHRva2VuIGlzIGludmFsaWQgb3IgaGFzIGV4cGlyZWQnKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgcGFzc3dvcmRcbiAgICB1c2VyLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgdXNlci5wYXNzd29yZFJlc2V0VG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgdXNlci5wYXNzd29yZFJlc2V0RXhwaXJ5ID0gdW5kZWZpbmVkO1xuICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuXG4gICAgLy8gR2VuZXJhdGUgbmV3IGF1dGggdG9rZW5cbiAgICBjb25zdCBhdXRoVG9rZW4gPSBnZW5lcmF0ZVRva2VuKHVzZXIuX2lkKTtcblxuICAgIHJlcy5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiAnUGFzc3dvcmQgaGFzIGJlZW4gcmVzZXQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIHRva2VuOiBhdXRoVG9rZW4sXG4gICAgICB1c2VyOiB1c2VyLnRvUHVibGljSlNPTigpXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdSZXNldCBwYXNzd29yZCBlcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLmVycm9yKDUwMCwgRXJyb3JDb2Rlcy5SRVNFVF9QQVNTV09SRF9FUlJPUiwgJ0ZhaWxlZCB0byByZXNldCBwYXNzd29yZCcpO1xuICB9XG59KTtcblxuLy8gVmVyaWZ5IHRva2VuIGZyb20gY29va2llIChmb3IgYXV0aCBwZXJzaXN0ZW5jZSBjaGVjaylcbnJvdXRlci5nZXQoJy92ZXJpZnknLCBhdXRoZW50aWNhdGVUb2tlbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgLy8gSWYgYXV0aGVudGljYXRlVG9rZW4gbWlkZGxld2FyZSBwYXNzZWQsIHVzZXIgaXMgYXV0aGVudGljYXRlZFxuICAgIGlmICghcmVxLnVzZXIpIHtcbiAgICAgIHJldHVybiByZXMuZXJyb3IoNDAxLCBFcnJvckNvZGVzLkFVVEhFTlRJQ0FUSU9OX1JFUVVJUkVELCAnTm90IGF1dGhlbnRpY2F0ZWQnKTtcbiAgICB9XG5cbiAgICAvLyBHZXQgZnJlc2ggdXNlciBkYXRhXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQocmVxLnVzZXIuX2lkKS5zZWxlY3QoJy1wYXNzd29yZCcpO1xuICAgIGlmICghdXNlciB8fCAhdXNlci5pc0FjdGl2ZSkge1xuICAgICAgcmV0dXJuIHJlcy5lcnJvcig0MDEsIEVycm9yQ29kZXMuVVNFUl9OT1RfRk9VTkQsICdVc2VyIG5vdCBmb3VuZCBvciBpbmFjdGl2ZScpO1xuICAgIH1cblxuICAgIHJlcy5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHVzZXI6IHVzZXIudG9QdWJsaWNKU09OKCksXG4gICAgICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdUb2tlbiB2ZXJpZmljYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgIHJlcy5lcnJvcig1MDAsIEVycm9yQ29kZXMuVkVSSUZJQ0FUSU9OX0VSUk9SLCAnRmFpbGVkIHRvIHZlcmlmeSBhdXRoZW50aWNhdGlvbicpO1xuICB9XG59KTtcblxuLy8gR2V0IHVzZXIgcHJvZmlsZVxucm91dGVyLmdldCgnL3Byb2ZpbGUnLCByZXF1aXJlQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgLy8gRmV0Y2ggZnJlc2ggdXNlciBkYXRhIHRvIGVuc3VyZSBhbGwgZmllbGRzIGFyZSBwb3B1bGF0ZWQgY29ycmVjdGx5XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQocmVxLnVzZXIuX2lkKS5zZWxlY3QoJy1wYXNzd29yZCcpO1xuICAgIFxuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIHJlcy5lcnJvcig0MDQsIEVycm9yQ29kZXMuVVNFUl9OT1RfRk9VTkQsICdVc2VyIG5vdCBmb3VuZCcpO1xuICAgIH1cbiAgICBcbiAgICByZXMuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YToge1xuICAgICAgICB1c2VyOiB1c2VyLnRvUHVibGljSlNPTigpXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUHJvZmlsZSBmZXRjaCBlcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLmVycm9yKDUwMCwgRXJyb3JDb2Rlcy5QUk9GSUxFX0ZFVENIX0VSUk9SLCAnRmFpbGVkIHRvIGZldGNoIHVzZXIgcHJvZmlsZScpO1xuICB9XG59KTtcblxuLy8gVXBkYXRlIHVzZXIgcHJvZmlsZSB3aXRoIG9wdGltaXN0aWMgdXBkYXRlcyBhbmQgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uXG5yb3V0ZXIucHV0KCcvcHJvZmlsZScsIHJlcXVpcmVBdXRoLCB2YWxpZGF0ZUNTUkZUb2tlbiwgW1xuICBib2R5KCdmaXJzdE5hbWUnKS5vcHRpb25hbCgpLnRyaW0oKS5pc0xlbmd0aCh7IG1pbjogMSwgbWF4OiA1MCB9KS53aXRoTWVzc2FnZSgnRmlyc3QgbmFtZSBtdXN0IGJlIDEtNTAgY2hhcmFjdGVycycpLFxuICBib2R5KCdsYXN0TmFtZScpLm9wdGlvbmFsKCkudHJpbSgpLmlzTGVuZ3RoKHsgbWluOiAxLCBtYXg6IDUwIH0pLndpdGhNZXNzYWdlKCdMYXN0IG5hbWUgbXVzdCBiZSAxLTUwIGNoYXJhY3RlcnMnKSxcbiAgYm9keSgncGhvbmUnKS5vcHRpb25hbCgpLmlzU3RyaW5nKCkuaXNMZW5ndGgoeyBtaW46IDcsIG1heDogMzAgfSkud2l0aE1lc3NhZ2UoJ1Bob25lIG11c3QgYmUgNy0zMCBjaGFyYWN0ZXJzJyksXG4gIGJvZHkoJ2VtYWlsJykub3B0aW9uYWwoKS5pc0VtYWlsKCkud2l0aE1lc3NhZ2UoJ1ZhbGlkIGVtYWlsIGlzIHJlcXVpcmVkJyksXG4gIGJvZHkoJ2FkZHJlc3NlcycpLm9wdGlvbmFsKCkuaXNBcnJheSgpLndpdGhNZXNzYWdlKCdBZGRyZXNzZXMgbXVzdCBiZSBhbiBhcnJheScpLFxuICBib2R5KCdhZGRyZXNzZXMuKi5zdHJlZXQnKS5vcHRpb25hbCgpLnRyaW0oKS5pc0xlbmd0aCh7IG1pbjogMSwgbWF4OiAxMDAgfSkud2l0aE1lc3NhZ2UoJ1N0cmVldCBtdXN0IGJlIDEtMTAwIGNoYXJhY3RlcnMnKSxcbiAgYm9keSgnYWRkcmVzc2VzLiouY2l0eScpLm9wdGlvbmFsKCkudHJpbSgpLmlzTGVuZ3RoKHsgbWluOiAxLCBtYXg6IDUwIH0pLndpdGhNZXNzYWdlKCdDaXR5IG11c3QgYmUgMS01MCBjaGFyYWN0ZXJzJyksXG4gIGJvZHkoJ2FkZHJlc3Nlcy4qLnN0YXRlJykub3B0aW9uYWwoKS50cmltKCkuaXNMZW5ndGgoeyBtaW46IDEsIG1heDogNTAgfSkud2l0aE1lc3NhZ2UoJ1N0YXRlIG11c3QgYmUgMS01MCBjaGFyYWN0ZXJzJyksXG4gIGJvZHkoJ2FkZHJlc3Nlcy4qLnppcENvZGUnKS5vcHRpb25hbCgpLnRyaW0oKS5pc0xlbmd0aCh7IG1pbjogNSwgbWF4OiAxMCB9KS53aXRoTWVzc2FnZSgnWklQIGNvZGUgbXVzdCBiZSA1LTEwIGNoYXJhY3RlcnMnKSxcbiAgYm9keSgnYWRkcmVzc2VzLiouY291bnRyeScpLm9wdGlvbmFsKCkudHJpbSgpLmlzTGVuZ3RoKHsgbWluOiAyLCBtYXg6IDIgfSkud2l0aE1lc3NhZ2UoJ0NvdW50cnkgbXVzdCBiZSAyLWxldHRlciBjb2RlJyksXG4gIGJvZHkoJ3ByZWZlcmVuY2VzLm5vdGlmaWNhdGlvbnMnKS5vcHRpb25hbCgpLmlzQm9vbGVhbigpLndpdGhNZXNzYWdlKCdOb3RpZmljYXRpb25zIG11c3QgYmUgYm9vbGVhbicpLFxuICBib2R5KCdwcmVmZXJlbmNlcy5uZXdzbGV0dGVyJykub3B0aW9uYWwoKS5pc0Jvb2xlYW4oKS53aXRoTWVzc2FnZSgnTmV3c2xldHRlciBtdXN0IGJlIGJvb2xlYW4nKSxcbiAgYm9keSgncHJlZmVyZW5jZXMuZW1haWxQcmVmZXJlbmNlcycpLm9wdGlvbmFsKCkuaXNPYmplY3QoKS53aXRoTWVzc2FnZSgnRW1haWwgcHJlZmVyZW5jZXMgbXVzdCBiZSBhbiBvYmplY3QnKVxuXSwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IGVycm9ycyA9IHZhbGlkYXRpb25SZXN1bHQocmVxKTtcbiAgICBpZiAoIWVycm9ycy5pc0VtcHR5KCkpIHtcbiAgICAgIHJldHVybiByZXMudmFsaWRhdGlvbkVycm9yKGVycm9ycyk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBmaXJzdE5hbWUsIGxhc3ROYW1lLCBwaG9uZSwgZW1haWwsIGFkZHJlc3NlcywgcHJlZmVyZW5jZXMgfSA9IHJlcS5ib2R5O1xuICAgIFxuICAgIC8vIEJ1aWxkIHVwZGF0ZSBkYXRhIG9iamVjdFxuICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTtcbiAgICBpZiAoZmlyc3ROYW1lICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEuZmlyc3ROYW1lID0gZmlyc3ROYW1lO1xuICAgIGlmIChsYXN0TmFtZSAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLmxhc3ROYW1lID0gbGFzdE5hbWU7XG4gICAgaWYgKHBob25lICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEucGhvbmUgPSBwaG9uZTtcbiAgICBpZiAoZW1haWwgIT09IHVuZGVmaW5lZCkgdXBkYXRlRGF0YS5lbWFpbCA9IGVtYWlsO1xuICAgIGlmIChhZGRyZXNzZXMgIT09IHVuZGVmaW5lZCkgdXBkYXRlRGF0YS5hZGRyZXNzZXMgPSBhZGRyZXNzZXM7XG4gICAgXG4gICAgLy8gSGFuZGxlIG5lc3RlZCBwcmVmZXJlbmNlcyB1cGRhdGVzXG4gICAgaWYgKHByZWZlcmVuY2VzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEdldCBjdXJyZW50IHByZWZlcmVuY2VzIHNhZmVseVxuICAgICAgbGV0IGN1cnJlbnRQcmVmZXJlbmNlcyA9IHt9O1xuICAgICAgaWYgKHJlcS51c2VyLnByZWZlcmVuY2VzKSB7XG4gICAgICAgIGN1cnJlbnRQcmVmZXJlbmNlcyA9IHR5cGVvZiByZXEudXNlci5wcmVmZXJlbmNlcy50b09iamVjdCA9PT0gJ2Z1bmN0aW9uJyBcbiAgICAgICAgICA/IHJlcS51c2VyLnByZWZlcmVuY2VzLnRvT2JqZWN0KCkgXG4gICAgICAgICAgOiByZXEudXNlci5wcmVmZXJlbmNlcztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdXBkYXRlRGF0YS5wcmVmZXJlbmNlcyA9IHsgXG4gICAgICAgIC4uLmN1cnJlbnRQcmVmZXJlbmNlcyxcbiAgICAgICAgLi4ucHJlZmVyZW5jZXNcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEhhbmRsZSBuZXN0ZWQgZW1haWxQcmVmZXJlbmNlc1xuICAgICAgaWYgKHByZWZlcmVuY2VzLmVtYWlsUHJlZmVyZW5jZXMpIHtcbiAgICAgICAgdXBkYXRlRGF0YS5wcmVmZXJlbmNlcy5lbWFpbFByZWZlcmVuY2VzID0ge1xuICAgICAgICAgIC4uLmN1cnJlbnRQcmVmZXJlbmNlcy5lbWFpbFByZWZlcmVuY2VzIHx8IHt9LFxuICAgICAgICAgIC4uLnByZWZlcmVuY2VzLmVtYWlsUHJlZmVyZW5jZXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdXNlciBkaXJlY3RseVxuICAgIHRyeSB7XG4gICAgICAvLyBDaGVjayBpZiBlbWFpbCBpcyBiZWluZyBjaGFuZ2VkIGFuZCBhbHJlYWR5IGV4aXN0c1xuICAgICAgaWYgKGVtYWlsICYmIGVtYWlsICE9PSByZXEudXNlci5lbWFpbCkge1xuICAgICAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbCwgX2lkOiB7ICRuZTogcmVxLnVzZXIuX2lkIH0gfSk7XG4gICAgICAgIGlmIChleGlzdGluZ1VzZXIpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmVycm9yKDQwOSwgRXJyb3JDb2Rlcy5FTUFJTF9JTl9VU0UsICdFbWFpbCBhZGRyZXNzIGlzIGFscmVhZHkgaW4gdXNlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRoZSB1c2VyXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZEFuZFVwZGF0ZShcbiAgICAgICAgcmVxLnVzZXIuX2lkLFxuICAgICAgICB1cGRhdGVEYXRhLFxuICAgICAgICB7IG5ldzogdHJ1ZSwgcnVuVmFsaWRhdG9yczogdHJ1ZSB9XG4gICAgICApLnNlbGVjdCgnLXBhc3N3b3JkJyk7XG5cbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm4gcmVzLmVycm9yKDQwNCwgRXJyb3JDb2Rlcy5VU0VSX05PVF9GT1VORCwgJ1VzZXIgbm90IGZvdW5kJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRvdGFsRHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICAvLyBTZW5kIHN1Y2Nlc3MgcmVzcG9uc2VcbiAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogJ1Byb2ZpbGUgdXBkYXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXNlcjogdXNlci50b1B1YmxpY0pTT04oKVxuICAgICAgICB9LFxuICAgICAgICBwZXJmb3JtYW5jZToge1xuICAgICAgICAgIGR1cmF0aW9uOiB0b3RhbER1cmF0aW9uLFxuICAgICAgICAgIHRhcmdldDogJzIwMG1zJyxcbiAgICAgICAgICBzdGF0dXM6IHRvdGFsRHVyYXRpb24gPD0gMjAwID8gJ29wdGltYWwnIDogJ25lZWRzX29wdGltaXphdGlvbidcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAodXBkYXRlRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Byb2ZpbGUgdXBkYXRlIGVycm9yOicsIHVwZGF0ZUVycm9yKTtcbiAgICAgIHJldHVybiByZXMuZXJyb3IoNTAwLCBFcnJvckNvZGVzLlBST0ZJTEVfVVBEQVRFX0VSUk9SLCB1cGRhdGVFcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gdXBkYXRlIHByb2ZpbGUnKTtcbiAgICB9XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdQcm9maWxlIHVwZGF0ZSBlcnJvcjonLCBlcnJvcik7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc3RhY2s6JywgZXJyb3Iuc3RhY2spO1xuICAgIGNvbnNvbGUuZXJyb3IoJ1JlcXVlc3QgYm9keTonLCByZXEuYm9keSk7XG4gICAgXG4gICAgLy8gSGFuZGxlIHNwZWNpZmljIE1vbmdvREIgZXJyb3JzXG4gICAgaWYgKGVycm9yLmNvZGUgPT09IDExMDAwKSB7XG4gICAgICByZXR1cm4gcmVzLmVycm9yKDQwOSwgRXJyb3JDb2Rlcy5EVVBMSUNBVEVfRU1BSUwsICdFbWFpbCBhZGRyZXNzIGlzIGFscmVhZHkgaW4gdXNlJyk7XG4gICAgfVxuXG4gICAgcmVzLmVycm9yKDUwMCwgRXJyb3JDb2Rlcy5QUk9GSUxFX1VQREFURV9FUlJPUiwgJ0ZhaWxlZCB0byB1cGRhdGUgcHJvZmlsZScsIG51bGwsIHsgZGV0YWlsczogZXJyb3IubWVzc2FnZSB9KTtcbiAgfVxufSk7XG5cbi8vIENoYW5nZSBwYXNzd29yZFxucm91dGVyLnBvc3QoJy9jaGFuZ2UtcGFzc3dvcmQnLCByZXF1aXJlQXV0aCwgW1xuICBib2R5KCdjdXJyZW50UGFzc3dvcmQnKS5ub3RFbXB0eSgpLndpdGhNZXNzYWdlKCdDdXJyZW50IHBhc3N3b3JkIGlzIHJlcXVpcmVkJyksXG4gIGJvZHkoJ25ld1Bhc3N3b3JkJykuaXNMZW5ndGgoeyBtaW46IDYgfSkud2l0aE1lc3NhZ2UoJ05ldyBwYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDYgY2hhcmFjdGVycyBsb25nJylcbl0sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGVycm9ycyA9IHZhbGlkYXRpb25SZXN1bHQocmVxKTtcbiAgICBpZiAoIWVycm9ycy5pc0VtcHR5KCkpIHtcbiAgICAgIHJldHVybiByZXMudmFsaWRhdGlvbkVycm9yKGVycm9ycyk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBjdXJyZW50UGFzc3dvcmQsIG5ld1Bhc3N3b3JkIH0gPSByZXEuYm9keTtcblxuICAgIC8vIEdldCB1c2VyIHdpdGggcGFzc3dvcmQgZmllbGRcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEudXNlci5faWQpLnNlbGVjdCgnK3Bhc3N3b3JkJyk7XG5cbiAgICAvLyBWZXJpZnkgY3VycmVudCBwYXNzd29yZFxuICAgIGNvbnN0IGlzTWF0Y2ggPSBhd2FpdCB1c2VyLmNvbXBhcmVQYXNzd29yZChjdXJyZW50UGFzc3dvcmQpO1xuICAgIGlmICghaXNNYXRjaCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ0lOVkFMSURfUEFTU1dPUkQnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdDdXJyZW50IHBhc3N3b3JkIGlzIGluY29ycmVjdCdcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHBhc3N3b3JkXG4gICAgdXNlci5wYXNzd29yZCA9IG5ld1Bhc3N3b3JkO1xuICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuXG4gICAgcmVzLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdQYXNzd29yZCBjaGFuZ2VkIHN1Y2Nlc3NmdWxseSdcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdQYXNzd29yZCBjaGFuZ2UgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgY29kZTogJ1BBU1NXT1JEX0NIQU5HRV9FUlJPUicsXG4gICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gY2hhbmdlIHBhc3N3b3JkJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcblxuLy8gTG9nb3V0IChvcHRpb25hbCAtIG1haW5seSBmb3Igc2VydmVyLXNpZGUgc2Vzc2lvbiBjbGVhbnVwKVxucm91dGVyLnBvc3QoJy9sb2dvdXQnLCByZXF1aXJlQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlcklkID0gcmVxLnVzZXIuX2lkO1xuICAgIFxuICAgIC8vIExvZyBsb2dvdXQgZXZlbnRcbiAgICBjb25zb2xlLmxvZygnVXNlciBsb2dvdXQ6Jywge1xuICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICB9KTtcblxuICAgIC8vIENsZWFyIGFueSBzZXJ2ZXItc2lkZSBzZXNzaW9ucyBhbmQgY2xlYW51cCBjYXJ0IHN0YXRlXG4gICAgaWYgKHJlcS5zZXNzaW9uKSB7XG4gICAgICAvLyBDbGVhciBhbnkgY2FydCBzZXNzaW9uIElEcyB0byBwcmV2ZW50IGdob3N0IGNhcnRzXG4gICAgICBkZWxldGUgcmVxLnNlc3Npb24uY2FydElkO1xuICAgICAgZGVsZXRlIHJlcS5zZXNzaW9uLmd1ZXN0SWQ7XG4gICAgICBcbiAgICAgIC8vIENsZWFyIHRoZSBzZXNzaW9uXG4gICAgICByZXEuc2Vzc2lvbi5kZXN0cm95KChlcnIpID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Nlc3Npb24gZGVzdHJ1Y3Rpb24gZXJyb3I6JywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgdGhlIEpXVCBjb29raWVcbiAgICByZXMuY2xlYXJDb29raWUoJ3Rva2VuJywge1xuICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicsXG4gICAgICBzYW1lU2l0ZTogJ3N0cmljdCcsXG4gICAgICBwYXRoOiAnLydcbiAgICB9KTtcblxuICAgIHJlcy5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiAnTG9nZ2VkIG91dCBzdWNjZXNzZnVsbHknLFxuICAgICAgY2FydENsZWFyZWQ6IHRydWUgLy8gU2lnbmFsIHRvIGZyb250ZW5kIHRvIGNsZWFyIGNhcnQgc3RhdGVcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdMb2dvdXQgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgY29kZTogJ0xPR09VVF9FUlJPUicsXG4gICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gbG9nb3V0J1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcblxuLy8gQWRkcmVzcyBtYW5hZ2VtZW50IGVuZHBvaW50cyB3aXRob3V0IGF1dGhlbnRpY2F0aW9uIGxvc3NcblxuLy8gQWRkIG5ldyBhZGRyZXNzXG5yb3V0ZXIucG9zdCgnL3Byb2ZpbGUvYWRkcmVzc2VzJywgcmVxdWlyZUF1dGgsIHZhbGlkYXRlQ1NSRlRva2VuLCBbXG4gIGJvZHkoJ3R5cGUnKS5pc0luKFsnc2hpcHBpbmcnLCAnYmlsbGluZyddKS53aXRoTWVzc2FnZSgnQWRkcmVzcyB0eXBlIG11c3QgYmUgc2hpcHBpbmcgb3IgYmlsbGluZycpLFxuICBib2R5KCdmaXJzdE5hbWUnKS50cmltKCkuaXNMZW5ndGgoeyBtaW46IDEsIG1heDogNTAgfSkud2l0aE1lc3NhZ2UoJ0ZpcnN0IG5hbWUgaXMgcmVxdWlyZWQnKSxcbiAgYm9keSgnbGFzdE5hbWUnKS50cmltKCkuaXNMZW5ndGgoeyBtaW46IDEsIG1heDogNTAgfSkud2l0aE1lc3NhZ2UoJ0xhc3QgbmFtZSBpcyByZXF1aXJlZCcpLFxuICBib2R5KCdzdHJlZXQnKS50cmltKCkuaXNMZW5ndGgoeyBtaW46IDEsIG1heDogMTAwIH0pLndpdGhNZXNzYWdlKCdTdHJlZXQgYWRkcmVzcyBpcyByZXF1aXJlZCcpLFxuICBib2R5KCdjaXR5JykudHJpbSgpLmlzTGVuZ3RoKHsgbWluOiAxLCBtYXg6IDUwIH0pLndpdGhNZXNzYWdlKCdDaXR5IGlzIHJlcXVpcmVkJyksXG4gIGJvZHkoJ3N0YXRlJykudHJpbSgpLmlzTGVuZ3RoKHsgbWluOiAxLCBtYXg6IDUwIH0pLndpdGhNZXNzYWdlKCdTdGF0ZSBpcyByZXF1aXJlZCcpLFxuICBib2R5KCd6aXBDb2RlJykudHJpbSgpLmlzTGVuZ3RoKHsgbWluOiAzLCBtYXg6IDIwIH0pLndpdGhNZXNzYWdlKCdaSVAgY29kZSBpcyByZXF1aXJlZCcpLFxuICBib2R5KCdjb3VudHJ5Jykub3B0aW9uYWwoKS50cmltKCkuaXNMZW5ndGgoeyBtaW46IDIsIG1heDogMyB9KS53aXRoTWVzc2FnZSgnQ291bnRyeSBjb2RlIG11c3QgYmUgMi0zIGNoYXJhY3RlcnMnKSxcbiAgYm9keSgncGhvbmUnKS5vcHRpb25hbCgpLmlzU3RyaW5nKCkuaXNMZW5ndGgoeyBtaW46IDcsIG1heDogMzAgfSkud2l0aE1lc3NhZ2UoJ1Bob25lIG11c3QgYmUgNy0zMCBjaGFyYWN0ZXJzJyksXG4gIGJvZHkoJ2lzRGVmYXVsdCcpLm9wdGlvbmFsKCkuaXNCb29sZWFuKCkud2l0aE1lc3NhZ2UoJ2lzRGVmYXVsdCBtdXN0IGJlIGJvb2xlYW4nKVxuXSwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZXJyb3JzID0gdmFsaWRhdGlvblJlc3VsdChyZXEpO1xuICAgIGlmICghZXJyb3JzLmlzRW1wdHkoKSkge1xuICAgICAgcmV0dXJuIHJlcy52YWxpZGF0aW9uRXJyb3IoZXJyb3JzKTtcbiAgICB9XG5cbiAgICBjb25zdCBhZGRyZXNzRGF0YSA9IHtcbiAgICAgIHR5cGU6IHJlcS5ib2R5LnR5cGUsXG4gICAgICBmaXJzdE5hbWU6IHJlcS5ib2R5LmZpcnN0TmFtZSxcbiAgICAgIGxhc3ROYW1lOiByZXEuYm9keS5sYXN0TmFtZSxcbiAgICAgIHN0cmVldDogcmVxLmJvZHkuc3RyZWV0LFxuICAgICAgY2l0eTogcmVxLmJvZHkuY2l0eSxcbiAgICAgIHN0YXRlOiByZXEuYm9keS5zdGF0ZSxcbiAgICAgIHppcENvZGU6IHJlcS5ib2R5LnppcENvZGUsXG4gICAgICBjb3VudHJ5OiByZXEuYm9keS5jb3VudHJ5IHx8ICdVUycsXG4gICAgICBwaG9uZTogcmVxLmJvZHkucGhvbmUsXG4gICAgICBpc0RlZmF1bHQ6IHJlcS5ib2R5LmlzRGVmYXVsdCB8fCBmYWxzZVxuICAgIH07XG5cbiAgICAvLyBBZGQgYWRkcmVzcyB0byB1c2VyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQocmVxLnVzZXIuX2lkKTtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJldHVybiByZXMuZXJyb3IoNDA0LCBFcnJvckNvZGVzLlVTRVJfTk9UX0ZPVU5ELCAnVXNlciBub3QgZm91bmQnKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGlzIGlzIHRoZSBkZWZhdWx0IGFkZHJlc3MsIHVuc2V0IG90aGVyIGRlZmF1bHRzXG4gICAgaWYgKGFkZHJlc3NEYXRhLmlzRGVmYXVsdCkge1xuICAgICAgdXNlci5hZGRyZXNzZXMuZm9yRWFjaChhZGRyID0+IHtcbiAgICAgICAgYWRkci5pc0RlZmF1bHQgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHVzZXIuYWRkcmVzc2VzLnB1c2goYWRkcmVzc0RhdGEpO1xuICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuXG4gICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdBZGRyZXNzIGFkZGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICB1c2VyOiB1c2VyLnRvUHVibGljSlNPTigpXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBZGQgYWRkcmVzcyBlcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjoge1xuICAgICAgICBjb2RlOiAnQUREUkVTU19BRERfRVJST1InLFxuICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIGFkZCBhZGRyZXNzJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcblxuLy8gVXBkYXRlIGV4aXN0aW5nIGFkZHJlc3NcbnJvdXRlci5wdXQoJy9wcm9maWxlL2FkZHJlc3Nlcy86YWRkcmVzc0lkJywgcmVxdWlyZUF1dGgsIHZhbGlkYXRlQ1NSRlRva2VuLCBbXG4gIGJvZHkoJ3R5cGUnKS5vcHRpb25hbCgpLmlzSW4oWydzaGlwcGluZycsICdiaWxsaW5nJ10pLndpdGhNZXNzYWdlKCdBZGRyZXNzIHR5cGUgbXVzdCBiZSBzaGlwcGluZyBvciBiaWxsaW5nJyksXG4gIGJvZHkoJ2ZpcnN0TmFtZScpLm9wdGlvbmFsKCkudHJpbSgpLmlzTGVuZ3RoKHsgbWluOiAxLCBtYXg6IDUwIH0pLndpdGhNZXNzYWdlKCdGaXJzdCBuYW1lIG11c3QgYmUgMS01MCBjaGFyYWN0ZXJzJyksXG4gIGJvZHkoJ2xhc3ROYW1lJykub3B0aW9uYWwoKS50cmltKCkuaXNMZW5ndGgoeyBtaW46IDEsIG1heDogNTAgfSkud2l0aE1lc3NhZ2UoJ0xhc3QgbmFtZSBtdXN0IGJlIDEtNTAgY2hhcmFjdGVycycpLFxuICBib2R5KCdzdHJlZXQnKS5vcHRpb25hbCgpLnRyaW0oKS5pc0xlbmd0aCh7IG1pbjogMSwgbWF4OiAxMDAgfSkud2l0aE1lc3NhZ2UoJ1N0cmVldCBtdXN0IGJlIDEtMTAwIGNoYXJhY3RlcnMnKSxcbiAgYm9keSgnY2l0eScpLm9wdGlvbmFsKCkudHJpbSgpLmlzTGVuZ3RoKHsgbWluOiAxLCBtYXg6IDUwIH0pLndpdGhNZXNzYWdlKCdDaXR5IG11c3QgYmUgMS01MCBjaGFyYWN0ZXJzJyksXG4gIGJvZHkoJ3N0YXRlJykub3B0aW9uYWwoKS50cmltKCkuaXNMZW5ndGgoeyBtaW46IDEsIG1heDogNTAgfSkud2l0aE1lc3NhZ2UoJ1N0YXRlIG11c3QgYmUgMS01MCBjaGFyYWN0ZXJzJyksXG4gIGJvZHkoJ3ppcENvZGUnKS5vcHRpb25hbCgpLnRyaW0oKS5pc0xlbmd0aCh7IG1pbjogMywgbWF4OiAyMCB9KS53aXRoTWVzc2FnZSgnWklQIGNvZGUgbXVzdCBiZSAzLTIwIGNoYXJhY3RlcnMnKSxcbiAgYm9keSgnY291bnRyeScpLm9wdGlvbmFsKCkudHJpbSgpLmlzTGVuZ3RoKHsgbWluOiAyLCBtYXg6IDMgfSkud2l0aE1lc3NhZ2UoJ0NvdW50cnkgY29kZSBtdXN0IGJlIDItMyBjaGFyYWN0ZXJzJyksXG4gIGJvZHkoJ3Bob25lJykub3B0aW9uYWwoKS5pc1N0cmluZygpLmlzTGVuZ3RoKHsgbWluOiA3LCBtYXg6IDMwIH0pLndpdGhNZXNzYWdlKCdQaG9uZSBtdXN0IGJlIDctMzAgY2hhcmFjdGVycycpLFxuICBib2R5KCdpc0RlZmF1bHQnKS5vcHRpb25hbCgpLmlzQm9vbGVhbigpLndpdGhNZXNzYWdlKCdpc0RlZmF1bHQgbXVzdCBiZSBib29sZWFuJylcbl0sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGVycm9ycyA9IHZhbGlkYXRpb25SZXN1bHQocmVxKTtcbiAgICBpZiAoIWVycm9ycy5pc0VtcHR5KCkpIHtcbiAgICAgIHJldHVybiByZXMudmFsaWRhdGlvbkVycm9yKGVycm9ycyk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBhZGRyZXNzSWQgfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3QgdXBkYXRlRGF0YSA9IHt9O1xuICAgIFxuICAgIC8vIE9ubHkgaW5jbHVkZSBmaWVsZHMgdGhhdCBhcmUgcHJvdmlkZWRcbiAgICBbJ3R5cGUnLCAnZmlyc3ROYW1lJywgJ2xhc3ROYW1lJywgJ3N0cmVldCcsICdjaXR5JywgJ3N0YXRlJywgJ3ppcENvZGUnLCAnY291bnRyeScsICdwaG9uZScsICdpc0RlZmF1bHQnXVxuICAgICAgLmZvckVhY2goZmllbGQgPT4ge1xuICAgICAgICBpZiAocmVxLmJvZHlbZmllbGRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB1cGRhdGVEYXRhW2ZpZWxkXSA9IHJlcS5ib2R5W2ZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAvLyBVcGRhdGUgYWRkcmVzcyBvbiB1c2VyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQocmVxLnVzZXIuX2lkKTtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJldHVybiByZXMuZXJyb3IoNDA0LCBFcnJvckNvZGVzLlVTRVJfTk9UX0ZPVU5ELCAnVXNlciBub3QgZm91bmQnKTtcbiAgICB9XG5cbiAgICBjb25zdCBhZGRyZXNzID0gdXNlci5hZGRyZXNzZXMuaWQoYWRkcmVzc0lkKTtcbiAgICBpZiAoIWFkZHJlc3MpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdBRERSRVNTX05PVF9GT1VORCcsXG4gICAgICAgICAgbWVzc2FnZTogJ0FkZHJlc3Mgbm90IGZvdW5kJ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBJZiBzZXR0aW5nIGFzIGRlZmF1bHQsIHVuc2V0IG90aGVyIGRlZmF1bHRzXG4gICAgaWYgKHVwZGF0ZURhdGEuaXNEZWZhdWx0KSB7XG4gICAgICB1c2VyLmFkZHJlc3Nlcy5mb3JFYWNoKGFkZHIgPT4ge1xuICAgICAgICBpZiAoYWRkci5faWQudG9TdHJpbmcoKSAhPT0gYWRkcmVzc0lkKSB7XG4gICAgICAgICAgYWRkci5pc0RlZmF1bHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSBhZGRyZXNzXG4gICAgT2JqZWN0LmFzc2lnbihhZGRyZXNzLCB1cGRhdGVEYXRhKTtcbiAgICBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgIHJlcy5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiAnQWRkcmVzcyB1cGRhdGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICB1c2VyOiB1c2VyLnRvUHVibGljSlNPTigpXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdVcGRhdGUgYWRkcmVzcyBlcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjoge1xuICAgICAgICBjb2RlOiAnQUREUkVTU19VUERBVEVfRVJST1InLFxuICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHVwZGF0ZSBhZGRyZXNzJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcblxuLy8gRGVsZXRlIGFkZHJlc3NcbnJvdXRlci5kZWxldGUoJy9wcm9maWxlL2FkZHJlc3Nlcy86YWRkcmVzc0lkJywgcmVxdWlyZUF1dGgsIHZhbGlkYXRlQ1NSRlRva2VuLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGFkZHJlc3NJZCB9ID0gcmVxLnBhcmFtcztcblxuICAgIC8vIERlbGV0ZSBhZGRyZXNzIGZyb20gdXNlclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHJlcS51c2VyLl9pZCk7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gcmVzLmVycm9yKDQwNCwgRXJyb3JDb2Rlcy5VU0VSX05PVF9GT1VORCwgJ1VzZXIgbm90IGZvdW5kJyk7XG4gICAgfVxuXG4gICAgY29uc3QgYWRkcmVzcyA9IHVzZXIuYWRkcmVzc2VzLmlkKGFkZHJlc3NJZCk7XG4gICAgaWYgKCFhZGRyZXNzKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnQUREUkVTU19OT1RfRk9VTkQnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdBZGRyZXNzIG5vdCBmb3VuZCdcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIHRoZSBhZGRyZXNzXG4gICAgYWRkcmVzcy5yZW1vdmUoKTtcbiAgICBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgIHJlcy5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiAnQWRkcmVzcyBkZWxldGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICB1c2VyOiB1c2VyLnRvUHVibGljSlNPTigpXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdEZWxldGUgYWRkcmVzcyBlcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjoge1xuICAgICAgICBjb2RlOiAnQUREUkVTU19ERUxFVEVfRVJST1InLFxuICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIGRlbGV0ZSBhZGRyZXNzJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcblxuLy8gU2V0IGRlZmF1bHQgYWRkcmVzc1xucm91dGVyLnBhdGNoKCcvcHJvZmlsZS9hZGRyZXNzZXMvOmFkZHJlc3NJZC9kZWZhdWx0JywgcmVxdWlyZUF1dGgsIHZhbGlkYXRlQ1NSRlRva2VuLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGFkZHJlc3NJZCB9ID0gcmVxLnBhcmFtcztcblxuICAgIC8vIFNldCBkZWZhdWx0IGFkZHJlc3NcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEudXNlci5faWQpO1xuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIHJlcy5lcnJvcig0MDQsIEVycm9yQ29kZXMuVVNFUl9OT1RfRk9VTkQsICdVc2VyIG5vdCBmb3VuZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IGFkZHJlc3MgPSB1c2VyLmFkZHJlc3Nlcy5pZChhZGRyZXNzSWQpO1xuICAgIGlmICghYWRkcmVzcykge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ0FERFJFU1NfTk9UX0ZPVU5EJyxcbiAgICAgICAgICBtZXNzYWdlOiAnQWRkcmVzcyBub3QgZm91bmQnXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFVuc2V0IGFsbCBvdGhlciBkZWZhdWx0cyBhbmQgc2V0IHRoaXMgb25lXG4gICAgdXNlci5hZGRyZXNzZXMuZm9yRWFjaChhZGRyID0+IHtcbiAgICAgIGFkZHIuaXNEZWZhdWx0ID0gYWRkci5faWQudG9TdHJpbmcoKSA9PT0gYWRkcmVzc0lkO1xuICAgIH0pO1xuICAgIFxuICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuXG4gICAgcmVzLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdEZWZhdWx0IGFkZHJlc3MgdXBkYXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgdXNlcjogdXNlci50b1B1YmxpY0pTT04oKVxuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU2V0IGRlZmF1bHQgYWRkcmVzcyBlcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjoge1xuICAgICAgICBjb2RlOiAnQUREUkVTU19ERUZBVUxUX0VSUk9SJyxcbiAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBzZXQgZGVmYXVsdCBhZGRyZXNzJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcblxuLy8gUmVmcmVzaCB0b2tlbiBlbmRwb2ludFxucm91dGVyLnBvc3QoJy9yZWZyZXNoLXRva2VuJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyB0b2tlbiB9ID0gcmVxLmJvZHk7XG4gICAgXG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ01JU1NJTkdfVE9LRU4nLFxuICAgICAgICAgIG1lc3NhZ2U6ICdUb2tlbiBpcyByZXF1aXJlZCdcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpO1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKGRlY29kZWQudXNlcklkKTtcbiAgICBcbiAgICBpZiAoIXVzZXIgfHwgIXVzZXIuaXNBY3RpdmUpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdJTlZBTElEX1RPS0VOJyxcbiAgICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCB0b2tlbidcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgbmV3VG9rZW4gPSBnZW5lcmF0ZVRva2VuKHVzZXIuX2lkKTtcbiAgICBcbiAgICByZXMuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgdG9rZW46IG5ld1Rva2VuLFxuICAgICAgdXNlcjogdXNlci50b1B1YmxpY0pTT04oKVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1Rva2VuIHJlZnJlc2ggZXJyb3I6JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgY29kZTogJ1RPS0VOX1JFRlJFU0hfRVJST1InLFxuICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHJlZnJlc2ggdG9rZW4nXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBTSxDQUFDLENBQUM7QUFDL0IsTUFBTUMsR0FBRyxHQUFHSCxPQUFPLENBQUMsY0FBYyxDQUFDO0FBQ25DLE1BQU1JLE1BQU0sR0FBR0osT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUNoQyxNQUFNO0VBQUVLLElBQUk7RUFBRUM7QUFBaUIsQ0FBQyxHQUFHTixPQUFPLENBQUMsbUJBQW1CLENBQUM7QUFDL0QsTUFBTU8sSUFBSSxHQUFHUCxPQUFPLENBQUMsZ0JBQWdCLENBQUM7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