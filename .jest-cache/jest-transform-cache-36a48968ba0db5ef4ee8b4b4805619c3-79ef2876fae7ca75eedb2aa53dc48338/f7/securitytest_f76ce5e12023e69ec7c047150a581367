d2d35f6638cf06145be5b105d967ef03
const request = require('supertest');
const express = require('express');
const session = require('express-session');
const MongoStore = require('connect-mongo');
const mongoose = require('mongoose');
const {
  MongoMemoryServer
} = require('mongodb-memory-server');

// Import security middleware
const {
  generateCSRFToken,
  csrfProtection,
  rateLimits,
  speedLimiter,
  sanitizeInput,
  securityHeaders,
  apiKeyAuth
} = require('../../middleware/security');
describe('Security Tests', () => {
  let app;
  let mongoServer;
  let mongoUri;
  beforeAll(async () => {
    // Start in-memory MongoDB
    mongoServer = await MongoMemoryServer.create();
    mongoUri = mongoServer.getUri();

    // Only connect if not already connected
    if (mongoose.connection.readyState === 0) {
      await mongoose.connect(mongoUri);
    }
  });
  afterAll(async () => {
    if (mongoose.connection.readyState !== 0) {
      await mongoose.disconnect();
    }
    await mongoServer.stop();
  });
  beforeEach(() => {
    // Create test app
    app = express();

    // Add session middleware
    app.use(session({
      secret: 'test-secret',
      resave: false,
      saveUninitialized: false,
      store: MongoStore.create({
        mongoUrl: mongoUri
      }),
      cookie: {
        secure: false,
        httpOnly: true
      }
    }));
    app.use(express.json());
    app.use(securityHeaders);
    app.use(sanitizeInput);
    app.use(generateCSRFToken);
  });
  describe('Security Headers', () => {
    test('should add security headers to responses', async () => {
      app.get('/test', (req, res) => {
        res.json({
          message: 'test'
        });
      });
      const response = await request(app).get('/test');
      expect(response.headers['x-content-type-options']).toBe('nosniff');
      expect(response.headers['x-frame-options']).toBe('DENY');
      expect(response.headers['x-xss-protection']).toBe('1; mode=block');
      expect(response.headers['referrer-policy']).toBe('strict-origin-when-cross-origin');
      expect(response.headers['permissions-policy']).toContain('geolocation=()');
      expect(response.headers['x-powered-by']).toBeUndefined();
    });
  });
  describe('Input Sanitization', () => {
    test('should sanitize MongoDB injection attempts', async () => {
      app.post('/test', (req, res) => {
        res.json({
          body: req.body
        });
      });
      const maliciousPayload = {
        email: {
          $ne: null
        },
        password: {
          $regex: '.*'
        }
      };
      const response = await request(app).post('/test').send(maliciousPayload);
      expect(response.body.body.email).toBe('_ne_');
      expect(response.body.body.password).toBe('_regex_');
    });
    test('should sanitize nested objects', async () => {
      app.post('/test', (req, res) => {
        res.json({
          body: req.body
        });
      });
      const maliciousPayload = {
        user: {
          query: {
            $where: 'function() { return true; }'
          },
          data: {
            $set: {
              admin: true
            }
          }
        }
      };
      const response = await request(app).post('/test').send(maliciousPayload);
      expect(response.body.body.user.query._where_).toBeDefined();
      expect(response.body.body.user.data._set_).toBeDefined();
    });
  });
  describe('CSRF Protection', () => {
    test('should generate CSRF token in session', async () => {
      app.get('/csrf', (req, res) => {
        res.json({
          csrfToken: req.session.csrfToken
        });
      });
      const response = await request(app).get('/csrf');
      expect(response.body.csrfToken).toBeDefined();
      expect(response.body.csrfToken).toHaveLength(64);
    });
    test('should reject POST requests without CSRF token', async () => {
      app.post('/protected', csrfProtection, (req, res) => {
        res.json({
          message: 'success'
        });
      });
      const response = await request(app).post('/protected').send({
        data: 'test'
      });
      expect(response.status).toBe(403);
      expect(response.body.error.code).toBe('CSRF_TOKEN_MISMATCH');
    });
    test('should accept POST requests with valid CSRF token', async () => {
      // First get CSRF token
      const agent = request.agent(app);
      app.get('/csrf', (req, res) => {
        res.json({
          csrfToken: req.session.csrfToken
        });
      });
      app.post('/protected', csrfProtection, (req, res) => {
        res.json({
          message: 'success'
        });
      });
      const csrfResponse = await agent.get('/csrf');
      const csrfToken = csrfResponse.body.csrfToken;
      const response = await agent.post('/protected').set('x-csrf-token', csrfToken).send({
        data: 'test'
      });
      expect(response.status).toBe(200);
      expect(response.body.message).toBe('success');
    });
    test('should allow GET requests without CSRF token', async () => {
      app.get('/protected', csrfProtection, (req, res) => {
        res.json({
          message: 'success'
        });
      });
      const response = await request(app).get('/protected');
      expect(response.status).toBe(200);
      expect(response.body.message).toBe('success');
    });
  });
  describe('API Key Authentication', () => {
    beforeEach(() => {
      process.env.VALID_API_KEYS = 'test_key_1,test_key_2,test_key_3';
    });
    afterEach(() => {
      delete process.env.VALID_API_KEYS;
    });
    test('should reject requests without API key', async () => {
      app.get('/api-protected', apiKeyAuth, (req, res) => {
        res.json({
          message: 'success'
        });
      });
      const response = await request(app).get('/api-protected');
      expect(response.status).toBe(401);
      expect(response.body.error.code).toBe('API_KEY_REQUIRED');
    });
    test('should reject requests with invalid API key', async () => {
      app.get('/api-protected', apiKeyAuth, (req, res) => {
        res.json({
          message: 'success'
        });
      });
      const response = await request(app).get('/api-protected').set('x-api-key', 'invalid_key');
      expect(response.status).toBe(401);
      expect(response.body.error.code).toBe('INVALID_API_KEY');
    });
    test('should accept requests with valid API key', async () => {
      app.get('/api-protected', apiKeyAuth, (req, res) => {
        res.json({
          message: 'success'
        });
      });
      const response = await request(app).get('/api-protected').set('x-api-key', 'test_key_1');
      expect(response.status).toBe(200);
      expect(response.body.message).toBe('success');
    });
  });
  describe('Rate Limiting', () => {
    test('should enforce general rate limits', async () => {
      app.use(rateLimits.general);
      app.get('/test', (req, res) => {
        res.json({
          message: 'success'
        });
      });

      // Make requests up to the limit
      const promises = [];
      for (let i = 0; i < 100; i++) {
        promises.push(request(app).get('/test'));
      }
      const responses = await Promise.all(promises);
      const successfulResponses = responses.filter(r => r.status === 200);
      expect(successfulResponses.length).toBeLessThanOrEqual(100);
    });
    test('should enforce auth rate limits', async () => {
      app.use(rateLimits.auth);
      app.post('/login', (req, res) => {
        res.json({
          message: 'login attempt'
        });
      });

      // Make requests up to the limit
      const promises = [];
      for (let i = 0; i < 15; i++) {
        promises.push(request(app).post('/login').send({}));
      }
      const responses = await Promise.all(promises);
      const rateLimitedResponses = responses.filter(r => r.status === 429);
      expect(rateLimitedResponses.length).toBeGreaterThan(0);
    });
  });
  describe('Speed Limiting (Brute Force Protection)', () => {
    test('should add delays after multiple requests', async () => {
      app.use(speedLimiter);
      app.post('/login', (req, res) => {
        res.json({
          message: 'login attempt'
        });
      });
      const startTime = Date.now();

      // Make multiple requests to trigger speed limiting
      for (let i = 0; i < 8; i++) {
        await request(app).post('/login').send({});
      }
      const endTime = Date.now();
      const duration = endTime - startTime;

      // Should take longer due to speed limiting delays
      expect(duration).toBeGreaterThan(1000); // At least 1 second delay
    });
  });
  describe('Input Validation', () => {
    test('should validate email format', async () => {
      const {
        body
      } = require('express-validator');
      app.post('/register', [body('email').isEmail().withMessage('Invalid email format'), (req, res, next) => {
        const errors = require('express-validator').validationResult(req);
        if (!errors.isEmpty()) {
          return res.status(400).json({
            errors: errors.array()
          });
        }
        next();
      }], (req, res) => {
        res.json({
          message: 'valid'
        });
      });
      const response = await request(app).post('/register').send({
        email: 'invalid-email'
      });
      expect(response.status).toBe(400);
      expect(response.body.errors[0].msg).toBe('Invalid email format');
    });
    test('should validate password strength', async () => {
      const {
        body
      } = require('express-validator');
      app.post('/register', [body('password').isLength({
        min: 8
      }).withMessage('Password must be at least 8 characters').matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])/).withMessage('Password must contain uppercase, lowercase, number, and special character'), (req, res, next) => {
        const errors = require('express-validator').validationResult(req);
        if (!errors.isEmpty()) {
          return res.status(400).json({
            errors: errors.array()
          });
        }
        next();
      }], (req, res) => {
        res.json({
          message: 'valid'
        });
      });
      const response = await request(app).post('/register').send({
        password: 'weak'
      });
      expect(response.status).toBe(400);
      expect(response.body.errors.length).toBeGreaterThan(0);
    });
  });
  describe('Penetration Testing Scenarios', () => {
    test('should prevent SQL injection attempts', async () => {
      app.post('/search', (req, res) => {
        // Simulate a search endpoint that might be vulnerable
        const query = req.body.query;
        res.json({
          query,
          sanitized: true
        });
      });
      const sqlInjectionPayloads = ["'; DROP TABLE users; --", "' OR '1'='1", "' UNION SELECT * FROM users --", "admin'--", "' OR 1=1#"];
      for (const payload of sqlInjectionPayloads) {
        const response = await request(app).post('/search').send({
          query: payload
        });
        expect(response.status).toBe(200);
        // The payload should be sanitized or handled safely
        expect(response.body.query).toBeDefined();
      }
    });
    test('should prevent XSS attempts', async () => {
      app.post('/comment', (req, res) => {
        const comment = req.body.comment;
        res.json({
          comment
        });
      });
      const xssPayloads = ["<script>alert('XSS')</script>", "<img src=x onerror=alert('XSS')>", "javascript:alert('XSS')", "<svg onload=alert('XSS')>", "';alert('XSS');//"];
      for (const payload of xssPayloads) {
        const response = await request(app).post('/comment').send({
          comment: payload
        });
        expect(response.status).toBe(200);
        // XSS payloads should be handled safely
        expect(response.body.comment).toBeDefined();
      }
    });
    test('should prevent directory traversal attacks', async () => {
      app.get('/file/:filename', (req, res) => {
        const filename = req.params.filename;
        // Simulate file access (should be protected)
        res.json({
          filename,
          access: 'denied'
        });
      });
      const traversalPayloads = ["../../../etc/passwd", "..\\..\\..\\windows\\system32\\config\\sam", "....//....//....//etc/passwd", "%2e%2e%2f%2e%2e%2f%2e%2e%2fetc%2fpasswd", "..%252f..%252f..%252fetc%252fpasswd"];
      for (const payload of traversalPayloads) {
        const response = await request(app).get(`/file/${encodeURIComponent(payload)}`);
        expect(response.status).toBe(200);
        expect(response.body.access).toBe('denied');
      }
    });
    test('should prevent command injection attempts', async () => {
      app.post('/ping', (req, res) => {
        const host = req.body.host;
        // Simulate a ping command (should be sanitized)
        res.json({
          host,
          result: 'sanitized'
        });
      });
      const commandInjectionPayloads = ["google.com; cat /etc/passwd", "google.com && rm -rf /", "google.com | nc -l 4444", "google.com `whoami`", "google.com $(cat /etc/passwd)"];
      for (const payload of commandInjectionPayloads) {
        const response = await request(app).post('/ping').send({
          host: payload
        });
        expect(response.status).toBe(200);
        expect(response.body.result).toBe('sanitized');
      }
    });
    test('should handle large payload attacks', async () => {
      app.post('/upload', (req, res) => {
        res.json({
          size: JSON.stringify(req.body).length
        });
      });

      // Create a large payload
      const largePayload = {
        data: 'A'.repeat(10000000) // 10MB of data
      };
      const response = await request(app).post('/upload').send(largePayload);

      // Should either reject or handle gracefully
      expect([200, 413, 400]).toContain(response.status);
    });
  });
  describe('Authentication Security', () => {
    test('should prevent timing attacks on login', async () => {
      app.post('/login', async (req, res) => {
        const {
          email,
          password
        } = req.body;

        // Simulate constant-time comparison
        const startTime = Date.now();

        // Always perform some work regardless of user existence
        await new Promise(resolve => setTimeout(resolve, 100));
        const endTime = Date.now();
        const duration = endTime - startTime;
        res.json({
          success: false,
          message: 'Invalid credentials',
          duration
        });
      });
      const validEmail = 'user@example.com';
      const invalidEmail = 'nonexistent@example.com';
      const response1 = await request(app).post('/login').send({
        email: validEmail,
        password: 'wrong'
      });
      const response2 = await request(app).post('/login').send({
        email: invalidEmail,
        password: 'wrong'
      });

      // Response times should be similar to prevent timing attacks
      const timeDiff = Math.abs(response1.body.duration - response2.body.duration);
      expect(timeDiff).toBeLessThan(50); // Allow 50ms variance
    });
    test('should enforce password complexity', async () => {
      const {
        validationRules
      } = require('../../middleware/security');
      app.post('/register', [validationRules.password, (req, res, next) => {
        const errors = require('express-validator').validationResult(req);
        if (!errors.isEmpty()) {
          return res.status(400).json({
            errors: errors.array()
          });
        }
        next();
      }], (req, res) => {
        res.json({
          message: 'valid password'
        });
      });
      const weakPasswords = ['password', '12345678', 'Password', 'Password1', 'password1!'];
      for (const password of weakPasswords) {
        const response = await request(app).post('/register').send({
          password
        });
        expect(response.status).toBe(400);
      }

      // Test strong password
      const strongResponse = await request(app).post('/register').send({
        password: 'StrongP@ssw0rd!'
      });
      expect(strongResponse.status).toBe(200);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImV4cHJlc3MiLCJzZXNzaW9uIiwiTW9uZ29TdG9yZSIsIm1vbmdvb3NlIiwiTW9uZ29NZW1vcnlTZXJ2ZXIiLCJnZW5lcmF0ZUNTUkZUb2tlbiIsImNzcmZQcm90ZWN0aW9uIiwicmF0ZUxpbWl0cyIsInNwZWVkTGltaXRlciIsInNhbml0aXplSW5wdXQiLCJzZWN1cml0eUhlYWRlcnMiLCJhcGlLZXlBdXRoIiwiZGVzY3JpYmUiLCJhcHAiLCJtb25nb1NlcnZlciIsIm1vbmdvVXJpIiwiYmVmb3JlQWxsIiwiY3JlYXRlIiwiZ2V0VXJpIiwiY29ubmVjdGlvbiIsInJlYWR5U3RhdGUiLCJjb25uZWN0IiwiYWZ0ZXJBbGwiLCJkaXNjb25uZWN0Iiwic3RvcCIsImJlZm9yZUVhY2giLCJ1c2UiLCJzZWNyZXQiLCJyZXNhdmUiLCJzYXZlVW5pbml0aWFsaXplZCIsInN0b3JlIiwibW9uZ29VcmwiLCJjb29raWUiLCJzZWN1cmUiLCJodHRwT25seSIsImpzb24iLCJ0ZXN0IiwiZ2V0IiwicmVxIiwicmVzIiwibWVzc2FnZSIsInJlc3BvbnNlIiwiZXhwZWN0IiwiaGVhZGVycyIsInRvQmUiLCJ0b0NvbnRhaW4iLCJ0b0JlVW5kZWZpbmVkIiwicG9zdCIsImJvZHkiLCJtYWxpY2lvdXNQYXlsb2FkIiwiZW1haWwiLCIkbmUiLCJwYXNzd29yZCIsIiRyZWdleCIsInNlbmQiLCJ1c2VyIiwicXVlcnkiLCIkd2hlcmUiLCJkYXRhIiwiJHNldCIsImFkbWluIiwiX3doZXJlXyIsInRvQmVEZWZpbmVkIiwiX3NldF8iLCJjc3JmVG9rZW4iLCJ0b0hhdmVMZW5ndGgiLCJzdGF0dXMiLCJlcnJvciIsImNvZGUiLCJhZ2VudCIsImNzcmZSZXNwb25zZSIsInNldCIsInByb2Nlc3MiLCJlbnYiLCJWQUxJRF9BUElfS0VZUyIsImFmdGVyRWFjaCIsImdlbmVyYWwiLCJwcm9taXNlcyIsImkiLCJwdXNoIiwicmVzcG9uc2VzIiwiUHJvbWlzZSIsImFsbCIsInN1Y2Nlc3NmdWxSZXNwb25zZXMiLCJmaWx0ZXIiLCJyIiwibGVuZ3RoIiwidG9CZUxlc3NUaGFuT3JFcXVhbCIsImF1dGgiLCJyYXRlTGltaXRlZFJlc3BvbnNlcyIsInRvQmVHcmVhdGVyVGhhbiIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJlbmRUaW1lIiwiZHVyYXRpb24iLCJpc0VtYWlsIiwid2l0aE1lc3NhZ2UiLCJuZXh0IiwiZXJyb3JzIiwidmFsaWRhdGlvblJlc3VsdCIsImlzRW1wdHkiLCJhcnJheSIsIm1zZyIsImlzTGVuZ3RoIiwibWluIiwibWF0Y2hlcyIsInNhbml0aXplZCIsInNxbEluamVjdGlvblBheWxvYWRzIiwicGF5bG9hZCIsImNvbW1lbnQiLCJ4c3NQYXlsb2FkcyIsImZpbGVuYW1lIiwicGFyYW1zIiwiYWNjZXNzIiwidHJhdmVyc2FsUGF5bG9hZHMiLCJlbmNvZGVVUklDb21wb25lbnQiLCJob3N0IiwicmVzdWx0IiwiY29tbWFuZEluamVjdGlvblBheWxvYWRzIiwic2l6ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsYXJnZVBheWxvYWQiLCJyZXBlYXQiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInN1Y2Nlc3MiLCJ2YWxpZEVtYWlsIiwiaW52YWxpZEVtYWlsIiwicmVzcG9uc2UxIiwicmVzcG9uc2UyIiwidGltZURpZmYiLCJNYXRoIiwiYWJzIiwidG9CZUxlc3NUaGFuIiwidmFsaWRhdGlvblJ1bGVzIiwid2Vha1Bhc3N3b3JkcyIsInN0cm9uZ1Jlc3BvbnNlIl0sInNvdXJjZXMiOlsic2VjdXJpdHkudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgnc3VwZXJ0ZXN0Jyk7XG5jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xuY29uc3Qgc2Vzc2lvbiA9IHJlcXVpcmUoJ2V4cHJlc3Mtc2Vzc2lvbicpO1xuY29uc3QgTW9uZ29TdG9yZSA9IHJlcXVpcmUoJ2Nvbm5lY3QtbW9uZ28nKTtcbmNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcbmNvbnN0IHsgTW9uZ29NZW1vcnlTZXJ2ZXIgfSA9IHJlcXVpcmUoJ21vbmdvZGItbWVtb3J5LXNlcnZlcicpO1xuXG4vLyBJbXBvcnQgc2VjdXJpdHkgbWlkZGxld2FyZVxuY29uc3QgeyBcbiAgZ2VuZXJhdGVDU1JGVG9rZW4sIFxuICBjc3JmUHJvdGVjdGlvbiwgXG4gIHJhdGVMaW1pdHMsIFxuICBzcGVlZExpbWl0ZXIsIFxuICBzYW5pdGl6ZUlucHV0LCBcbiAgc2VjdXJpdHlIZWFkZXJzLFxuICBhcGlLZXlBdXRoIFxufSA9IHJlcXVpcmUoJy4uLy4uL21pZGRsZXdhcmUvc2VjdXJpdHknKTtcblxuZGVzY3JpYmUoJ1NlY3VyaXR5IFRlc3RzJywgKCkgPT4ge1xuICBsZXQgYXBwO1xuICBsZXQgbW9uZ29TZXJ2ZXI7XG4gIGxldCBtb25nb1VyaTtcblxuICBiZWZvcmVBbGwoYXN5bmMgKCkgPT4ge1xuICAgIC8vIFN0YXJ0IGluLW1lbW9yeSBNb25nb0RCXG4gICAgbW9uZ29TZXJ2ZXIgPSBhd2FpdCBNb25nb01lbW9yeVNlcnZlci5jcmVhdGUoKTtcbiAgICBtb25nb1VyaSA9IG1vbmdvU2VydmVyLmdldFVyaSgpO1xuICAgIFxuICAgIC8vIE9ubHkgY29ubmVjdCBpZiBub3QgYWxyZWFkeSBjb25uZWN0ZWRcbiAgICBpZiAobW9uZ29vc2UuY29ubmVjdGlvbi5yZWFkeVN0YXRlID09PSAwKSB7XG4gICAgICBhd2FpdCBtb25nb29zZS5jb25uZWN0KG1vbmdvVXJpKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFmdGVyQWxsKGFzeW5jICgpID0+IHtcbiAgICBpZiAobW9uZ29vc2UuY29ubmVjdGlvbi5yZWFkeVN0YXRlICE9PSAwKSB7XG4gICAgICBhd2FpdCBtb25nb29zZS5kaXNjb25uZWN0KCk7XG4gICAgfVxuICAgIGF3YWl0IG1vbmdvU2VydmVyLnN0b3AoKTtcbiAgfSk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8gQ3JlYXRlIHRlc3QgYXBwXG4gICAgYXBwID0gZXhwcmVzcygpO1xuICAgIFxuICAgIC8vIEFkZCBzZXNzaW9uIG1pZGRsZXdhcmVcbiAgICBhcHAudXNlKHNlc3Npb24oe1xuICAgICAgc2VjcmV0OiAndGVzdC1zZWNyZXQnLFxuICAgICAgcmVzYXZlOiBmYWxzZSxcbiAgICAgIHNhdmVVbmluaXRpYWxpemVkOiBmYWxzZSxcbiAgICAgIHN0b3JlOiBNb25nb1N0b3JlLmNyZWF0ZSh7IG1vbmdvVXJsOiBtb25nb1VyaSB9KSxcbiAgICAgIGNvb2tpZTogeyBzZWN1cmU6IGZhbHNlLCBodHRwT25seTogdHJ1ZSB9XG4gICAgfSkpO1xuICAgIFxuICAgIGFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuICAgIGFwcC51c2Uoc2VjdXJpdHlIZWFkZXJzKTtcbiAgICBhcHAudXNlKHNhbml0aXplSW5wdXQpO1xuICAgIGFwcC51c2UoZ2VuZXJhdGVDU1JGVG9rZW4pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2VjdXJpdHkgSGVhZGVycycsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgYWRkIHNlY3VyaXR5IGhlYWRlcnMgdG8gcmVzcG9uc2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXBwLmdldCgnL3Rlc3QnLCAocmVxLCByZXMpID0+IHtcbiAgICAgICAgcmVzLmpzb24oeyBtZXNzYWdlOiAndGVzdCcgfSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcCkuZ2V0KCcvdGVzdCcpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzcG9uc2UuaGVhZGVyc1sneC1jb250ZW50LXR5cGUtb3B0aW9ucyddKS50b0JlKCdub3NuaWZmJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuaGVhZGVyc1sneC1mcmFtZS1vcHRpb25zJ10pLnRvQmUoJ0RFTlknKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5oZWFkZXJzWyd4LXhzcy1wcm90ZWN0aW9uJ10pLnRvQmUoJzE7IG1vZGU9YmxvY2snKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5oZWFkZXJzWydyZWZlcnJlci1wb2xpY3knXSkudG9CZSgnc3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbicpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmhlYWRlcnNbJ3Blcm1pc3Npb25zLXBvbGljeSddKS50b0NvbnRhaW4oJ2dlb2xvY2F0aW9uPSgpJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuaGVhZGVyc1sneC1wb3dlcmVkLWJ5J10pLnRvQmVVbmRlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0lucHV0IFNhbml0aXphdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgc2FuaXRpemUgTW9uZ29EQiBpbmplY3Rpb24gYXR0ZW1wdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhcHAucG9zdCgnL3Rlc3QnLCAocmVxLCByZXMpID0+IHtcbiAgICAgICAgcmVzLmpzb24oeyBib2R5OiByZXEuYm9keSB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBtYWxpY2lvdXNQYXlsb2FkID0ge1xuICAgICAgICBlbWFpbDogeyAkbmU6IG51bGwgfSxcbiAgICAgICAgcGFzc3dvcmQ6IHsgJHJlZ2V4OiAnLionIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvdGVzdCcpXG4gICAgICAgIC5zZW5kKG1hbGljaW91c1BheWxvYWQpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5ib2R5LmVtYWlsKS50b0JlKCdfbmVfJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5ib2R5LnBhc3N3b3JkKS50b0JlKCdfcmVnZXhfJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgc2FuaXRpemUgbmVzdGVkIG9iamVjdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhcHAucG9zdCgnL3Rlc3QnLCAocmVxLCByZXMpID0+IHtcbiAgICAgICAgcmVzLmpzb24oeyBib2R5OiByZXEuYm9keSB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBtYWxpY2lvdXNQYXlsb2FkID0ge1xuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgcXVlcnk6IHsgJHdoZXJlOiAnZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9JyB9LFxuICAgICAgICAgIGRhdGE6IHsgJHNldDogeyBhZG1pbjogdHJ1ZSB9IH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy90ZXN0JylcbiAgICAgICAgLnNlbmQobWFsaWNpb3VzUGF5bG9hZCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmJvZHkudXNlci5xdWVyeS5fd2hlcmVfKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuYm9keS51c2VyLmRhdGEuX3NldF8pLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDU1JGIFByb3RlY3Rpb24nLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGdlbmVyYXRlIENTUkYgdG9rZW4gaW4gc2Vzc2lvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGFwcC5nZXQoJy9jc3JmJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHJlcy5qc29uKHsgY3NyZlRva2VuOiByZXEuc2Vzc2lvbi5jc3JmVG9rZW4gfSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcCkuZ2V0KCcvY3NyZicpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5jc3JmVG9rZW4pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5jc3JmVG9rZW4pLnRvSGF2ZUxlbmd0aCg2NCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmVqZWN0IFBPU1QgcmVxdWVzdHMgd2l0aG91dCBDU1JGIHRva2VuJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXBwLnBvc3QoJy9wcm90ZWN0ZWQnLCBjc3JmUHJvdGVjdGlvbiwgKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHJlcy5qc29uKHsgbWVzc2FnZTogJ3N1Y2Nlc3MnIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvcHJvdGVjdGVkJylcbiAgICAgICAgLnNlbmQoeyBkYXRhOiAndGVzdCcgfSk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAzKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9yLmNvZGUpLnRvQmUoJ0NTUkZfVE9LRU5fTUlTTUFUQ0gnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBhY2NlcHQgUE9TVCByZXF1ZXN0cyB3aXRoIHZhbGlkIENTUkYgdG9rZW4nLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBGaXJzdCBnZXQgQ1NSRiB0b2tlblxuICAgICAgY29uc3QgYWdlbnQgPSByZXF1ZXN0LmFnZW50KGFwcCk7XG4gICAgICBcbiAgICAgIGFwcC5nZXQoJy9jc3JmJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHJlcy5qc29uKHsgY3NyZlRva2VuOiByZXEuc2Vzc2lvbi5jc3JmVG9rZW4gfSk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgYXBwLnBvc3QoJy9wcm90ZWN0ZWQnLCBjc3JmUHJvdGVjdGlvbiwgKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHJlcy5qc29uKHsgbWVzc2FnZTogJ3N1Y2Nlc3MnIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNzcmZSZXNwb25zZSA9IGF3YWl0IGFnZW50LmdldCgnL2NzcmYnKTtcbiAgICAgIGNvbnN0IGNzcmZUb2tlbiA9IGNzcmZSZXNwb25zZS5ib2R5LmNzcmZUb2tlbjtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhZ2VudFxuICAgICAgICAucG9zdCgnL3Byb3RlY3RlZCcpXG4gICAgICAgIC5zZXQoJ3gtY3NyZi10b2tlbicsIGNzcmZUb2tlbilcbiAgICAgICAgLnNlbmQoeyBkYXRhOiAndGVzdCcgfSk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5Lm1lc3NhZ2UpLnRvQmUoJ3N1Y2Nlc3MnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBhbGxvdyBHRVQgcmVxdWVzdHMgd2l0aG91dCBDU1JGIHRva2VuJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXBwLmdldCgnL3Byb3RlY3RlZCcsIGNzcmZQcm90ZWN0aW9uLCAocmVxLCByZXMpID0+IHtcbiAgICAgICAgcmVzLmpzb24oeyBtZXNzYWdlOiAnc3VjY2VzcycgfSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcCkuZ2V0KCcvcHJvdGVjdGVkJyk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5Lm1lc3NhZ2UpLnRvQmUoJ3N1Y2Nlc3MnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0FQSSBLZXkgQXV0aGVudGljYXRpb24nLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBwcm9jZXNzLmVudi5WQUxJRF9BUElfS0VZUyA9ICd0ZXN0X2tleV8xLHRlc3Rfa2V5XzIsdGVzdF9rZXlfMyc7XG4gICAgfSk7XG5cbiAgICBhZnRlckVhY2goKCkgPT4ge1xuICAgICAgZGVsZXRlIHByb2Nlc3MuZW52LlZBTElEX0FQSV9LRVlTO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHJlamVjdCByZXF1ZXN0cyB3aXRob3V0IEFQSSBrZXknLCBhc3luYyAoKSA9PiB7XG4gICAgICBhcHAuZ2V0KCcvYXBpLXByb3RlY3RlZCcsIGFwaUtleUF1dGgsIChyZXEsIHJlcykgPT4ge1xuICAgICAgICByZXMuanNvbih7IG1lc3NhZ2U6ICdzdWNjZXNzJyB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKS5nZXQoJy9hcGktcHJvdGVjdGVkJyk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAxKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9yLmNvZGUpLnRvQmUoJ0FQSV9LRVlfUkVRVUlSRUQnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZWplY3QgcmVxdWVzdHMgd2l0aCBpbnZhbGlkIEFQSSBrZXknLCBhc3luYyAoKSA9PiB7XG4gICAgICBhcHAuZ2V0KCcvYXBpLXByb3RlY3RlZCcsIGFwaUtleUF1dGgsIChyZXEsIHJlcykgPT4ge1xuICAgICAgICByZXMuanNvbih7IG1lc3NhZ2U6ICdzdWNjZXNzJyB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpLXByb3RlY3RlZCcpXG4gICAgICAgIC5zZXQoJ3gtYXBpLWtleScsICdpbnZhbGlkX2tleScpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5lcnJvci5jb2RlKS50b0JlKCdJTlZBTElEX0FQSV9LRVknKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBhY2NlcHQgcmVxdWVzdHMgd2l0aCB2YWxpZCBBUEkga2V5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXBwLmdldCgnL2FwaS1wcm90ZWN0ZWQnLCBhcGlLZXlBdXRoLCAocmVxLCByZXMpID0+IHtcbiAgICAgICAgcmVzLmpzb24oeyBtZXNzYWdlOiAnc3VjY2VzcycgfSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS1wcm90ZWN0ZWQnKVxuICAgICAgICAuc2V0KCd4LWFwaS1rZXknLCAndGVzdF9rZXlfMScpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5tZXNzYWdlKS50b0JlKCdzdWNjZXNzJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSYXRlIExpbWl0aW5nJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBlbmZvcmNlIGdlbmVyYWwgcmF0ZSBsaW1pdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhcHAudXNlKHJhdGVMaW1pdHMuZ2VuZXJhbCk7XG4gICAgICBhcHAuZ2V0KCcvdGVzdCcsIChyZXEsIHJlcykgPT4ge1xuICAgICAgICByZXMuanNvbih7IG1lc3NhZ2U6ICdzdWNjZXNzJyB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNYWtlIHJlcXVlc3RzIHVwIHRvIHRoZSBsaW1pdFxuICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChyZXF1ZXN0KGFwcCkuZ2V0KCcvdGVzdCcpKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2VzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgY29uc3Qgc3VjY2Vzc2Z1bFJlc3BvbnNlcyA9IHJlc3BvbnNlcy5maWx0ZXIociA9PiByLnN0YXR1cyA9PT0gMjAwKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHN1Y2Nlc3NmdWxSZXNwb25zZXMubGVuZ3RoKS50b0JlTGVzc1RoYW5PckVxdWFsKDEwMCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgZW5mb3JjZSBhdXRoIHJhdGUgbGltaXRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXBwLnVzZShyYXRlTGltaXRzLmF1dGgpO1xuICAgICAgYXBwLnBvc3QoJy9sb2dpbicsIChyZXEsIHJlcykgPT4ge1xuICAgICAgICByZXMuanNvbih7IG1lc3NhZ2U6ICdsb2dpbiBhdHRlbXB0JyB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNYWtlIHJlcXVlc3RzIHVwIHRvIHRoZSBsaW1pdFxuICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTU7IGkrKykge1xuICAgICAgICBwcm9taXNlcy5wdXNoKHJlcXVlc3QoYXBwKS5wb3N0KCcvbG9naW4nKS5zZW5kKHt9KSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlcyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgIGNvbnN0IHJhdGVMaW1pdGVkUmVzcG9uc2VzID0gcmVzcG9uc2VzLmZpbHRlcihyID0+IHIuc3RhdHVzID09PSA0MjkpO1xuICAgICAgXG4gICAgICBleHBlY3QocmF0ZUxpbWl0ZWRSZXNwb25zZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTcGVlZCBMaW1pdGluZyAoQnJ1dGUgRm9yY2UgUHJvdGVjdGlvbiknLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGFkZCBkZWxheXMgYWZ0ZXIgbXVsdGlwbGUgcmVxdWVzdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhcHAudXNlKHNwZWVkTGltaXRlcik7XG4gICAgICBhcHAucG9zdCgnL2xvZ2luJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHJlcy5qc29uKHsgbWVzc2FnZTogJ2xvZ2luIGF0dGVtcHQnIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBcbiAgICAgIC8vIE1ha2UgbXVsdGlwbGUgcmVxdWVzdHMgdG8gdHJpZ2dlciBzcGVlZCBsaW1pdGluZ1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgYXdhaXQgcmVxdWVzdChhcHApLnBvc3QoJy9sb2dpbicpLnNlbmQoe30pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gZW5kVGltZSAtIHN0YXJ0VGltZTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIHRha2UgbG9uZ2VyIGR1ZSB0byBzcGVlZCBsaW1pdGluZyBkZWxheXNcbiAgICAgIGV4cGVjdChkdXJhdGlvbikudG9CZUdyZWF0ZXJUaGFuKDEwMDApOyAvLyBBdCBsZWFzdCAxIHNlY29uZCBkZWxheVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnSW5wdXQgVmFsaWRhdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgdmFsaWRhdGUgZW1haWwgZm9ybWF0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyBib2R5IH0gPSByZXF1aXJlKCdleHByZXNzLXZhbGlkYXRvcicpO1xuICAgICAgXG4gICAgICBhcHAucG9zdCgnL3JlZ2lzdGVyJywgW1xuICAgICAgICBib2R5KCdlbWFpbCcpLmlzRW1haWwoKS53aXRoTWVzc2FnZSgnSW52YWxpZCBlbWFpbCBmb3JtYXQnKSxcbiAgICAgICAgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgICAgY29uc3QgZXJyb3JzID0gcmVxdWlyZSgnZXhwcmVzcy12YWxpZGF0b3InKS52YWxpZGF0aW9uUmVzdWx0KHJlcSk7XG4gICAgICAgICAgaWYgKCFlcnJvcnMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcnM6IGVycm9ycy5hcnJheSgpIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIF0sIChyZXEsIHJlcykgPT4ge1xuICAgICAgICByZXMuanNvbih7IG1lc3NhZ2U6ICd2YWxpZCcgfSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9yZWdpc3RlcicpXG4gICAgICAgIC5zZW5kKHsgZW1haWw6ICdpbnZhbGlkLWVtYWlsJyB9KTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3JzWzBdLm1zZykudG9CZSgnSW52YWxpZCBlbWFpbCBmb3JtYXQnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCB2YWxpZGF0ZSBwYXNzd29yZCBzdHJlbmd0aCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgYm9keSB9ID0gcmVxdWlyZSgnZXhwcmVzcy12YWxpZGF0b3InKTtcbiAgICAgIFxuICAgICAgYXBwLnBvc3QoJy9yZWdpc3RlcicsIFtcbiAgICAgICAgYm9keSgncGFzc3dvcmQnKVxuICAgICAgICAgIC5pc0xlbmd0aCh7IG1pbjogOCB9KVxuICAgICAgICAgIC53aXRoTWVzc2FnZSgnUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnMnKVxuICAgICAgICAgIC5tYXRjaGVzKC9eKD89LipbYS16XSkoPz0uKltBLVpdKSg/PS4qXFxkKSg/PS4qW0AkISUqPyZdKS8pXG4gICAgICAgICAgLndpdGhNZXNzYWdlKCdQYXNzd29yZCBtdXN0IGNvbnRhaW4gdXBwZXJjYXNlLCBsb3dlcmNhc2UsIG51bWJlciwgYW5kIHNwZWNpYWwgY2hhcmFjdGVyJyksXG4gICAgICAgIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGVycm9ycyA9IHJlcXVpcmUoJ2V4cHJlc3MtdmFsaWRhdG9yJykudmFsaWRhdGlvblJlc3VsdChyZXEpO1xuICAgICAgICAgIGlmICghZXJyb3JzLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3JzOiBlcnJvcnMuYXJyYXkoKSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9XG4gICAgICBdLCAocmVxLCByZXMpID0+IHtcbiAgICAgICAgcmVzLmpzb24oeyBtZXNzYWdlOiAndmFsaWQnIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvcmVnaXN0ZXInKVxuICAgICAgICAuc2VuZCh7IHBhc3N3b3JkOiAnd2VhaycgfSk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9ycy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BlbmV0cmF0aW9uIFRlc3RpbmcgU2NlbmFyaW9zJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBwcmV2ZW50IFNRTCBpbmplY3Rpb24gYXR0ZW1wdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhcHAucG9zdCgnL3NlYXJjaCcsIChyZXEsIHJlcykgPT4ge1xuICAgICAgICAvLyBTaW11bGF0ZSBhIHNlYXJjaCBlbmRwb2ludCB0aGF0IG1pZ2h0IGJlIHZ1bG5lcmFibGVcbiAgICAgICAgY29uc3QgcXVlcnkgPSByZXEuYm9keS5xdWVyeTtcbiAgICAgICAgcmVzLmpzb24oeyBxdWVyeSwgc2FuaXRpemVkOiB0cnVlIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHNxbEluamVjdGlvblBheWxvYWRzID0gW1xuICAgICAgICBcIic7IERST1AgVEFCTEUgdXNlcnM7IC0tXCIsXG4gICAgICAgIFwiJyBPUiAnMSc9JzFcIixcbiAgICAgICAgXCInIFVOSU9OIFNFTEVDVCAqIEZST00gdXNlcnMgLS1cIixcbiAgICAgICAgXCJhZG1pbictLVwiLFxuICAgICAgICBcIicgT1IgMT0xI1wiXG4gICAgICBdO1xuXG4gICAgICBmb3IgKGNvbnN0IHBheWxvYWQgb2Ygc3FsSW5qZWN0aW9uUGF5bG9hZHMpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgICAucG9zdCgnL3NlYXJjaCcpXG4gICAgICAgICAgLnNlbmQoeyBxdWVyeTogcGF5bG9hZCB9KTtcblxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICAgIC8vIFRoZSBwYXlsb2FkIHNob3VsZCBiZSBzYW5pdGl6ZWQgb3IgaGFuZGxlZCBzYWZlbHlcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkucXVlcnkpLnRvQmVEZWZpbmVkKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcHJldmVudCBYU1MgYXR0ZW1wdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhcHAucG9zdCgnL2NvbW1lbnQnLCAocmVxLCByZXMpID0+IHtcbiAgICAgICAgY29uc3QgY29tbWVudCA9IHJlcS5ib2R5LmNvbW1lbnQ7XG4gICAgICAgIHJlcy5qc29uKHsgY29tbWVudCB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB4c3NQYXlsb2FkcyA9IFtcbiAgICAgICAgXCI8c2NyaXB0PmFsZXJ0KCdYU1MnKTwvc2NyaXB0PlwiLFxuICAgICAgICBcIjxpbWcgc3JjPXggb25lcnJvcj1hbGVydCgnWFNTJyk+XCIsXG4gICAgICAgIFwiamF2YXNjcmlwdDphbGVydCgnWFNTJylcIixcbiAgICAgICAgXCI8c3ZnIG9ubG9hZD1hbGVydCgnWFNTJyk+XCIsXG4gICAgICAgIFwiJzthbGVydCgnWFNTJyk7Ly9cIlxuICAgICAgXTtcblxuICAgICAgZm9yIChjb25zdCBwYXlsb2FkIG9mIHhzc1BheWxvYWRzKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgICAgLnBvc3QoJy9jb21tZW50JylcbiAgICAgICAgICAuc2VuZCh7IGNvbW1lbnQ6IHBheWxvYWQgfSk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgICAvLyBYU1MgcGF5bG9hZHMgc2hvdWxkIGJlIGhhbmRsZWQgc2FmZWx5XG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmNvbW1lbnQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcHJldmVudCBkaXJlY3RvcnkgdHJhdmVyc2FsIGF0dGFja3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhcHAuZ2V0KCcvZmlsZS86ZmlsZW5hbWUnLCAocmVxLCByZXMpID0+IHtcbiAgICAgICAgY29uc3QgZmlsZW5hbWUgPSByZXEucGFyYW1zLmZpbGVuYW1lO1xuICAgICAgICAvLyBTaW11bGF0ZSBmaWxlIGFjY2VzcyAoc2hvdWxkIGJlIHByb3RlY3RlZClcbiAgICAgICAgcmVzLmpzb24oeyBmaWxlbmFtZSwgYWNjZXNzOiAnZGVuaWVkJyB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB0cmF2ZXJzYWxQYXlsb2FkcyA9IFtcbiAgICAgICAgXCIuLi8uLi8uLi9ldGMvcGFzc3dkXCIsXG4gICAgICAgIFwiLi5cXFxcLi5cXFxcLi5cXFxcd2luZG93c1xcXFxzeXN0ZW0zMlxcXFxjb25maWdcXFxcc2FtXCIsXG4gICAgICAgIFwiLi4uLi8vLi4uLi8vLi4uLi8vZXRjL3Bhc3N3ZFwiLFxuICAgICAgICBcIiUyZSUyZSUyZiUyZSUyZSUyZiUyZSUyZSUyZmV0YyUyZnBhc3N3ZFwiLFxuICAgICAgICBcIi4uJTI1MmYuLiUyNTJmLi4lMjUyZmV0YyUyNTJmcGFzc3dkXCJcbiAgICAgIF07XG5cbiAgICAgIGZvciAoY29uc3QgcGF5bG9hZCBvZiB0cmF2ZXJzYWxQYXlsb2Fkcykge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKS5nZXQoYC9maWxlLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHBheWxvYWQpfWApO1xuICAgICAgICBcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5hY2Nlc3MpLnRvQmUoJ2RlbmllZCcpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHByZXZlbnQgY29tbWFuZCBpbmplY3Rpb24gYXR0ZW1wdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhcHAucG9zdCgnL3BpbmcnLCAocmVxLCByZXMpID0+IHtcbiAgICAgICAgY29uc3QgaG9zdCA9IHJlcS5ib2R5Lmhvc3Q7XG4gICAgICAgIC8vIFNpbXVsYXRlIGEgcGluZyBjb21tYW5kIChzaG91bGQgYmUgc2FuaXRpemVkKVxuICAgICAgICByZXMuanNvbih7IGhvc3QsIHJlc3VsdDogJ3Nhbml0aXplZCcgfSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgY29tbWFuZEluamVjdGlvblBheWxvYWRzID0gW1xuICAgICAgICBcImdvb2dsZS5jb207IGNhdCAvZXRjL3Bhc3N3ZFwiLFxuICAgICAgICBcImdvb2dsZS5jb20gJiYgcm0gLXJmIC9cIixcbiAgICAgICAgXCJnb29nbGUuY29tIHwgbmMgLWwgNDQ0NFwiLFxuICAgICAgICBcImdvb2dsZS5jb20gYHdob2FtaWBcIixcbiAgICAgICAgXCJnb29nbGUuY29tICQoY2F0IC9ldGMvcGFzc3dkKVwiXG4gICAgICBdO1xuXG4gICAgICBmb3IgKGNvbnN0IHBheWxvYWQgb2YgY29tbWFuZEluamVjdGlvblBheWxvYWRzKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgICAgLnBvc3QoJy9waW5nJylcbiAgICAgICAgICAuc2VuZCh7IGhvc3Q6IHBheWxvYWQgfSk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5yZXN1bHQpLnRvQmUoJ3Nhbml0aXplZCcpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBsYXJnZSBwYXlsb2FkIGF0dGFja3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhcHAucG9zdCgnL3VwbG9hZCcsIChyZXEsIHJlcykgPT4ge1xuICAgICAgICByZXMuanNvbih7IHNpemU6IEpTT04uc3RyaW5naWZ5KHJlcS5ib2R5KS5sZW5ndGggfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQ3JlYXRlIGEgbGFyZ2UgcGF5bG9hZFxuICAgICAgY29uc3QgbGFyZ2VQYXlsb2FkID0ge1xuICAgICAgICBkYXRhOiAnQScucmVwZWF0KDEwMDAwMDAwKSAvLyAxME1CIG9mIGRhdGFcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvdXBsb2FkJylcbiAgICAgICAgLnNlbmQobGFyZ2VQYXlsb2FkKTtcblxuICAgICAgLy8gU2hvdWxkIGVpdGhlciByZWplY3Qgb3IgaGFuZGxlIGdyYWNlZnVsbHlcbiAgICAgIGV4cGVjdChbMjAwLCA0MTMsIDQwMF0pLnRvQ29udGFpbihyZXNwb25zZS5zdGF0dXMpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQXV0aGVudGljYXRpb24gU2VjdXJpdHknLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHByZXZlbnQgdGltaW5nIGF0dGFja3Mgb24gbG9naW4nLCBhc3luYyAoKSA9PiB7XG4gICAgICBhcHAucG9zdCgnL2xvZ2luJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNpbXVsYXRlIGNvbnN0YW50LXRpbWUgY29tcGFyaXNvblxuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWx3YXlzIHBlcmZvcm0gc29tZSB3b3JrIHJlZ2FyZGxlc3Mgb2YgdXNlciBleGlzdGVuY2VcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMCkpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gZW5kVGltZSAtIHN0YXJ0VGltZTtcbiAgICAgICAgXG4gICAgICAgIHJlcy5qc29uKHsgXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIGNyZWRlbnRpYWxzJyxcbiAgICAgICAgICBkdXJhdGlvbiBcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdmFsaWRFbWFpbCA9ICd1c2VyQGV4YW1wbGUuY29tJztcbiAgICAgIGNvbnN0IGludmFsaWRFbWFpbCA9ICdub25leGlzdGVudEBleGFtcGxlLmNvbSc7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlMSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2xvZ2luJylcbiAgICAgICAgLnNlbmQoeyBlbWFpbDogdmFsaWRFbWFpbCwgcGFzc3dvcmQ6ICd3cm9uZycgfSk7XG4gICAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UyID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvbG9naW4nKVxuICAgICAgICAuc2VuZCh7IGVtYWlsOiBpbnZhbGlkRW1haWwsIHBhc3N3b3JkOiAnd3JvbmcnIH0pO1xuXG4gICAgICAvLyBSZXNwb25zZSB0aW1lcyBzaG91bGQgYmUgc2ltaWxhciB0byBwcmV2ZW50IHRpbWluZyBhdHRhY2tzXG4gICAgICBjb25zdCB0aW1lRGlmZiA9IE1hdGguYWJzKHJlc3BvbnNlMS5ib2R5LmR1cmF0aW9uIC0gcmVzcG9uc2UyLmJvZHkuZHVyYXRpb24pO1xuICAgICAgZXhwZWN0KHRpbWVEaWZmKS50b0JlTGVzc1RoYW4oNTApOyAvLyBBbGxvdyA1MG1zIHZhcmlhbmNlXG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgZW5mb3JjZSBwYXNzd29yZCBjb21wbGV4aXR5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyB2YWxpZGF0aW9uUnVsZXMgfSA9IHJlcXVpcmUoJy4uLy4uL21pZGRsZXdhcmUvc2VjdXJpdHknKTtcbiAgICAgIFxuICAgICAgYXBwLnBvc3QoJy9yZWdpc3RlcicsIFtcbiAgICAgICAgdmFsaWRhdGlvblJ1bGVzLnBhc3N3b3JkLFxuICAgICAgICAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgICBjb25zdCBlcnJvcnMgPSByZXF1aXJlKCdleHByZXNzLXZhbGlkYXRvcicpLnZhbGlkYXRpb25SZXN1bHQocmVxKTtcbiAgICAgICAgICBpZiAoIWVycm9ycy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yczogZXJyb3JzLmFycmF5KCkgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgICAgXSwgKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHJlcy5qc29uKHsgbWVzc2FnZTogJ3ZhbGlkIHBhc3N3b3JkJyB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB3ZWFrUGFzc3dvcmRzID0gW1xuICAgICAgICAncGFzc3dvcmQnLFxuICAgICAgICAnMTIzNDU2NzgnLFxuICAgICAgICAnUGFzc3dvcmQnLFxuICAgICAgICAnUGFzc3dvcmQxJyxcbiAgICAgICAgJ3Bhc3N3b3JkMSEnXG4gICAgICBdO1xuXG4gICAgICBmb3IgKGNvbnN0IHBhc3N3b3JkIG9mIHdlYWtQYXNzd29yZHMpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgICAucG9zdCgnL3JlZ2lzdGVyJylcbiAgICAgICAgICAuc2VuZCh7IHBhc3N3b3JkIH0pO1xuXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIH1cblxuICAgICAgLy8gVGVzdCBzdHJvbmcgcGFzc3dvcmRcbiAgICAgIGNvbnN0IHN0cm9uZ1Jlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvcmVnaXN0ZXInKVxuICAgICAgICAuc2VuZCh7IHBhc3N3b3JkOiAnU3Ryb25nUEBzc3cwcmQhJyB9KTtcblxuICAgICAgZXhwZWN0KHN0cm9uZ1Jlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ3BDLE1BQU1DLE9BQU8sR0FBR0QsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNRSxPQUFPLEdBQUdGLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztBQUMxQyxNQUFNRyxVQUFVLEdBQUdILE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDM0MsTUFBTUksUUFBUSxHQUFHSixPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ3BDLE1BQU07RUFBRUs7QUFBa0IsQ0FBQyxHQUFHTCxPQUFPLENBQUMsdUJBQXVCLENBQUM7O0FBRTlEO0FBQ0EsTUFBTTtFQUNKTSxpQkFBaUI7RUFDakJDLGNBQWM7RUFDZEMsVUFBVTtFQUNWQyxZQUFZO0VBQ1pDLGFBQWE7RUFDYkMsZUFBZTtFQUNmQztBQUNGLENBQUMsR0FBR1osT0FBTyxDQUFDLDJCQUEyQixDQUFDO0FBRXhDYSxRQUFRLENBQUMsZ0JBQWdCLEVB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