2b6f71dda60b236a105abd2ab84d6b0e
const mongoose = require('mongoose');
const cartSchema = new mongoose.Schema({
  sessionId: {
    type: String,
    required: true,
    unique: true,
    index: true
  },
  items: [{
    product: {
      type: mongoose.Schema.Types.ObjectId,
      ref: 'Product',
      required: true
    },
    quantity: {
      type: Number,
      required: true,
      min: 1,
      max: 99
    },
    price: {
      type: Number,
      required: true
    },
    addedAt: {
      type: Date,
      default: Date.now
    }
  }],
  expiresAt: {
    type: Date,
    default: Date.now,
    expires: 2592000 // 30 days in seconds
  }
}, {
  timestamps: true
});

// Indexes for performance
cartSchema.index({
  sessionId: 1
});
cartSchema.index({
  expiresAt: 1
});

// Method to calculate cart totals
cartSchema.methods.calculateTotals = function () {
  const subtotal = this.items.reduce((total, item) => total + item.price * item.quantity, 0);
  return {
    itemCount: this.items.reduce((total, item) => total + item.quantity, 0),
    subtotal: Math.round(subtotal * 100) / 100,
    total: Math.round(subtotal * 100) / 100 // Can add tax/shipping later
  };
};

// Method to add item to cart
cartSchema.methods.addItem = function (productId, quantity, price) {
  const existingItemIndex = this.items.findIndex(item => item.product.toString() === productId.toString());
  if (existingItemIndex >= 0) {
    // Update existing item
    this.items[existingItemIndex].quantity += quantity;
    this.items[existingItemIndex].addedAt = new Date();
  } else {
    // Add new item
    this.items.push({
      product: productId,
      quantity,
      price,
      addedAt: new Date()
    });
  }
  this.updatedAt = new Date();
  // Only extend expiry if cart is not already expired and hasn't been extended recently
  const now = new Date();
  if (!this.expiresAt || this.expiresAt < now) {
    this.expiresAt = new Date(now.getTime() + 30 * 24 * 60 * 60 * 1000); // 30 days from now
  }
};

// Method to update item quantity
cartSchema.methods.updateItem = function (productId, quantity) {
  const itemIndex = this.items.findIndex(item => item.product.toString() === productId.toString());
  if (itemIndex >= 0) {
    if (quantity <= 0) {
      this.items.splice(itemIndex, 1);
    } else {
      this.items[itemIndex].quantity = quantity;
      this.items[itemIndex].addedAt = new Date();
    }
    this.updatedAt = new Date();
    return true;
  }
  return false;
};

// Method to remove item
cartSchema.methods.removeItem = function (productId) {
  const itemIndex = this.items.findIndex(item => item.product.toString() === productId.toString());
  if (itemIndex >= 0) {
    this.items.splice(itemIndex, 1);
    this.updatedAt = new Date();
    return true;
  }
  return false;
};

// Method to clear cart
cartSchema.methods.clearCart = function () {
  this.items = [];
  this.updatedAt = new Date();
};
module.exports = mongoose.model('Cart', cartSchema);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJjYXJ0U2NoZW1hIiwiU2NoZW1hIiwic2Vzc2lvbklkIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5pcXVlIiwiaW5kZXgiLCJpdGVtcyIsInByb2R1Y3QiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicXVhbnRpdHkiLCJOdW1iZXIiLCJtaW4iLCJtYXgiLCJwcmljZSIsImFkZGVkQXQiLCJEYXRlIiwiZGVmYXVsdCIsIm5vdyIsImV4cGlyZXNBdCIsImV4cGlyZXMiLCJ0aW1lc3RhbXBzIiwibWV0aG9kcyIsImNhbGN1bGF0ZVRvdGFscyIsInN1YnRvdGFsIiwicmVkdWNlIiwidG90YWwiLCJpdGVtIiwiaXRlbUNvdW50IiwiTWF0aCIsInJvdW5kIiwiYWRkSXRlbSIsInByb2R1Y3RJZCIsImV4aXN0aW5nSXRlbUluZGV4IiwiZmluZEluZGV4IiwidG9TdHJpbmciLCJwdXNoIiwidXBkYXRlZEF0IiwiZ2V0VGltZSIsInVwZGF0ZUl0ZW0iLCJpdGVtSW5kZXgiLCJzcGxpY2UiLCJyZW1vdmVJdGVtIiwiY2xlYXJDYXJ0IiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZXMiOlsiQ2FydC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5cbmNvbnN0IGNhcnRTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgc2Vzc2lvbklkOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICBpbmRleDogdHJ1ZVxuICB9LFxuICBpdGVtczogW3tcbiAgICBwcm9kdWN0OiB7XG4gICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICByZWY6ICdQcm9kdWN0JyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICBxdWFudGl0eToge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICBtaW46IDEsXG4gICAgICBtYXg6IDk5XG4gICAgfSxcbiAgICBwcmljZToge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIGFkZGVkQXQ6IHtcbiAgICAgIHR5cGU6IERhdGUsXG4gICAgICBkZWZhdWx0OiBEYXRlLm5vd1xuICAgIH1cbiAgfV0sXG4gIGV4cGlyZXNBdDoge1xuICAgIHR5cGU6IERhdGUsXG4gICAgZGVmYXVsdDogRGF0ZS5ub3csXG4gICAgZXhwaXJlczogMjU5MjAwMCAvLyAzMCBkYXlzIGluIHNlY29uZHNcbiAgfVxufSwge1xuICB0aW1lc3RhbXBzOiB0cnVlXG59KTtcblxuLy8gSW5kZXhlcyBmb3IgcGVyZm9ybWFuY2VcbmNhcnRTY2hlbWEuaW5kZXgoeyBzZXNzaW9uSWQ6IDEgfSk7XG5jYXJ0U2NoZW1hLmluZGV4KHsgZXhwaXJlc0F0OiAxIH0pO1xuXG4vLyBNZXRob2QgdG8gY2FsY3VsYXRlIGNhcnQgdG90YWxzXG5jYXJ0U2NoZW1hLm1ldGhvZHMuY2FsY3VsYXRlVG90YWxzID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHN1YnRvdGFsID0gdGhpcy5pdGVtcy5yZWR1Y2UoKHRvdGFsLCBpdGVtKSA9PiB0b3RhbCArIChpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eSksIDApO1xuICByZXR1cm4ge1xuICAgIGl0ZW1Db3VudDogdGhpcy5pdGVtcy5yZWR1Y2UoKHRvdGFsLCBpdGVtKSA9PiB0b3RhbCArIGl0ZW0ucXVhbnRpdHksIDApLFxuICAgIHN1YnRvdGFsOiBNYXRoLnJvdW5kKHN1YnRvdGFsICogMTAwKSAvIDEwMCxcbiAgICB0b3RhbDogTWF0aC5yb3VuZChzdWJ0b3RhbCAqIDEwMCkgLyAxMDAgLy8gQ2FuIGFkZCB0YXgvc2hpcHBpbmcgbGF0ZXJcbiAgfTtcbn07XG5cbi8vIE1ldGhvZCB0byBhZGQgaXRlbSB0byBjYXJ0XG5jYXJ0U2NoZW1hLm1ldGhvZHMuYWRkSXRlbSA9IGZ1bmN0aW9uKHByb2R1Y3RJZCwgcXVhbnRpdHksIHByaWNlKSB7XG4gIGNvbnN0IGV4aXN0aW5nSXRlbUluZGV4ID0gdGhpcy5pdGVtcy5maW5kSW5kZXgoaXRlbSA9PiBcbiAgICBpdGVtLnByb2R1Y3QudG9TdHJpbmcoKSA9PT0gcHJvZHVjdElkLnRvU3RyaW5nKClcbiAgKTtcblxuICBpZiAoZXhpc3RpbmdJdGVtSW5kZXggPj0gMCkge1xuICAgIC8vIFVwZGF0ZSBleGlzdGluZyBpdGVtXG4gICAgdGhpcy5pdGVtc1tleGlzdGluZ0l0ZW1JbmRleF0ucXVhbnRpdHkgKz0gcXVhbnRpdHk7XG4gICAgdGhpcy5pdGVtc1tleGlzdGluZ0l0ZW1JbmRleF0uYWRkZWRBdCA9IG5ldyBEYXRlKCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQWRkIG5ldyBpdGVtXG4gICAgdGhpcy5pdGVtcy5wdXNoKHtcbiAgICAgIHByb2R1Y3Q6IHByb2R1Y3RJZCxcbiAgICAgIHF1YW50aXR5LFxuICAgICAgcHJpY2UsXG4gICAgICBhZGRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgfSk7XG4gIH1cbiAgXG4gIHRoaXMudXBkYXRlZEF0ID0gbmV3IERhdGUoKTtcbiAgLy8gT25seSBleHRlbmQgZXhwaXJ5IGlmIGNhcnQgaXMgbm90IGFscmVhZHkgZXhwaXJlZCBhbmQgaGFzbid0IGJlZW4gZXh0ZW5kZWQgcmVjZW50bHlcbiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgaWYgKCF0aGlzLmV4cGlyZXNBdCB8fCB0aGlzLmV4cGlyZXNBdCA8IG5vdykge1xuICAgIHRoaXMuZXhwaXJlc0F0ID0gbmV3IERhdGUobm93LmdldFRpbWUoKSArIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCk7IC8vIDMwIGRheXMgZnJvbSBub3dcbiAgfVxufTtcblxuLy8gTWV0aG9kIHRvIHVwZGF0ZSBpdGVtIHF1YW50aXR5XG5jYXJ0U2NoZW1hLm1ldGhvZHMudXBkYXRlSXRlbSA9IGZ1bmN0aW9uKHByb2R1Y3RJZCwgcXVhbnRpdHkpIHtcbiAgY29uc3QgaXRlbUluZGV4ID0gdGhpcy5pdGVtcy5maW5kSW5kZXgoaXRlbSA9PiBcbiAgICBpdGVtLnByb2R1Y3QudG9TdHJpbmcoKSA9PT0gcHJvZHVjdElkLnRvU3RyaW5nKClcbiAgKTtcblxuICBpZiAoaXRlbUluZGV4ID49IDApIHtcbiAgICBpZiAocXVhbnRpdHkgPD0gMCkge1xuICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoaXRlbUluZGV4LCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pdGVtc1tpdGVtSW5kZXhdLnF1YW50aXR5ID0gcXVhbnRpdHk7XG4gICAgICB0aGlzLml0ZW1zW2l0ZW1JbmRleF0uYWRkZWRBdCA9IG5ldyBEYXRlKCk7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlZEF0ID0gbmV3IERhdGUoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vLyBNZXRob2QgdG8gcmVtb3ZlIGl0ZW1cbmNhcnRTY2hlbWEubWV0aG9kcy5yZW1vdmVJdGVtID0gZnVuY3Rpb24ocHJvZHVjdElkKSB7XG4gIGNvbnN0IGl0ZW1JbmRleCA9IHRoaXMuaXRlbXMuZmluZEluZGV4KGl0ZW0gPT4gXG4gICAgaXRlbS5wcm9kdWN0LnRvU3RyaW5nKCkgPT09IHByb2R1Y3RJZC50b1N0cmluZygpXG4gICk7XG5cbiAgaWYgKGl0ZW1JbmRleCA+PSAwKSB7XG4gICAgdGhpcy5pdGVtcy5zcGxpY2UoaXRlbUluZGV4LCAxKTtcbiAgICB0aGlzLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLy8gTWV0aG9kIHRvIGNsZWFyIGNhcnRcbmNhcnRTY2hlbWEubWV0aG9kcy5jbGVhckNhcnQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pdGVtcyA9IFtdO1xuICB0aGlzLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVsKCdDYXJ0JywgY2FydFNjaGVtYSk7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFFcEMsTUFBTUMsVUFBVSxHQUFHLElBQUlGLFFBQVEsQ0FBQ0csTUFBTSxDQUFDO0VBQ3JDQyxTQUFTLEVBQUU7SUFDVEMsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRSxJQUFJO0lBQ2RDLE1BQU0sRUFBRSxJQUFJO0lBQ1pDLEtBQUssRUFBRTtFQUNULENBQUM7RUFDREMsS0FBSyxFQUFFLENBQUM7SUFDTkMsT0FBTyxFQUFFO01BQ1BOLElBQUksRUFBRUwsUUFBUSxDQUFDRyxNQUFNLENBQUNTLEtBQUssQ0FBQ0MsUUFBUTtNQUNwQ0MsR0FBRyxFQUFFLFNBQVM7TUFDZFAsUUFBUSxFQUFFO0lBQ1osQ0FBQztJQUNEUSxRQUFRLEVBQUU7TUFDUlYsSUFBSSxFQUFFVyxNQUFNO01BQ1pULFFBQVEsRUFBRSxJQUFJO01BQ2RVLEdBQUcsRUFBRSxDQUFDO01BQ05DLEdBQUcsRUFBRTtJQUNQLENBQUM7SUFDREMsS0FBSyxFQUFFO01BQ0xkLElBQUksRUFBRVcsTUFBTTtNQUNaVCxRQUFRLEVBQUU7SUFDWixDQUFDO0lBQ0RhLE9BQU8sRUFBRTtNQUNQZixJQUFJLEVBQUVnQixJQUFJO01BQ1ZDLE9BQU8sRUFBRUQsSUFBSSxDQUFDRTtJQUNoQjtFQUNGLENBQUMsQ0FBQztFQUNGQyxTQUFTLEVBQUU7SUFDVG5CLElBQUksRUFBRWdCLElBQUk7SUFDVkMsT0FBTyxFQUFFRCxJQUFJLENBQUNFLEdBQUc7SUFDakJFLE9BQU8sRUFBRSxPQUFPLENBQUM7RUFDbkI7QUFDRixDQUFDLEVBQUU7RUFDREMsVUFBVSxFQUFFO0FBQ2QsQ0FBQyxDQUFDOztBQUVGO0FBQ0F4QixVQUFVLENBQUNPLEtBQUssQ0FBQztFQUFFTCxTQUFTLEVBQUU7QUFBRSxDQUFDLENBQUM7QUFDbENG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