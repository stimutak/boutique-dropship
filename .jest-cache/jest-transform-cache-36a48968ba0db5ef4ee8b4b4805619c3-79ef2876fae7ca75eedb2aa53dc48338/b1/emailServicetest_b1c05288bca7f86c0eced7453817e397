992a3c5a612eb323efd461afcd5fbb83
// Clear the global mock for emailService to test the actual implementation
_getJestObj().unmock('../../utils/emailService');
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const {
  sendOrderConfirmation,
  sendWelcomeEmail,
  sendPaymentReceipt,
  emailTemplates
} = require('../../utils/emailService');
describe('Email Service Unit Tests', () => {
  // Mock environment variables
  const originalEnv = process.env;
  beforeEach(() => {
    jest.resetModules();
    process.env = {
      ...originalEnv
    };
  });
  afterAll(() => {
    process.env = originalEnv;
  });
  describe('Email Service Configuration', () => {
    test('should skip emails when not configured', async () => {
      // Remove email configuration
      delete process.env.EMAIL_HOST;
      delete process.env.EMAIL_USER;
      const result = await sendOrderConfirmation('test@example.com', {
        orderNumber: 'TEST-123',
        customerName: 'Test User',
        items: [],
        total: 100,
        shippingAddress: {
          firstName: 'Test',
          lastName: 'User',
          street: '123 Test St',
          city: 'Test City',
          state: 'TS',
          zipCode: '12345',
          country: 'US'
        }
      });
      expect(result.success).toBe(true);
      expect(result.message).toBe('Email skipped - not configured');
    });
    test('should handle email sending errors gracefully', async () => {
      // Set up email config
      process.env.EMAIL_HOST = 'smtp.test.com';
      process.env.EMAIL_USER = 'test@test.com';
      process.env.EMAIL_PASS = 'testpass';

      // Email will fail because the SMTP server doesn't exist
      const result = await sendWelcomeEmail('test@example.com', {
        firstName: 'Test',
        email: 'test@example.com'
      });
      expect(result.success).toBe(false);
      expect(result.error).toBeDefined();
    });
  });
  describe('Email Templates', () => {
    test('should generate order confirmation template', () => {
      const orderData = {
        orderNumber: 'ORD-12345',
        customerName: 'John Doe',
        items: [{
          productName: 'Crystal',
          quantity: 2,
          price: 29.99
        }, {
          productName: 'Essential Oil',
          quantity: 1,
          price: 19.99
        }],
        total: 79.97,
        shippingAddress: {
          firstName: 'John',
          lastName: 'Doe',
          street: '123 Main St',
          city: 'Paris',
          state: 'IDF',
          zipCode: '75001',
          country: 'FR'
        }
      };
      const template = emailTemplates.orderConfirmation(orderData);
      expect(template.subject).toBe('Order Confirmation - ORD-12345');
      expect(template.text).toContain('John Doe');
      expect(template.text).toContain('Crystal (Qty: 2) - $29.99');
      expect(template.text).toContain('Essential Oil (Qty: 1) - $19.99');
      expect(template.text).toContain('$79.97');
      expect(template.html).toContain('<h2');
      expect(template.html).toContain('Order Confirmation');
    });
    test('should generate payment receipt template', () => {
      const paymentData = {
        orderNumber: 'ORD-12345',
        customerName: 'Jane Smith',
        total: 99.99,
        paymentMethod: 'Credit Card',
        transactionId: 'TXN-98765',
        paidAt: new Date('2024-01-15')
      };
      const template = emailTemplates.paymentReceipt(paymentData);
      expect(template.subject).toBe('Payment Receipt - ORD-12345');
      expect(template.text).toContain('Jane Smith');
      expect(template.text).toContain('$99.99');
      expect(template.text).toContain('TXN-98765');
      expect(template.html).toContain('Payment Receipt');
    });
    test('should generate welcome email template', () => {
      const userData = {
        firstName: 'Alice',
        email: 'alice@example.com'
      };
      const template = emailTemplates.welcomeEmail(userData);
      expect(template.subject).toBe('Welcome to Our Holistic Store!');
      expect(template.text).toContain('Dear Alice');
      expect(template.text).toContain('holistic wellness community');
      expect(template.html).toContain('Welcome to Our Holistic Store!');
    });
    test('should generate order status update template', () => {
      const statusData = {
        orderNumber: 'ORD-12345',
        customerName: 'Bob Johnson',
        status: 'shipped',
        trackingNumber: 'TRACK-123456'
      };
      const template = emailTemplates.orderStatusUpdate(statusData);
      expect(template.subject).toBe('Order Update - ORD-12345');
      expect(template.text).toContain('Bob Johnson');
      expect(template.text).toContain('Status: Shipped');
      expect(template.text).toContain('Your order has been shipped');
      expect(template.text).toContain('TRACK-123456');
    });
    test('should generate password reset template', () => {
      const resetData = {
        firstName: 'Charlie',
        resetToken: 'reset-token-123',
        resetUrl: 'https://example.com/reset?token=reset-token-123'
      };
      const template = emailTemplates.passwordReset(resetData);
      expect(template.subject).toBe('Password Reset Request');
      expect(template.text).toContain('Dear Charlie');
      expect(template.text).toContain(resetData.resetUrl);
      expect(template.text).toContain('expire in 1 hour');
      expect(template.html).toContain('Reset Password');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsInVubW9jayIsImplc3QiLCJyZXF1aXJlIiwic2VuZE9yZGVyQ29uZmlybWF0aW9uIiwic2VuZFdlbGNvbWVFbWFpbCIsInNlbmRQYXltZW50UmVjZWlwdCIsImVtYWlsVGVtcGxhdGVzIiwiZGVzY3JpYmUiLCJvcmlnaW5hbEVudiIsInByb2Nlc3MiLCJlbnYiLCJiZWZvcmVFYWNoIiwicmVzZXRNb2R1bGVzIiwiYWZ0ZXJBbGwiLCJ0ZXN0IiwiRU1BSUxfSE9TVCIsIkVNQUlMX1VTRVIiLCJyZXN1bHQiLCJvcmRlck51bWJlciIsImN1c3RvbWVyTmFtZSIsIml0ZW1zIiwidG90YWwiLCJzaGlwcGluZ0FkZHJlc3MiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInN0cmVldCIsImNpdHkiLCJzdGF0ZSIsInppcENvZGUiLCJjb3VudHJ5IiwiZXhwZWN0Iiwic3VjY2VzcyIsInRvQmUiLCJtZXNzYWdlIiwiRU1BSUxfUEFTUyIsImVtYWlsIiwiZXJyb3IiLCJ0b0JlRGVmaW5lZCIsIm9yZGVyRGF0YSIsInByb2R1Y3ROYW1lIiwicXVhbnRpdHkiLCJwcmljZSIsInRlbXBsYXRlIiwib3JkZXJDb25maXJtYXRpb24iLCJzdWJqZWN0IiwidGV4dCIsInRvQ29udGFpbiIsImh0bWwiLCJwYXltZW50RGF0YSIsInBheW1lbnRNZXRob2QiLCJ0cmFuc2FjdGlvbklkIiwicGFpZEF0IiwiRGF0ZSIsInBheW1lbnRSZWNlaXB0IiwidXNlckRhdGEiLCJ3ZWxjb21lRW1haWwiLCJzdGF0dXNEYXRhIiwic3RhdHVzIiwidHJhY2tpbmdOdW1iZXIiLCJvcmRlclN0YXR1c1VwZGF0ZSIsInJlc2V0RGF0YSIsInJlc2V0VG9rZW4iLCJyZXNldFVybCIsInBhc3N3b3JkUmVzZXQiXSwic291cmNlcyI6WyJlbWFpbFNlcnZpY2UudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDbGVhciB0aGUgZ2xvYmFsIG1vY2sgZm9yIGVtYWlsU2VydmljZSB0byB0ZXN0IHRoZSBhY3R1YWwgaW1wbGVtZW50YXRpb25cbmplc3QudW5tb2NrKCcuLi8uLi91dGlscy9lbWFpbFNlcnZpY2UnKTtcblxuY29uc3Qge1xuICBzZW5kT3JkZXJDb25maXJtYXRpb24sXG4gIHNlbmRXZWxjb21lRW1haWwsXG4gIHNlbmRQYXltZW50UmVjZWlwdCxcbiAgZW1haWxUZW1wbGF0ZXNcbn0gPSByZXF1aXJlKCcuLi8uLi91dGlscy9lbWFpbFNlcnZpY2UnKTtcblxuZGVzY3JpYmUoJ0VtYWlsIFNlcnZpY2UgVW5pdCBUZXN0cycsICgpID0+IHtcbiAgLy8gTW9jayBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAgY29uc3Qgb3JpZ2luYWxFbnYgPSBwcm9jZXNzLmVudjtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LnJlc2V0TW9kdWxlcygpO1xuICAgIHByb2Nlc3MuZW52ID0geyAuLi5vcmlnaW5hbEVudiB9O1xuICB9KTtcblxuICBhZnRlckFsbCgoKSA9PiB7XG4gICAgcHJvY2Vzcy5lbnYgPSBvcmlnaW5hbEVudjtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0VtYWlsIFNlcnZpY2UgQ29uZmlndXJhdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgc2tpcCBlbWFpbHMgd2hlbiBub3QgY29uZmlndXJlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFJlbW92ZSBlbWFpbCBjb25maWd1cmF0aW9uXG4gICAgICBkZWxldGUgcHJvY2Vzcy5lbnYuRU1BSUxfSE9TVDtcbiAgICAgIGRlbGV0ZSBwcm9jZXNzLmVudi5FTUFJTF9VU0VSO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kT3JkZXJDb25maXJtYXRpb24oJ3Rlc3RAZXhhbXBsZS5jb20nLCB7XG4gICAgICAgIG9yZGVyTnVtYmVyOiAnVEVTVC0xMjMnLFxuICAgICAgICBjdXN0b21lck5hbWU6ICdUZXN0IFVzZXInLFxuICAgICAgICBpdGVtczogW10sXG4gICAgICAgIHRvdGFsOiAxMDAsXG4gICAgICAgIHNoaXBwaW5nQWRkcmVzczoge1xuICAgICAgICAgIGZpcnN0TmFtZTogJ1Rlc3QnLFxuICAgICAgICAgIGxhc3ROYW1lOiAnVXNlcicsXG4gICAgICAgICAgc3RyZWV0OiAnMTIzIFRlc3QgU3QnLFxuICAgICAgICAgIGNpdHk6ICdUZXN0IENpdHknLFxuICAgICAgICAgIHN0YXRlOiAnVFMnLFxuICAgICAgICAgIHppcENvZGU6ICcxMjM0NScsXG4gICAgICAgICAgY291bnRyeTogJ1VTJ1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5tZXNzYWdlKS50b0JlKCdFbWFpbCBza2lwcGVkIC0gbm90IGNvbmZpZ3VyZWQnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgZW1haWwgc2VuZGluZyBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFNldCB1cCBlbWFpbCBjb25maWdcbiAgICAgIHByb2Nlc3MuZW52LkVNQUlMX0hPU1QgPSAnc210cC50ZXN0LmNvbSc7XG4gICAgICBwcm9jZXNzLmVudi5FTUFJTF9VU0VSID0gJ3Rlc3RAdGVzdC5jb20nO1xuICAgICAgcHJvY2Vzcy5lbnYuRU1BSUxfUEFTUyA9ICd0ZXN0cGFzcyc7XG5cbiAgICAgIC8vIEVtYWlsIHdpbGwgZmFpbCBiZWNhdXNlIHRoZSBTTVRQIHNlcnZlciBkb2Vzbid0IGV4aXN0XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kV2VsY29tZUVtYWlsKCd0ZXN0QGV4YW1wbGUuY29tJywge1xuICAgICAgICBmaXJzdE5hbWU6ICdUZXN0JyxcbiAgICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJ1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRW1haWwgVGVtcGxhdGVzJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBnZW5lcmF0ZSBvcmRlciBjb25maXJtYXRpb24gdGVtcGxhdGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBvcmRlckRhdGEgPSB7XG4gICAgICAgIG9yZGVyTnVtYmVyOiAnT1JELTEyMzQ1JyxcbiAgICAgICAgY3VzdG9tZXJOYW1lOiAnSm9obiBEb2UnLFxuICAgICAgICBpdGVtczogW1xuICAgICAgICAgIHsgcHJvZHVjdE5hbWU6ICdDcnlzdGFsJywgcXVhbnRpdHk6IDIsIHByaWNlOiAyOS45OSB9LFxuICAgICAgICAgIHsgcHJvZHVjdE5hbWU6ICdFc3NlbnRpYWwgT2lsJywgcXVhbnRpdHk6IDEsIHByaWNlOiAxOS45OSB9XG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsOiA3OS45NyxcbiAgICAgICAgc2hpcHBpbmdBZGRyZXNzOiB7XG4gICAgICAgICAgZmlyc3ROYW1lOiAnSm9obicsXG4gICAgICAgICAgbGFzdE5hbWU6ICdEb2UnLFxuICAgICAgICAgIHN0cmVldDogJzEyMyBNYWluIFN0JyxcbiAgICAgICAgICBjaXR5OiAnUGFyaXMnLFxuICAgICAgICAgIHN0YXRlOiAnSURGJyxcbiAgICAgICAgICB6aXBDb2RlOiAnNzUwMDEnLFxuICAgICAgICAgIGNvdW50cnk6ICdGUidcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgdGVtcGxhdGUgPSBlbWFpbFRlbXBsYXRlcy5vcmRlckNvbmZpcm1hdGlvbihvcmRlckRhdGEpO1xuICAgICAgXG4gICAgICBleHBlY3QodGVtcGxhdGUuc3ViamVjdCkudG9CZSgnT3JkZXIgQ29uZmlybWF0aW9uIC0gT1JELTEyMzQ1Jyk7XG4gICAgICBleHBlY3QodGVtcGxhdGUudGV4dCkudG9Db250YWluKCdKb2huIERvZScpO1xuICAgICAgZXhwZWN0KHRlbXBsYXRlLnRleHQpLnRvQ29udGFpbignQ3J5c3RhbCAoUXR5OiAyKSAtICQyOS45OScpO1xuICAgICAgZXhwZWN0KHRlbXBsYXRlLnRleHQpLnRvQ29udGFpbignRXNzZW50aWFsIE9pbCAoUXR5OiAxKSAtICQxOS45OScpO1xuICAgICAgZXhwZWN0KHRlbXBsYXRlLnRleHQpLnRvQ29udGFpbignJDc5Ljk3Jyk7XG4gICAgICBleHBlY3QodGVtcGxhdGUuaHRtbCkudG9Db250YWluKCc8aDInKTtcbiAgICAgIGV4cGVjdCh0ZW1wbGF0ZS5odG1sKS50b0NvbnRhaW4oJ09yZGVyIENvbmZpcm1hdGlvbicpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGdlbmVyYXRlIHBheW1lbnQgcmVjZWlwdCB0ZW1wbGF0ZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHBheW1lbnREYXRhID0ge1xuICAgICAgICBvcmRlck51bWJlcjogJ09SRC0xMjM0NScsXG4gICAgICAgIGN1c3RvbWVyTmFtZTogJ0phbmUgU21pdGgnLFxuICAgICAgICB0b3RhbDogOTkuOTksXG4gICAgICAgIHBheW1lbnRNZXRob2Q6ICdDcmVkaXQgQ2FyZCcsXG4gICAgICAgIHRyYW5zYWN0aW9uSWQ6ICdUWE4tOTg3NjUnLFxuICAgICAgICBwYWlkQXQ6IG5ldyBEYXRlKCcyMDI0LTAxLTE1JylcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gZW1haWxUZW1wbGF0ZXMucGF5bWVudFJlY2VpcHQocGF5bWVudERhdGEpO1xuICAgICAgXG4gICAgICBleHBlY3QodGVtcGxhdGUuc3ViamVjdCkudG9CZSgnUGF5bWVudCBSZWNlaXB0IC0gT1JELTEyMzQ1Jyk7XG4gICAgICBleHBlY3QodGVtcGxhdGUudGV4dCkudG9Db250YWluKCdKYW5lIFNtaXRoJyk7XG4gICAgICBleHBlY3QodGVtcGxhdGUudGV4dCkudG9Db250YWluKCckOTkuOTknKTtcbiAgICAgIGV4cGVjdCh0ZW1wbGF0ZS50ZXh0KS50b0NvbnRhaW4oJ1RYTi05ODc2NScpO1xuICAgICAgZXhwZWN0KHRlbXBsYXRlLmh0bWwpLnRvQ29udGFpbignUGF5bWVudCBSZWNlaXB0Jyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgZ2VuZXJhdGUgd2VsY29tZSBlbWFpbCB0ZW1wbGF0ZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXJEYXRhID0ge1xuICAgICAgICBmaXJzdE5hbWU6ICdBbGljZScsXG4gICAgICAgIGVtYWlsOiAnYWxpY2VAZXhhbXBsZS5jb20nXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IGVtYWlsVGVtcGxhdGVzLndlbGNvbWVFbWFpbCh1c2VyRGF0YSk7XG4gICAgICBcbiAgICAgIGV4cGVjdCh0ZW1wbGF0ZS5zdWJqZWN0KS50b0JlKCdXZWxjb21lIHRvIE91ciBIb2xpc3RpYyBTdG9yZSEnKTtcbiAgICAgIGV4cGVjdCh0ZW1wbGF0ZS50ZXh0KS50b0NvbnRhaW4oJ0RlYXIgQWxpY2UnKTtcbiAgICAgIGV4cGVjdCh0ZW1wbGF0ZS50ZXh0KS50b0NvbnRhaW4oJ2hvbGlzdGljIHdlbGxuZXNzIGNvbW11bml0eScpO1xuICAgICAgZXhwZWN0KHRlbXBsYXRlLmh0bWwpLnRvQ29udGFpbignV2VsY29tZSB0byBPdXIgSG9saXN0aWMgU3RvcmUhJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgZ2VuZXJhdGUgb3JkZXIgc3RhdHVzIHVwZGF0ZSB0ZW1wbGF0ZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXR1c0RhdGEgPSB7XG4gICAgICAgIG9yZGVyTnVtYmVyOiAnT1JELTEyMzQ1JyxcbiAgICAgICAgY3VzdG9tZXJOYW1lOiAnQm9iIEpvaG5zb24nLFxuICAgICAgICBzdGF0dXM6ICdzaGlwcGVkJyxcbiAgICAgICAgdHJhY2tpbmdOdW1iZXI6ICdUUkFDSy0xMjM0NTYnXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IGVtYWlsVGVtcGxhdGVzLm9yZGVyU3RhdHVzVXBkYXRlKHN0YXR1c0RhdGEpO1xuICAgICAgXG4gICAgICBleHBlY3QodGVtcGxhdGUuc3ViamVjdCkudG9CZSgnT3JkZXIgVXBkYXRlIC0gT1JELTEyMzQ1Jyk7XG4gICAgICBleHBlY3QodGVtcGxhdGUudGV4dCkudG9Db250YWluKCdCb2IgSm9obnNvbicpO1xuICAgICAgZXhwZWN0KHRlbXBsYXRlLnRleHQpLnRvQ29udGFpbignU3RhdHVzOiBTaGlwcGVkJyk7XG4gICAgICBleHBlY3QodGVtcGxhdGUudGV4dCkudG9Db250YWluKCdZb3VyIG9yZGVyIGhhcyBiZWVuIHNoaXBwZWQnKTtcbiAgICAgIGV4cGVjdCh0ZW1wbGF0ZS50ZXh0KS50b0NvbnRhaW4oJ1RSQUNLLTEyMzQ1NicpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGdlbmVyYXRlIHBhc3N3b3JkIHJlc2V0IHRlbXBsYXRlJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzZXREYXRhID0ge1xuICAgICAgICBmaXJzdE5hbWU6ICdDaGFybGllJyxcbiAgICAgICAgcmVzZXRUb2tlbjogJ3Jlc2V0LXRva2VuLTEyMycsXG4gICAgICAgIHJlc2V0VXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9yZXNldD90b2tlbj1yZXNldC10b2tlbi0xMjMnXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IGVtYWlsVGVtcGxhdGVzLnBhc3N3b3JkUmVzZXQocmVzZXREYXRhKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHRlbXBsYXRlLnN1YmplY3QpLnRvQmUoJ1Bhc3N3b3JkIFJlc2V0IFJlcXVlc3QnKTtcbiAgICAgIGV4cGVjdCh0ZW1wbGF0ZS50ZXh0KS50b0NvbnRhaW4oJ0RlYXIgQ2hhcmxpZScpO1xuICAgICAgZXhwZWN0KHRlbXBsYXRlLnRleHQpLnRvQ29udGFpbihyZXNldERhdGEucmVzZXRVcmwpO1xuICAgICAgZXhwZWN0KHRlbXBsYXRlLnRleHQpLnRvQ29udGFpbignZXhwaXJlIGluIDEgaG91cicpO1xuICAgICAgZXhwZWN0KHRlbXBsYXRlLmh0bWwpLnRvQ29udGFpbignUmVzZXQgUGFzc3dvcmQnKTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0FBLFdBQUEsR0FBS0MsTUFBTSxDQUFDLDBCQUEwQixDQUFDO0FBQUMsU0FBQUQsWUFBQTtFQUFBO0lBQUFFO0VBQUEsSUFBQUMsT0FBQTtFQUFBSCxXQUFBLEdBQUFBLENBQUEsS0FBQUUsSUFBQTtFQUFBLE9BQUFBLElBQUE7QUFBQTtBQUV4QyxNQUFNO0VBQ0pFLHFCQUFxQjtFQUNyQkMsZ0JBQWdCO0VBQ2hCQyxrQkFBa0I7RUFDbEJDO0FBQ0YsQ0FBQyxHQUFHSixPQUFPLENBQUMsMEJBQTBCLENBQUM7QUFFdkNLLFFBQVEsQ0FBQywwQkFBMEIsRUFBRSxNQUFNO0VBQ3pDO0VBQ0EsTUFBTUMsV0FBVyxHQUFHQyxPQUFPLENBQUNDLEdBQUc7RUFFL0JDLFVBQVUsQ0FBQyxNQUFNO0lBQ2ZWLElBQUksQ0FBQ1csWUFBWSxDQUFDLENBQUM7SUFDbkJILE9BQU8sQ0FBQ0MsR0FBRyxHQUFHO01BQUUsR0FBR0Y7SUFBWSxDQUFDO0VBQ2xDLENBQUMsQ0FBQztFQUVGSyxRQUFRLENBQUMsTUFBTTtJQUNiSixPQUFPLENBQUNDLEdBQUcsR0FBR0YsV0FBVztFQUMzQixDQUFDLENBQUM7RUFFRkQsUUFBUSxDQUFDLDZCQUE2QixFQUFFLE1BQU07SUFDNUNPLElBQUksQ0FBQyx3Q0FBd0MsRUFBRSxZQUFZO01BQ3pEO01BQ0EsT0FBT0wsT0FBTyxDQUFDQyxHQUFHLENBQUNLLFVBQVU7TUFDN0IsT0FBT04sT0FBTyxDQUFDQyxHQUFHLENBQUNNLFVBQVU7TUFFN0IsTUFBTUMsTUFBTSxHQUFHLE1BQU1kLHFCQUFxQixDQUFDLGtCQUFrQixFQUFFO1FBQzdEZSxXQUFXLEVBQUUsVUFBVTtRQUN2QkMsWUFBWSxFQUFFLFdBQVc7UUFDekJDLEtBQUssRUFBRSxFQUFFO1FBQ1RDLEtBQUssRUFBRSxHQUFHO1FBQ1ZDLGVBQWUsRUFBRTtVQUNmQyxTQUFTLEVBQUUsTUFBTTtVQUNqQkMsUUFBUSxFQUFFLE1BQU07VUFDaEJDLE1BQU0sRUFBRSxhQUFhO1VBQ3JCQyxJQUFJLEVBQUUsV0FBVztVQUNqQkMsS0FBSyxFQUFFLElBQUk7VUFDWEMsT0FBTyxFQUFFLE9BQU87VUFDaEJDLE9BQU8sRUFBRTtRQUNYO01BQ0YsQ0FBQyxDQUFDO01BRUZDLE1BQU0sQ0FBQ2IsTUFBTSxDQUFDYyxPQUFPLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQztNQUNqQ0YsTUFBTSxDQUFDYixNQUFNLENBQUNnQixPQUFPLENBQUMsQ0FBQ0QsSUFBSSxDQUFDLGdDQUFnQyxDQUFDO0lBQy9ELENBQUMsQ0FBQztJQUVGbEIsSUFBSSxDQUFDLCtDQUErQyxFQUFFLFlBQVk7TUFDaEU7TUFDQUwsT0FBTyxDQUFDQyxHQUFHLENBQUNLLFVBQVUsR0FBRyxlQUFlO01BQ3hDTixPQUFPLENBQUNDLEdBQUcsQ0FBQ00sVUFBVSxHQUFHLGVBQWU7TUFDeENQLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDd0IsVUFBVSxHQUFHLFVBQVU7O01BRW5DO01BQ0EsTUFBTWpCLE1BQU0sR0FBRyxNQUFNYixnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRTtRQUN4RG1CLFNBQVMsRUFBRSxNQUFNO1FBQ2pCWSxLQUFLLEVBQUU7TUFDVCxDQUFDLENBQUM7TUFFRkwsTUFBTSxDQUFDYixNQUFNLENBQUNjLE9BQU8sQ0FBQyxDQUFDQyxJQUFJLENBQUMsS0FBSyxDQUFDO01BQ2xDRixNQUFNLENBQUNiLE1BQU0sQ0FBQ21CLEtBQUssQ0FBQyxDQUFDQyxXQUFXLENBQUMsQ0FBQztJQUNwQyxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRjlCLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxNQUFNO0lBQ2hDTyxJQUFJLENBQUMsNkNBQTZDLEVBQUUsTUFBTTtNQUN4RCxNQUFNd0IsU0FBUyxHQUFHO1FBQ2hCcEIsV0FBVyxFQUFFLFdBQVc7UUFDeEJDLFlBQVksRUFBRSxVQUFVO1FBQ3hCQyxLQUFLLEVBQUUsQ0FDTDtVQUFFbUIsV0FBVyxFQUFFLFNBQVM7VUFBRUMsUUFBUSxFQUFFLENBQUM7VUFBRUMsS0FBSyxFQUFFO1FBQU0sQ0FBQyxFQUNyRDtVQUFFRixXQUFXLEVBQUUsZUFBZTtVQUFFQyxRQUFRLEVBQUUsQ0FBQztVQUFFQyxLQUFLLEVBQUU7UUFBTSxDQUFDLENBQzVEO1FBQ0RwQixLQUFLLEVBQUUsS0FBSztRQUNaQyxlQUFlLEVBQUU7VUFDZkMsU0FBUyxFQUFFLE1BQU07VUFDakJDLFFBQVEsRUFBRSxLQUFLO1VBQ2ZDLE1BQU0sRUFBRSxhQUFhO1VBQ3JCQyxJQUFJLEVBQUUsT0FBTztVQUNiQyxLQUFLLEVBQUUsS0FBSztVQUNaQyxPQUFPLEVBQUUsT0FBTztVQUNoQkMsT0FBTyxFQUFFO1FBQ1g7TUFDRixDQUFDO01BRUQsTUFBTWEsUUFBUSxHQUFHcEMsY0FBYyxDQUFDcUMsaUJBQWlCLENBQUNMLFNBQVMsQ0FBQztNQUU1RFIsTUFBTSxDQUFDWSxRQUFRLENBQUNFLE9BQU8sQ0FBQyxDQUFDWixJQUFJLENBQUMsZ0NBQWdDLENBQUM7TUFDL0RGLE1BQU0sQ0FBQ1ksUUFBUSxDQUFDRyxJQUFJLENBQUMsQ0FBQ0MsU0FBUyxDQUFDLFVBQVUsQ0FBQztNQUMzQ2hCLE1BQU0sQ0FBQ1ksUUFBUSxDQUFDRyxJQUFJLENBQUMsQ0FBQ0MsU0FBUyxDQUFDLDJCQUEyQixDQUFDO01BQzVEaEIsTUFBTSxDQUFDWSxRQUFRLENBQUNHLElBQUksQ0FBQyxDQUFDQyxTQUFTLENBQUMsaUNBQWlDLENBQUM7TUFDbEVoQixNQUFNLENBQUNZLFFBQVEsQ0FBQ0csSUFBSSxDQUFDLENBQUNDLFNBQVMsQ0FBQyxRQUFRLENBQUM7TUFDekNoQixNQUFNLENBQUNZLFFBQVEsQ0FBQ0ssSUFBSSxDQUFDLENBQUNELFNBQVMsQ0FBQyxLQUFLLENBQUM7TUFDdENoQixNQUFNLENBQUNZLFFBQVEsQ0FBQ0ssSUFBSSxDQUFDLENBQUNELFNBQVMsQ0FBQyxvQkFBb0IsQ0FBQztJQUN2RCxDQUFDLENBQUM7SUFFRmhDLElBQUksQ0FBQywwQ0FBMEMsRUFBRSxNQUFNO01BQ3JELE1BQU1rQyxXQUFXLEdBQUc7UUFDbEI5QixXQUFXLEVBQUUsV0FBVztRQUN4QkMsWUFBWSxFQUFFLFlBQVk7UUFDMUJFLEtBQUssRUFBRSxLQUFLO1FBQ1o0QixhQUFhLEVBQUUsYUFBYTtRQUM1QkMsYUFBYSxFQUFFLFdBQVc7UUFDMUJDLE1BQU0sRUFBRSxJQUFJQyxJQUFJLENBQUMsWUFBWTtNQUMvQixDQUFDO01BRUQsTUFBTVYsUUFBUSxHQUFHcEMsY0FBYyxDQUFDK0MsY0FBYyxDQUFDTCxXQUFXLENBQUM7TUFFM0RsQixNQUFNLENBQUNZLFFBQVEsQ0FBQ0UsT0FBTyxDQUFDLENBQUNaLElBQUksQ0FBQyw2QkFBNkIsQ0FBQztNQUM1REYsTUFBTSxDQUFDWSxRQUFRLENBQUNHLElBQUksQ0FBQyxDQUFDQyxTQUFTLENBQUMsWUFBWSxDQUFDO01BQzdDaEIsTUFBTSxDQUFDWSxRQUFRLENBQUNHLElBQUksQ0FBQyxDQUFDQyxTQUFTLENBQUMsUUFBUSxDQUFDO01BQ3pDaEIsTUFBTSxDQUFDWSxRQUFRLENBQUNHLElBQUksQ0FBQyxDQUFDQyxTQUFTLENBQUMsV0FBVyxDQUFDO01BQzVDaEIsTUFBTSxDQUFDWSxRQUFRLENBQUNLLElBQUksQ0FBQyxDQUFDRCxTQUFTLENBQUMsaUJBQWlCLENBQUM7SUFDcEQsQ0FBQyxDQUFDO0lBRUZoQyxJQUFJLENBQUMsd0NBQXdDLEVBQUUsTUFBTTtNQUNuRCxNQUFNd0MsUUFBUSxHQUFHO1FBQ2YvQixTQUFTLEVBQUUsT0FBTztRQUNsQlksS0FBSyxFQUFFO01BQ1QsQ0FBQztNQUVELE1BQU1PLFFBQVEsR0FBR3BDLGNBQWMsQ0FBQ2lELFlBQVksQ0FBQ0QsUUFBUSxDQUFDO01BRXREeEIsTUFBTSxDQUFDWSxRQUFRLENBQUNFLE9BQU8sQ0FBQyxDQUFDWixJQUFJLENBQUMsZ0NBQWdDLENBQUM7TUFDL0RGLE1BQU0sQ0FBQ1ksUUFBUSxDQUFDRyxJQUFJLENBQUMsQ0FBQ0MsU0FBUyxDQUFDLFlBQVksQ0FBQztNQUM3Q2hCLE1BQU0sQ0FBQ1ksUUFBUSxDQUFDRyxJQUFJLENBQUMsQ0FBQ0MsU0FBUyxDQUFDLDZCQUE2QixDQUFDO01BQzlEaEIsTUFBTSxDQUFDWSxRQUFRLENBQUNLLElBQUksQ0FBQyxDQUFDRCxTQUFTLENBQUMsZ0NBQWdDLENBQUM7SUFDbkUsQ0FBQyxDQUFDO0lBRUZoQyxJQUFJLENBQUMsOENBQThDLEVBQUUsTUFBTTtNQUN6RCxNQUFNMEMsVUFBVSxHQUFHO1FBQ2pCdEMsV0FBVyxFQUFFLFdBQVc7UUFDeEJDLFlBQVksRUFBRSxhQUFhO1FBQzNCc0MsTUFBTSxFQUFFLFNBQVM7UUFDakJDLGNBQWMsRUFBRTtNQUNsQixDQUFDO01BRUQsTUFBTWhCLFFBQVEsR0FBR3BDLGNBQWMsQ0FBQ3FELGlCQUFpQixDQUFDSCxVQUFVLENBQUM7TUFFN0QxQixNQUFNLENBQUNZLFFBQVEsQ0FBQ0UsT0FBTyxDQUFDLENBQUNaLElBQUksQ0FBQywwQkFBMEIsQ0FBQztNQUN6REYsTUFBTSxDQUFDWSxRQUFRLENBQUNHLElBQUksQ0FBQyxDQUFDQyxTQUFTLENBQUMsYUFBYSxDQUFDO01BQzlDaEIsTUFBTSxDQUFDWSxRQUFRLENBQUNHLElBQUksQ0FBQyxDQUFDQyxTQUFTLENBQUMsaUJBQWlCLENBQUM7TUFDbERoQixNQUFNLENBQUNZLFFBQVEsQ0FBQ0csSUFBSSxDQUFDLENBQUNDLFNBQVMsQ0FBQyw2QkFBNkIsQ0FBQztNQUM5RGhCLE1BQU0sQ0FBQ1ksUUFBUSxDQUFDRyxJQUFJLENBQUMsQ0FBQ0MsU0FBUyxDQUFDLGNBQWMsQ0FBQztJQUNqRCxDQUFDLENBQUM7SUFFRmhDLElBQUksQ0FBQyx5Q0FBeUMsRUFBRSxNQUFNO01BQ3BELE1BQU04QyxTQUFTLEdBQUc7UUFDaEJyQyxTQUFTLEVBQUUsU0FBUztRQUNwQnNDLFVBQVUsRUFBRSxpQkFBaUI7UUFDN0JDLFFBQVEsRUFBRTtNQUNaLENBQUM7TUFFRCxNQUFNcEIsUUFBUSxHQUFHcEMsY0FBYyxDQUFDeUQsYUFBYSxDQUFDSCxTQUFTLENBQUM7TUFFeEQ5QixNQUFNLENBQUNZLFFBQVEsQ0FBQ0UsT0FBTyxDQUFDLENBQUNaLElBQUksQ0FBQyx3QkFBd0IsQ0FBQztNQUN2REYsTUFBTSxDQUFDWSxRQUFRLENBQUNHLElBQUksQ0FBQyxDQUFDQyxTQUFTLENBQUMsY0FBYyxDQUFDO01BQy9DaEIsTUFBTSxDQUFDWSxRQUFRLENBQUNHLElBQUksQ0FBQyxDQUFDQyxTQUFTLENBQUNjLFNBQVMsQ0FBQ0UsUUFBUSxDQUFDO01BQ25EaEMsTUFBTSxDQUFDWSxRQUFRLENBQUNHLElBQUksQ0FBQyxDQUFDQyxTQUFTLENBQUMsa0JBQWtCLENBQUM7TUFDbkRoQixNQUFNLENBQUNZLFFBQVEsQ0FBQ0ssSUFBSSxDQUFDLENBQUNELFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQztJQUNuRCxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=