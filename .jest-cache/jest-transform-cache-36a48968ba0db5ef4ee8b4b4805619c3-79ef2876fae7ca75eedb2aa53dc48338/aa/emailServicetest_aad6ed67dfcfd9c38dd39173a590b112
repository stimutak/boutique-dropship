78ae3801c0341f5d5d59889d392ad070
// Mock nodemailer BEFORE importing emailService
_getJestObj().mock('nodemailer', () => ({
  createTransport: jest.fn(() => ({
    sendMail: jest.fn()
  }))
}));
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const nodemailer = require('nodemailer');
const {
  sendOrderConfirmation,
  sendPaymentReceipt,
  sendOrderStatusUpdate,
  sendWelcomeEmail,
  sendPasswordResetEmail,
  sendWholesalerNotification,
  sendEmail,
  emailTemplates
} = require('../../utils/emailService');
describe('Email Service', () => {
  let mockTransporter;
  beforeEach(() => {
    mockTransporter = {
      sendMail: jest.fn()
    };
    nodemailer.createTransport.mockReturnValue(mockTransporter);

    // Set up environment variables for tests
    process.env.EMAIL_HOST = 'smtp.test.com';
    process.env.EMAIL_PORT = '587';
    process.env.EMAIL_USER = 'test@example.com';
    process.env.EMAIL_PASS = 'testpass';
  });
  afterEach(() => {
    jest.clearAllMocks();
  });
  describe('sendOrderConfirmation', () => {
    const mockOrderData = {
      orderNumber: 'ORD-123456',
      customerName: 'John Doe',
      items: [{
        productName: 'Crystal Healing Set',
        quantity: 2,
        price: 29.99
      }, {
        productName: 'Essential Oil Bundle',
        quantity: 1,
        price: 45.00
      }],
      total: 104.98,
      shippingAddress: {
        firstName: 'John',
        lastName: 'Doe',
        street: '123 Main St',
        city: 'Anytown',
        state: 'CA',
        zipCode: '12345',
        country: 'US'
      }
    };
    it('should send order confirmation email successfully', async () => {
      mockTransporter.sendMail.mockResolvedValue({
        messageId: 'test-message-id'
      });
      const result = await sendOrderConfirmation('customer@example.com', mockOrderData);
      expect(result.success).toBe(true);
      expect(result.messageId).toBe('test-message-id');
      expect(mockTransporter.sendMail).toHaveBeenCalledWith({
        from: 'test@example.com',
        to: 'customer@example.com',
        subject: 'Order Confirmation - ORD-123456',
        text: expect.stringContaining('Thank you for your order!'),
        html: expect.stringContaining('Order Confirmation')
      });
    });
    it('should handle email sending failure', async () => {
      const error = new Error('SMTP connection failed');
      mockTransporter.sendMail.mockRejectedValue(error);
      const result = await sendOrderConfirmation('customer@example.com', mockOrderData);
      expect(result.success).toBe(false);
      expect(result.error).toBe('SMTP connection failed');
    });
  });
  describe('sendPaymentReceipt', () => {
    const mockPaymentData = {
      orderNumber: 'ORD-123456',
      customerName: 'John Doe',
      total: 104.98,
      paymentMethod: 'Credit Card',
      transactionId: 'txn_123456789',
      paidAt: new Date('2023-12-01T10:00:00Z')
    };
    it('should send payment receipt email successfully', async () => {
      mockTransporter.sendMail.mockResolvedValue({
        messageId: 'test-message-id'
      });
      const result = await sendPaymentReceipt('customer@example.com', mockPaymentData);
      expect(result.success).toBe(true);
      expect(mockTransporter.sendMail).toHaveBeenCalledWith({
        from: 'test@example.com',
        to: 'customer@example.com',
        subject: 'Payment Receipt - ORD-123456',
        text: expect.stringContaining('Your payment has been successfully processed!'),
        html: expect.stringContaining('Payment Receipt')
      });
    });
  });
  describe('sendOrderStatusUpdate', () => {
    const mockStatusData = {
      orderNumber: 'ORD-123456',
      customerName: 'John Doe',
      status: 'shipped',
      trackingNumber: 'TRK123456789'
    };
    it('should send order status update email successfully', async () => {
      mockTransporter.sendMail.mockResolvedValue({
        messageId: 'test-message-id'
      });
      const result = await sendOrderStatusUpdate('customer@example.com', mockStatusData);
      expect(result.success).toBe(true);
      expect(mockTransporter.sendMail).toHaveBeenCalledWith({
        from: 'test@example.com',
        to: 'customer@example.com',
        subject: 'Order Update - ORD-123456',
        text: expect.stringContaining('Great news! Your order has been shipped.'),
        html: expect.stringContaining('Order Update')
      });
    });
    it('should handle different order statuses', async () => {
      mockTransporter.sendMail.mockResolvedValue({
        messageId: 'test-message-id'
      });
      const processingData = {
        ...mockStatusData,
        status: 'processing'
      };
      await sendOrderStatusUpdate('customer@example.com', processingData);
      expect(mockTransporter.sendMail).toHaveBeenCalledWith(expect.objectContaining({
        text: expect.stringContaining('Your order is being processed')
      }));
    });
  });
  describe('sendWelcomeEmail', () => {
    const mockUserData = {
      firstName: 'John',
      email: 'john@example.com'
    };
    it('should send welcome email successfully', async () => {
      mockTransporter.sendMail.mockResolvedValue({
        messageId: 'test-message-id'
      });
      const result = await sendWelcomeEmail('john@example.com', mockUserData);
      expect(result.success).toBe(true);
      expect(mockTransporter.sendMail).toHaveBeenCalledWith({
        from: 'test@example.com',
        to: 'john@example.com',
        subject: 'Welcome to Our Holistic Store!',
        text: expect.stringContaining('Welcome to our holistic wellness community!'),
        html: expect.stringContaining('Welcome to Our Holistic Store!')
      });
    });
  });
  describe('sendPasswordResetEmail', () => {
    const mockResetData = {
      firstName: 'John',
      resetToken: 'reset-token-123',
      resetUrl: 'https://example.com/reset-password?token=reset-token-123'
    };
    it('should send password reset email successfully', async () => {
      mockTransporter.sendMail.mockResolvedValue({
        messageId: 'test-message-id'
      });
      const result = await sendPasswordResetEmail('john@example.com', mockResetData);
      expect(result.success).toBe(true);
      expect(mockTransporter.sendMail).toHaveBeenCalledWith({
        from: 'test@example.com',
        to: 'john@example.com',
        subject: 'Password Reset Request',
        text: expect.stringContaining('We received a request to reset your password'),
        html: expect.stringContaining('Password Reset Request')
      });
    });
  });
  describe('sendWholesalerNotification', () => {
    const mockOrderData = {
      orderNumber: 'ORD-123456',
      orderDate: '12/1/2023',
      shippingAddress: {
        firstName: 'John',
        lastName: 'Doe',
        street: '123 Main St',
        city: 'Anytown',
        state: 'CA',
        zipCode: '12345',
        country: 'US',
        phone: '555-1234'
      },
      items: [{
        wholesaler: {
          productCode: 'WS-CRYSTAL-001'
        },
        quantity: 2,
        productName: 'Crystal Healing Set'
      }],
      notes: 'Handle with care'
    };
    it('should send wholesaler notification email successfully', async () => {
      mockTransporter.sendMail.mockResolvedValue({
        messageId: 'test-message-id'
      });
      const result = await sendWholesalerNotification('wholesaler@example.com', mockOrderData);
      expect(result.success).toBe(true);
      expect(mockTransporter.sendMail).toHaveBeenCalledWith({
        from: 'test@example.com',
        to: 'wholesaler@example.com',
        subject: 'New Order - ORD-123456',
        text: expect.stringContaining('We have received a new order that requires fulfillment')
      });
    });
  });
  describe('sendEmail (generic)', () => {
    it('should send generic email successfully', async () => {
      mockTransporter.sendMail.mockResolvedValue({
        messageId: 'test-message-id'
      });
      const result = await sendEmail('recipient@example.com', 'Test Subject', 'Test message content', '<p>Test HTML content</p>');
      expect(result.success).toBe(true);
      expect(mockTransporter.sendMail).toHaveBeenCalledWith({
        from: 'test@example.com',
        to: 'recipient@example.com',
        subject: 'Test Subject',
        text: 'Test message content',
        html: '<p>Test HTML content</p>'
      });
    });
    it('should send text-only email when HTML is not provided', async () => {
      mockTransporter.sendMail.mockResolvedValue({
        messageId: 'test-message-id'
      });
      const result = await sendEmail('recipient@example.com', 'Test Subject', 'Test message content');
      expect(result.success).toBe(true);
      expect(mockTransporter.sendMail).toHaveBeenCalledWith({
        from: 'test@example.com',
        to: 'recipient@example.com',
        subject: 'Test Subject',
        text: 'Test message content'
      });
    });
  });
  describe('Email Templates', () => {
    it('should generate order confirmation template correctly', () => {
      const orderData = {
        orderNumber: 'ORD-123456',
        customerName: 'John Doe',
        items: [{
          productName: 'Test Product',
          quantity: 1,
          price: 29.99
        }],
        total: 29.99,
        shippingAddress: {
          firstName: 'John',
          lastName: 'Doe',
          street: '123 Main St',
          city: 'Anytown',
          state: 'CA',
          zipCode: '12345',
          country: 'US'
        }
      };
      const template = emailTemplates.orderConfirmation(orderData);
      expect(template.subject).toBe('Order Confirmation - ORD-123456');
      expect(template.text).toContain('Dear John Doe');
      expect(template.text).toContain('Order Number: ORD-123456');
      expect(template.html).toContain('Order Confirmation');
    });
    it('should generate payment receipt template correctly', () => {
      const paymentData = {
        orderNumber: 'ORD-123456',
        customerName: 'John Doe',
        total: 29.99,
        paymentMethod: 'Credit Card',
        transactionId: 'txn_123',
        paidAt: new Date('2023-12-01')
      };
      const template = emailTemplates.paymentReceipt(paymentData);
      expect(template.subject).toBe('Payment Receipt - ORD-123456');
      expect(template.text).toContain('Your payment has been successfully processed!');
      expect(template.html).toContain('Payment Receipt');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJjcmVhdGVUcmFuc3BvcnQiLCJqZXN0IiwiZm4iLCJzZW5kTWFpbCIsInJlcXVpcmUiLCJub2RlbWFpbGVyIiwic2VuZE9yZGVyQ29uZmlybWF0aW9uIiwic2VuZFBheW1lbnRSZWNlaXB0Iiwic2VuZE9yZGVyU3RhdHVzVXBkYXRlIiwic2VuZFdlbGNvbWVFbWFpbCIsInNlbmRQYXNzd29yZFJlc2V0RW1haWwiLCJzZW5kV2hvbGVzYWxlck5vdGlmaWNhdGlvbiIsInNlbmRFbWFpbCIsImVtYWlsVGVtcGxhdGVzIiwiZGVzY3JpYmUiLCJtb2NrVHJhbnNwb3J0ZXIiLCJiZWZvcmVFYWNoIiwibW9ja1JldHVyblZhbHVlIiwicHJvY2VzcyIsImVudiIsIkVNQUlMX0hPU1QiLCJFTUFJTF9QT1JUIiwiRU1BSUxfVVNFUiIsIkVNQUlMX1BBU1MiLCJhZnRlckVhY2giLCJjbGVhckFsbE1vY2tzIiwibW9ja09yZGVyRGF0YSIsIm9yZGVyTnVtYmVyIiwiY3VzdG9tZXJOYW1lIiwiaXRlbXMiLCJwcm9kdWN0TmFtZSIsInF1YW50aXR5IiwicHJpY2UiLCJ0b3RhbCIsInNoaXBwaW5nQWRkcmVzcyIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwic3RyZWV0IiwiY2l0eSIsInN0YXRlIiwiemlwQ29kZSIsImNvdW50cnkiLCJpdCIsIm1vY2tSZXNvbHZlZFZhbHVlIiwibWVzc2FnZUlkIiwicmVzdWx0IiwiZXhwZWN0Iiwic3VjY2VzcyIsInRvQmUiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImZyb20iLCJ0byIsInN1YmplY3QiLCJ0ZXh0Iiwic3RyaW5nQ29udGFpbmluZyIsImh0bWwiLCJlcnJvciIsIkVycm9yIiwibW9ja1JlamVjdGVkVmFsdWUiLCJtb2NrUGF5bWVudERhdGEiLCJwYXltZW50TWV0aG9kIiwidHJhbnNhY3Rpb25JZCIsInBhaWRBdCIsIkRhdGUiLCJtb2NrU3RhdHVzRGF0YSIsInN0YXR1cyIsInRyYWNraW5nTnVtYmVyIiwicHJvY2Vzc2luZ0RhdGEiLCJvYmplY3RDb250YWluaW5nIiwibW9ja1VzZXJEYXRhIiwiZW1haWwiLCJtb2NrUmVzZXREYXRhIiwicmVzZXRUb2tlbiIsInJlc2V0VXJsIiwib3JkZXJEYXRlIiwicGhvbmUiLCJ3aG9sZXNhbGVyIiwicHJvZHVjdENvZGUiLCJub3RlcyIsIm9yZGVyRGF0YSIsInRlbXBsYXRlIiwib3JkZXJDb25maXJtYXRpb24iLCJ0b0NvbnRhaW4iLCJwYXltZW50RGF0YSIsInBheW1lbnRSZWNlaXB0Il0sInNvdXJjZXMiOlsiZW1haWxTZXJ2aWNlLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTW9jayBub2RlbWFpbGVyIEJFRk9SRSBpbXBvcnRpbmcgZW1haWxTZXJ2aWNlXG5qZXN0Lm1vY2soJ25vZGVtYWlsZXInLCAoKSA9PiAoe1xuICBjcmVhdGVUcmFuc3BvcnQ6IGplc3QuZm4oKCkgPT4gKHtcbiAgICBzZW5kTWFpbDogamVzdC5mbigpXG4gIH0pKVxufSkpO1xuXG5jb25zdCBub2RlbWFpbGVyID0gcmVxdWlyZSgnbm9kZW1haWxlcicpO1xuXG5jb25zdCB7XG4gIHNlbmRPcmRlckNvbmZpcm1hdGlvbixcbiAgc2VuZFBheW1lbnRSZWNlaXB0LFxuICBzZW5kT3JkZXJTdGF0dXNVcGRhdGUsXG4gIHNlbmRXZWxjb21lRW1haWwsXG4gIHNlbmRQYXNzd29yZFJlc2V0RW1haWwsXG4gIHNlbmRXaG9sZXNhbGVyTm90aWZpY2F0aW9uLFxuICBzZW5kRW1haWwsXG4gIGVtYWlsVGVtcGxhdGVzXG59ID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvZW1haWxTZXJ2aWNlJyk7XG5cbmRlc2NyaWJlKCdFbWFpbCBTZXJ2aWNlJywgKCkgPT4ge1xuICBsZXQgbW9ja1RyYW5zcG9ydGVyO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tUcmFuc3BvcnRlciA9IHtcbiAgICAgIHNlbmRNYWlsOiBqZXN0LmZuKClcbiAgICB9O1xuICAgIG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0Lm1vY2tSZXR1cm5WYWx1ZShtb2NrVHJhbnNwb3J0ZXIpO1xuICAgIFxuICAgIC8vIFNldCB1cCBlbnZpcm9ubWVudCB2YXJpYWJsZXMgZm9yIHRlc3RzXG4gICAgcHJvY2Vzcy5lbnYuRU1BSUxfSE9TVCA9ICdzbXRwLnRlc3QuY29tJztcbiAgICBwcm9jZXNzLmVudi5FTUFJTF9QT1JUID0gJzU4Nyc7XG4gICAgcHJvY2Vzcy5lbnYuRU1BSUxfVVNFUiA9ICd0ZXN0QGV4YW1wbGUuY29tJztcbiAgICBwcm9jZXNzLmVudi5FTUFJTF9QQVNTID0gJ3Rlc3RwYXNzJztcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3NlbmRPcmRlckNvbmZpcm1hdGlvbicsICgpID0+IHtcbiAgICBjb25zdCBtb2NrT3JkZXJEYXRhID0ge1xuICAgICAgb3JkZXJOdW1iZXI6ICdPUkQtMTIzNDU2JyxcbiAgICAgIGN1c3RvbWVyTmFtZTogJ0pvaG4gRG9lJyxcbiAgICAgIGl0ZW1zOiBbXG4gICAgICAgIHsgcHJvZHVjdE5hbWU6ICdDcnlzdGFsIEhlYWxpbmcgU2V0JywgcXVhbnRpdHk6IDIsIHByaWNlOiAyOS45OSB9LFxuICAgICAgICB7IHByb2R1Y3ROYW1lOiAnRXNzZW50aWFsIE9pbCBCdW5kbGUnLCBxdWFudGl0eTogMSwgcHJpY2U6IDQ1LjAwIH1cbiAgICAgIF0sXG4gICAgICB0b3RhbDogMTA0Ljk4LFxuICAgICAgc2hpcHBpbmdBZGRyZXNzOiB7XG4gICAgICAgIGZpcnN0TmFtZTogJ0pvaG4nLFxuICAgICAgICBsYXN0TmFtZTogJ0RvZScsXG4gICAgICAgIHN0cmVldDogJzEyMyBNYWluIFN0JyxcbiAgICAgICAgY2l0eTogJ0FueXRvd24nLFxuICAgICAgICBzdGF0ZTogJ0NBJyxcbiAgICAgICAgemlwQ29kZTogJzEyMzQ1JyxcbiAgICAgICAgY291bnRyeTogJ1VTJ1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpdCgnc2hvdWxkIHNlbmQgb3JkZXIgY29uZmlybWF0aW9uIGVtYWlsIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tUcmFuc3BvcnRlci5zZW5kTWFpbC5tb2NrUmVzb2x2ZWRWYWx1ZSh7IG1lc3NhZ2VJZDogJ3Rlc3QtbWVzc2FnZS1pZCcgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmRPcmRlckNvbmZpcm1hdGlvbignY3VzdG9tZXJAZXhhbXBsZS5jb20nLCBtb2NrT3JkZXJEYXRhKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5tZXNzYWdlSWQpLnRvQmUoJ3Rlc3QtbWVzc2FnZS1pZCcpO1xuICAgICAgZXhwZWN0KG1vY2tUcmFuc3BvcnRlci5zZW5kTWFpbCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBmcm9tOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICAgIHRvOiAnY3VzdG9tZXJAZXhhbXBsZS5jb20nLFxuICAgICAgICBzdWJqZWN0OiAnT3JkZXIgQ29uZmlybWF0aW9uIC0gT1JELTEyMzQ1NicsXG4gICAgICAgIHRleHQ6IGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdUaGFuayB5b3UgZm9yIHlvdXIgb3JkZXIhJyksXG4gICAgICAgIGh0bWw6IGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdPcmRlciBDb25maXJtYXRpb24nKVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbWFpbCBzZW5kaW5nIGZhaWx1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignU01UUCBjb25uZWN0aW9uIGZhaWxlZCcpO1xuICAgICAgbW9ja1RyYW5zcG9ydGVyLnNlbmRNYWlsLm1vY2tSZWplY3RlZFZhbHVlKGVycm9yKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZE9yZGVyQ29uZmlybWF0aW9uKCdjdXN0b21lckBleGFtcGxlLmNvbScsIG1vY2tPcmRlckRhdGEpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZSgnU01UUCBjb25uZWN0aW9uIGZhaWxlZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnc2VuZFBheW1lbnRSZWNlaXB0JywgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tQYXltZW50RGF0YSA9IHtcbiAgICAgIG9yZGVyTnVtYmVyOiAnT1JELTEyMzQ1NicsXG4gICAgICBjdXN0b21lck5hbWU6ICdKb2huIERvZScsXG4gICAgICB0b3RhbDogMTA0Ljk4LFxuICAgICAgcGF5bWVudE1ldGhvZDogJ0NyZWRpdCBDYXJkJyxcbiAgICAgIHRyYW5zYWN0aW9uSWQ6ICd0eG5fMTIzNDU2Nzg5JyxcbiAgICAgIHBhaWRBdDogbmV3IERhdGUoJzIwMjMtMTItMDFUMTA6MDA6MDBaJylcbiAgICB9O1xuXG4gICAgaXQoJ3Nob3VsZCBzZW5kIHBheW1lbnQgcmVjZWlwdCBlbWFpbCBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrVHJhbnNwb3J0ZXIuc2VuZE1haWwubW9ja1Jlc29sdmVkVmFsdWUoeyBtZXNzYWdlSWQ6ICd0ZXN0LW1lc3NhZ2UtaWQnIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kUGF5bWVudFJlY2VpcHQoJ2N1c3RvbWVyQGV4YW1wbGUuY29tJywgbW9ja1BheW1lbnREYXRhKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KG1vY2tUcmFuc3BvcnRlci5zZW5kTWFpbCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBmcm9tOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICAgIHRvOiAnY3VzdG9tZXJAZXhhbXBsZS5jb20nLFxuICAgICAgICBzdWJqZWN0OiAnUGF5bWVudCBSZWNlaXB0IC0gT1JELTEyMzQ1NicsXG4gICAgICAgIHRleHQ6IGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdZb3VyIHBheW1lbnQgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHByb2Nlc3NlZCEnKSxcbiAgICAgICAgaHRtbDogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1BheW1lbnQgUmVjZWlwdCcpXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3NlbmRPcmRlclN0YXR1c1VwZGF0ZScsICgpID0+IHtcbiAgICBjb25zdCBtb2NrU3RhdHVzRGF0YSA9IHtcbiAgICAgIG9yZGVyTnVtYmVyOiAnT1JELTEyMzQ1NicsXG4gICAgICBjdXN0b21lck5hbWU6ICdKb2huIERvZScsXG4gICAgICBzdGF0dXM6ICdzaGlwcGVkJyxcbiAgICAgIHRyYWNraW5nTnVtYmVyOiAnVFJLMTIzNDU2Nzg5J1xuICAgIH07XG5cbiAgICBpdCgnc2hvdWxkIHNlbmQgb3JkZXIgc3RhdHVzIHVwZGF0ZSBlbWFpbCBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrVHJhbnNwb3J0ZXIuc2VuZE1haWwubW9ja1Jlc29sdmVkVmFsdWUoeyBtZXNzYWdlSWQ6ICd0ZXN0LW1lc3NhZ2UtaWQnIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kT3JkZXJTdGF0dXNVcGRhdGUoJ2N1c3RvbWVyQGV4YW1wbGUuY29tJywgbW9ja1N0YXR1c0RhdGEpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QobW9ja1RyYW5zcG9ydGVyLnNlbmRNYWlsKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIGZyb206ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgICAgdG86ICdjdXN0b21lckBleGFtcGxlLmNvbScsXG4gICAgICAgIHN1YmplY3Q6ICdPcmRlciBVcGRhdGUgLSBPUkQtMTIzNDU2JyxcbiAgICAgICAgdGV4dDogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ0dyZWF0IG5ld3MhIFlvdXIgb3JkZXIgaGFzIGJlZW4gc2hpcHBlZC4nKSxcbiAgICAgICAgaHRtbDogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ09yZGVyIFVwZGF0ZScpXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGRpZmZlcmVudCBvcmRlciBzdGF0dXNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tUcmFuc3BvcnRlci5zZW5kTWFpbC5tb2NrUmVzb2x2ZWRWYWx1ZSh7IG1lc3NhZ2VJZDogJ3Rlc3QtbWVzc2FnZS1pZCcgfSk7XG5cbiAgICAgIGNvbnN0IHByb2Nlc3NpbmdEYXRhID0geyAuLi5tb2NrU3RhdHVzRGF0YSwgc3RhdHVzOiAncHJvY2Vzc2luZycgfTtcbiAgICAgIGF3YWl0IHNlbmRPcmRlclN0YXR1c1VwZGF0ZSgnY3VzdG9tZXJAZXhhbXBsZS5jb20nLCBwcm9jZXNzaW5nRGF0YSk7XG5cbiAgICAgIGV4cGVjdChtb2NrVHJhbnNwb3J0ZXIuc2VuZE1haWwpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgdGV4dDogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1lvdXIgb3JkZXIgaXMgYmVpbmcgcHJvY2Vzc2VkJylcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdzZW5kV2VsY29tZUVtYWlsJywgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tVc2VyRGF0YSA9IHtcbiAgICAgIGZpcnN0TmFtZTogJ0pvaG4nLFxuICAgICAgZW1haWw6ICdqb2huQGV4YW1wbGUuY29tJ1xuICAgIH07XG5cbiAgICBpdCgnc2hvdWxkIHNlbmQgd2VsY29tZSBlbWFpbCBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrVHJhbnNwb3J0ZXIuc2VuZE1haWwubW9ja1Jlc29sdmVkVmFsdWUoeyBtZXNzYWdlSWQ6ICd0ZXN0LW1lc3NhZ2UtaWQnIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kV2VsY29tZUVtYWlsKCdqb2huQGV4YW1wbGUuY29tJywgbW9ja1VzZXJEYXRhKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KG1vY2tUcmFuc3BvcnRlci5zZW5kTWFpbCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBmcm9tOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICAgIHRvOiAnam9obkBleGFtcGxlLmNvbScsXG4gICAgICAgIHN1YmplY3Q6ICdXZWxjb21lIHRvIE91ciBIb2xpc3RpYyBTdG9yZSEnLFxuICAgICAgICB0ZXh0OiBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnV2VsY29tZSB0byBvdXIgaG9saXN0aWMgd2VsbG5lc3MgY29tbXVuaXR5IScpLFxuICAgICAgICBodG1sOiBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnV2VsY29tZSB0byBPdXIgSG9saXN0aWMgU3RvcmUhJylcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnc2VuZFBhc3N3b3JkUmVzZXRFbWFpbCcsICgpID0+IHtcbiAgICBjb25zdCBtb2NrUmVzZXREYXRhID0ge1xuICAgICAgZmlyc3ROYW1lOiAnSm9obicsXG4gICAgICByZXNldFRva2VuOiAncmVzZXQtdG9rZW4tMTIzJyxcbiAgICAgIHJlc2V0VXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9yZXNldC1wYXNzd29yZD90b2tlbj1yZXNldC10b2tlbi0xMjMnXG4gICAgfTtcblxuICAgIGl0KCdzaG91bGQgc2VuZCBwYXNzd29yZCByZXNldCBlbWFpbCBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrVHJhbnNwb3J0ZXIuc2VuZE1haWwubW9ja1Jlc29sdmVkVmFsdWUoeyBtZXNzYWdlSWQ6ICd0ZXN0LW1lc3NhZ2UtaWQnIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kUGFzc3dvcmRSZXNldEVtYWlsKCdqb2huQGV4YW1wbGUuY29tJywgbW9ja1Jlc2V0RGF0YSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChtb2NrVHJhbnNwb3J0ZXIuc2VuZE1haWwpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgZnJvbTogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgICB0bzogJ2pvaG5AZXhhbXBsZS5jb20nLFxuICAgICAgICBzdWJqZWN0OiAnUGFzc3dvcmQgUmVzZXQgUmVxdWVzdCcsXG4gICAgICAgIHRleHQ6IGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdXZSByZWNlaXZlZCBhIHJlcXVlc3QgdG8gcmVzZXQgeW91ciBwYXNzd29yZCcpLFxuICAgICAgICBodG1sOiBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnUGFzc3dvcmQgUmVzZXQgUmVxdWVzdCcpXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3NlbmRXaG9sZXNhbGVyTm90aWZpY2F0aW9uJywgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tPcmRlckRhdGEgPSB7XG4gICAgICBvcmRlck51bWJlcjogJ09SRC0xMjM0NTYnLFxuICAgICAgb3JkZXJEYXRlOiAnMTIvMS8yMDIzJyxcbiAgICAgIHNoaXBwaW5nQWRkcmVzczoge1xuICAgICAgICBmaXJzdE5hbWU6ICdKb2huJyxcbiAgICAgICAgbGFzdE5hbWU6ICdEb2UnLFxuICAgICAgICBzdHJlZXQ6ICcxMjMgTWFpbiBTdCcsXG4gICAgICAgIGNpdHk6ICdBbnl0b3duJyxcbiAgICAgICAgc3RhdGU6ICdDQScsXG4gICAgICAgIHppcENvZGU6ICcxMjM0NScsXG4gICAgICAgIGNvdW50cnk6ICdVUycsXG4gICAgICAgIHBob25lOiAnNTU1LTEyMzQnXG4gICAgICB9LFxuICAgICAgaXRlbXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHdob2xlc2FsZXI6IHsgcHJvZHVjdENvZGU6ICdXUy1DUllTVEFMLTAwMScgfSxcbiAgICAgICAgICBxdWFudGl0eTogMixcbiAgICAgICAgICBwcm9kdWN0TmFtZTogJ0NyeXN0YWwgSGVhbGluZyBTZXQnXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBub3RlczogJ0hhbmRsZSB3aXRoIGNhcmUnXG4gICAgfTtcblxuICAgIGl0KCdzaG91bGQgc2VuZCB3aG9sZXNhbGVyIG5vdGlmaWNhdGlvbiBlbWFpbCBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrVHJhbnNwb3J0ZXIuc2VuZE1haWwubW9ja1Jlc29sdmVkVmFsdWUoeyBtZXNzYWdlSWQ6ICd0ZXN0LW1lc3NhZ2UtaWQnIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kV2hvbGVzYWxlck5vdGlmaWNhdGlvbignd2hvbGVzYWxlckBleGFtcGxlLmNvbScsIG1vY2tPcmRlckRhdGEpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QobW9ja1RyYW5zcG9ydGVyLnNlbmRNYWlsKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIGZyb206ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgICAgdG86ICd3aG9sZXNhbGVyQGV4YW1wbGUuY29tJyxcbiAgICAgICAgc3ViamVjdDogJ05ldyBPcmRlciAtIE9SRC0xMjM0NTYnLFxuICAgICAgICB0ZXh0OiBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnV2UgaGF2ZSByZWNlaXZlZCBhIG5ldyBvcmRlciB0aGF0IHJlcXVpcmVzIGZ1bGZpbGxtZW50JylcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnc2VuZEVtYWlsIChnZW5lcmljKScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHNlbmQgZ2VuZXJpYyBlbWFpbCBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrVHJhbnNwb3J0ZXIuc2VuZE1haWwubW9ja1Jlc29sdmVkVmFsdWUoeyBtZXNzYWdlSWQ6ICd0ZXN0LW1lc3NhZ2UtaWQnIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kRW1haWwoXG4gICAgICAgICdyZWNpcGllbnRAZXhhbXBsZS5jb20nLFxuICAgICAgICAnVGVzdCBTdWJqZWN0JyxcbiAgICAgICAgJ1Rlc3QgbWVzc2FnZSBjb250ZW50JyxcbiAgICAgICAgJzxwPlRlc3QgSFRNTCBjb250ZW50PC9wPidcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChtb2NrVHJhbnNwb3J0ZXIuc2VuZE1haWwpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgZnJvbTogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgICB0bzogJ3JlY2lwaWVudEBleGFtcGxlLmNvbScsXG4gICAgICAgIHN1YmplY3Q6ICdUZXN0IFN1YmplY3QnLFxuICAgICAgICB0ZXh0OiAnVGVzdCBtZXNzYWdlIGNvbnRlbnQnLFxuICAgICAgICBodG1sOiAnPHA+VGVzdCBIVE1MIGNvbnRlbnQ8L3A+J1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNlbmQgdGV4dC1vbmx5IGVtYWlsIHdoZW4gSFRNTCBpcyBub3QgcHJvdmlkZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrVHJhbnNwb3J0ZXIuc2VuZE1haWwubW9ja1Jlc29sdmVkVmFsdWUoeyBtZXNzYWdlSWQ6ICd0ZXN0LW1lc3NhZ2UtaWQnIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kRW1haWwoXG4gICAgICAgICdyZWNpcGllbnRAZXhhbXBsZS5jb20nLFxuICAgICAgICAnVGVzdCBTdWJqZWN0JyxcbiAgICAgICAgJ1Rlc3QgbWVzc2FnZSBjb250ZW50J1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KG1vY2tUcmFuc3BvcnRlci5zZW5kTWFpbCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBmcm9tOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICAgIHRvOiAncmVjaXBpZW50QGV4YW1wbGUuY29tJyxcbiAgICAgICAgc3ViamVjdDogJ1Rlc3QgU3ViamVjdCcsXG4gICAgICAgIHRleHQ6ICdUZXN0IG1lc3NhZ2UgY29udGVudCdcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRW1haWwgVGVtcGxhdGVzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgb3JkZXIgY29uZmlybWF0aW9uIHRlbXBsYXRlIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IG9yZGVyRGF0YSA9IHtcbiAgICAgICAgb3JkZXJOdW1iZXI6ICdPUkQtMTIzNDU2JyxcbiAgICAgICAgY3VzdG9tZXJOYW1lOiAnSm9obiBEb2UnLFxuICAgICAgICBpdGVtczogW3sgcHJvZHVjdE5hbWU6ICdUZXN0IFByb2R1Y3QnLCBxdWFudGl0eTogMSwgcHJpY2U6IDI5Ljk5IH1dLFxuICAgICAgICB0b3RhbDogMjkuOTksXG4gICAgICAgIHNoaXBwaW5nQWRkcmVzczoge1xuICAgICAgICAgIGZpcnN0TmFtZTogJ0pvaG4nLFxuICAgICAgICAgIGxhc3ROYW1lOiAnRG9lJyxcbiAgICAgICAgICBzdHJlZXQ6ICcxMjMgTWFpbiBTdCcsXG4gICAgICAgICAgY2l0eTogJ0FueXRvd24nLFxuICAgICAgICAgIHN0YXRlOiAnQ0EnLFxuICAgICAgICAgIHppcENvZGU6ICcxMjM0NScsXG4gICAgICAgICAgY291bnRyeTogJ1VTJ1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IGVtYWlsVGVtcGxhdGVzLm9yZGVyQ29uZmlybWF0aW9uKG9yZGVyRGF0YSk7XG5cbiAgICAgIGV4cGVjdCh0ZW1wbGF0ZS5zdWJqZWN0KS50b0JlKCdPcmRlciBDb25maXJtYXRpb24gLSBPUkQtMTIzNDU2Jyk7XG4gICAgICBleHBlY3QodGVtcGxhdGUudGV4dCkudG9Db250YWluKCdEZWFyIEpvaG4gRG9lJyk7XG4gICAgICBleHBlY3QodGVtcGxhdGUudGV4dCkudG9Db250YWluKCdPcmRlciBOdW1iZXI6IE9SRC0xMjM0NTYnKTtcbiAgICAgIGV4cGVjdCh0ZW1wbGF0ZS5odG1sKS50b0NvbnRhaW4oJ09yZGVyIENvbmZpcm1hdGlvbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBwYXltZW50IHJlY2VpcHQgdGVtcGxhdGUgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgcGF5bWVudERhdGEgPSB7XG4gICAgICAgIG9yZGVyTnVtYmVyOiAnT1JELTEyMzQ1NicsXG4gICAgICAgIGN1c3RvbWVyTmFtZTogJ0pvaG4gRG9lJyxcbiAgICAgICAgdG90YWw6IDI5Ljk5LFxuICAgICAgICBwYXltZW50TWV0aG9kOiAnQ3JlZGl0IENhcmQnLFxuICAgICAgICB0cmFuc2FjdGlvbklkOiAndHhuXzEyMycsXG4gICAgICAgIHBhaWRBdDogbmV3IERhdGUoJzIwMjMtMTItMDEnKVxuICAgICAgfTtcblxuICAgICAgY29uc3QgdGVtcGxhdGUgPSBlbWFpbFRlbXBsYXRlcy5wYXltZW50UmVjZWlwdChwYXltZW50RGF0YSk7XG5cbiAgICAgIGV4cGVjdCh0ZW1wbGF0ZS5zdWJqZWN0KS50b0JlKCdQYXltZW50IFJlY2VpcHQgLSBPUkQtMTIzNDU2Jyk7XG4gICAgICBleHBlY3QodGVtcGxhdGUudGV4dCkudG9Db250YWluKCdZb3VyIHBheW1lbnQgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHByb2Nlc3NlZCEnKTtcbiAgICAgIGV4cGVjdCh0ZW1wbGF0ZS5odG1sKS50b0NvbnRhaW4oJ1BheW1lbnQgUmVjZWlwdCcpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsWUFBWSxFQUFFLE9BQU87RUFDN0JDLGVBQWUsRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsT0FBTztJQUM5QkMsUUFBUSxFQUFFRixJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUNwQixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMsQ0FBQztBQUFDLFNBQUFKLFlBQUE7RUFBQTtJQUFBRztFQUFBLElBQUFHLE9BQUE7RUFBQU4sV0FBQSxHQUFBQSxDQUFBLEtBQUFHLElBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUFFSixNQUFNSSxVQUFVLEdBQUdELE9BQU8sQ0FBQyxZQUFZLENBQUM7QUFFeEMsTUFBTTtFQUNKRSxxQkFBcUI7RUFDckJDLGtCQUFrQjtFQUNsQkMscUJBQXFCO0VBQ3JCQyxnQkFBZ0I7RUFDaEJDLHNCQUFzQjtFQUN0QkMsMEJBQTBCO0VBQzFCQyxTQUFTO0VBQ1RDO0FBQ0YsQ0FBQyxHQUFHVCxPQUFPLENBQUMsMEJBQTBCLENBQUM7QUFFdkNVLFFBQVEsQ0FBQyxlQUFlLEVBQUUsTUFBTTtFQUM5QixJQUFJQyxlQUFlO0VBRW5CQyxVQUFVLENBQUMsTUFBTTtJQUNmRCxlQUFlLEdBQUc7TUFDaEJaLFFBQVEsRUFBRUYsSUFBSSxDQUFDQyxFQUFFLENBQUM7SUFDcEIsQ0FBQztJQUNERyxVQUFVLENBQUNMLGVBQWUsQ0FBQ2lCLGVBQWUsQ0FBQ0YsZUFBZSxDQUFDOztJQUUzRDtJQUNBRyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsVUFBVSxHQUFHLGVBQWU7SUFDeENGLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxVQUFVLEdBQUcsS0FBSztJQUM5QkgsT0FBTyxDQUFDQyxHQUFHLENBQUNHLFVBQVUsR0FB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