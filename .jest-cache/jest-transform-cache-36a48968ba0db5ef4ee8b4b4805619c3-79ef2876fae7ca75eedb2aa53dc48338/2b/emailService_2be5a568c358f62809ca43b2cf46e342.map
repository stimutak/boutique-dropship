{"version":3,"names":["nodemailer","require","createTransporter","process","env","EMAIL_HOST","EMAIL_USER","console","log","createTransport","host","port","EMAIL_PORT","secure","auth","user","pass","EMAIL_PASS","emailTemplates","orderConfirmation","orderData","orderNumber","customerName","items","total","shippingAddress","itemsList","map","item","productName","quantity","price","toFixed","join","subject","text","firstName","lastName","street","city","state","zipCode","country","trim","html","paymentReceipt","paymentData","paymentMethod","transactionId","paidAt","Date","toLocaleDateString","orderStatusUpdate","statusData","status","trackingNumber","statusMessages","processing","shipped","delivered","charAt","toUpperCase","slice","welcomeEmail","userData","email","passwordReset","resetData","resetToken","resetUrl","sendWholesalerNotification","wholesalerEmail","transporter","success","message","orderDate","notes","productList","wholesaler","productCode","emailContent","phone","mailOptions","from","to","result","sendMail","messageId","error","sendOrderConfirmation","customerEmail","template","sendPaymentReceipt","sendOrderStatusUpdate","sendWelcomeEmail","sendPasswordResetEmail","sendEmail","textContent","htmlContent","module","exports"],"sources":["emailService.js"],"sourcesContent":["const nodemailer = require('nodemailer');\n\n// Create transporter with environment configuration\nconst createTransporter = () => {\n  // Return null if email is not configured\n  if (!process.env.EMAIL_HOST || !process.env.EMAIL_USER) {\n    console.log('Email service not configured - emails will be skipped');\n    return null;\n  }\n  \n  return nodemailer.createTransport({\n    host: process.env.EMAIL_HOST,\n    port: process.env.EMAIL_PORT,\n    secure: false, // true for 465, false for other ports\n    auth: {\n      user: process.env.EMAIL_USER,\n      pass: process.env.EMAIL_PASS\n    }\n  });\n};\n\n// Email templates\nconst emailTemplates = {\n  orderConfirmation: (orderData) => {\n    const { orderNumber, customerName, items, total, shippingAddress } = orderData;\n    \n    const itemsList = items.map(item => \n      `- ${item.productName || 'Product'} (Qty: ${item.quantity}) - $${item.price.toFixed(2)}`\n    ).join('\\n');\n\n    return {\n      subject: `Order Confirmation - ${orderNumber}`,\n      text: `\nDear ${customerName},\n\nThank you for your order! We're excited to help you on your holistic wellness journey.\n\nORDER DETAILS:\nOrder Number: ${orderNumber}\nOrder Total: $${total.toFixed(2)}\n\nITEMS ORDERED:\n${itemsList}\n\nSHIPPING ADDRESS:\n${shippingAddress.firstName} ${shippingAddress.lastName}\n${shippingAddress.street}\n${shippingAddress.city}, ${shippingAddress.state} ${shippingAddress.zipCode}\n${shippingAddress.country}\n\nYour order is being processed and you'll receive another email once it ships.\n\nWith gratitude,\nThe Holistic Store Team\n      `.trim(),\n      html: `\n<div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n  <h2 style=\"color: #4a5568;\">Order Confirmation</h2>\n  \n  <p>Dear ${customerName},</p>\n  \n  <p>Thank you for your order! We're excited to help you on your holistic wellness journey.</p>\n  \n  <div style=\"background: #f7fafc; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n    <h3 style=\"color: #2d3748; margin-top: 0;\">Order Details</h3>\n    <p><strong>Order Number:</strong> ${orderNumber}</p>\n    <p><strong>Order Total:</strong> $${total.toFixed(2)}</p>\n  </div>\n  \n  <h3 style=\"color: #2d3748;\">Items Ordered</h3>\n  <ul>\n    ${items.map(item => `<li>${item.productName || 'Product'} (Qty: ${item.quantity}) - $${item.price.toFixed(2)}</li>`).join('')}\n  </ul>\n  \n  <h3 style=\"color: #2d3748;\">Shipping Address</h3>\n  <p>\n    ${shippingAddress.firstName} ${shippingAddress.lastName}<br>\n    ${shippingAddress.street}<br>\n    ${shippingAddress.city}, ${shippingAddress.state} ${shippingAddress.zipCode}<br>\n    ${shippingAddress.country}\n  </p>\n  \n  <p>Your order is being processed and you'll receive another email once it ships.</p>\n  \n  <p style=\"margin-top: 30px;\">With gratitude,<br>The Holistic Store Team</p>\n</div>\n      `.trim()\n    };\n  },\n\n  paymentReceipt: (paymentData) => {\n    const { orderNumber, customerName, total, paymentMethod, transactionId, paidAt } = paymentData;\n    \n    return {\n      subject: `Payment Receipt - ${orderNumber}`,\n      text: `\nDear ${customerName},\n\nYour payment has been successfully processed!\n\nPAYMENT DETAILS:\nOrder Number: ${orderNumber}\nAmount Paid: $${total.toFixed(2)}\nPayment Method: ${paymentMethod}\nTransaction ID: ${transactionId}\nPayment Date: ${new Date(paidAt).toLocaleDateString()}\n\nYour order is now being prepared for shipment.\n\nThank you for choosing our holistic products!\n\nBest regards,\nThe Holistic Store Team\n      `.trim(),\n      html: `\n<div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n  <h2 style=\"color: #4a5568;\">Payment Receipt</h2>\n  \n  <p>Dear ${customerName},</p>\n  \n  <p>Your payment has been successfully processed!</p>\n  \n  <div style=\"background: #f0fff4; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #48bb78;\">\n    <h3 style=\"color: #2d3748; margin-top: 0;\">Payment Details</h3>\n    <p><strong>Order Number:</strong> ${orderNumber}</p>\n    <p><strong>Amount Paid:</strong> $${total.toFixed(2)}</p>\n    <p><strong>Payment Method:</strong> ${paymentMethod}</p>\n    <p><strong>Transaction ID:</strong> ${transactionId}</p>\n    <p><strong>Payment Date:</strong> ${new Date(paidAt).toLocaleDateString()}</p>\n  </div>\n  \n  <p>Your order is now being prepared for shipment.</p>\n  \n  <p>Thank you for choosing our holistic products!</p>\n  \n  <p style=\"margin-top: 30px;\">Best regards,<br>The Holistic Store Team</p>\n</div>\n      `.trim()\n    };\n  },\n\n  orderStatusUpdate: (statusData) => {\n    const { orderNumber, customerName, status, trackingNumber } = statusData;\n    \n    const statusMessages = {\n      processing: 'Your order is being processed and will ship soon.',\n      shipped: 'Great news! Your order has been shipped.',\n      delivered: 'Your order has been delivered. We hope you enjoy your holistic products!'\n    };\n\n    return {\n      subject: `Order Update - ${orderNumber}`,\n      text: `\nDear ${customerName},\n\nWe have an update on your order ${orderNumber}.\n\nStatus: ${status.charAt(0).toUpperCase() + status.slice(1)}\n\n${statusMessages[status] || 'Your order status has been updated.'}\n\n${trackingNumber ? `Tracking Number: ${trackingNumber}` : ''}\n\nThank you for your patience!\n\nBest regards,\nThe Holistic Store Team\n      `.trim(),\n      html: `\n<div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n  <h2 style=\"color: #4a5568;\">Order Update</h2>\n  \n  <p>Dear ${customerName},</p>\n  \n  <p>We have an update on your order <strong>${orderNumber}</strong>.</p>\n  \n  <div style=\"background: #ebf8ff; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #4299e1;\">\n    <h3 style=\"color: #2d3748; margin-top: 0;\">Status: ${status.charAt(0).toUpperCase() + status.slice(1)}</h3>\n    <p>${statusMessages[status] || 'Your order status has been updated.'}</p>\n    ${trackingNumber ? `<p><strong>Tracking Number:</strong> ${trackingNumber}</p>` : ''}\n  </div>\n  \n  <p>Thank you for your patience!</p>\n  \n  <p style=\"margin-top: 30px;\">Best regards,<br>The Holistic Store Team</p>\n</div>\n      `.trim()\n    };\n  },\n\n  welcomeEmail: (userData) => {\n    const { firstName, email } = userData;\n    \n    return {\n      subject: 'Welcome to Our Holistic Store!',\n      text: `\nDear ${firstName},\n\nWelcome to our holistic wellness community!\n\nWe're thrilled to have you join us on this journey of spiritual and physical well-being. Our carefully curated collection of crystals, herbs, essential oils, and wellness products is here to support your holistic lifestyle.\n\nAs a member, you'll enjoy:\n- Exclusive access to new products\n- Special member discounts\n- Wellness tips and spiritual guidance\n- Priority customer support\n\nStart exploring our collection and discover products that resonate with your energy.\n\nNamaste,\nThe Holistic Store Team\n      `.trim(),\n      html: `\n<div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n  <h2 style=\"color: #4a5568;\">Welcome to Our Holistic Store!</h2>\n  \n  <p>Dear ${firstName},</p>\n  \n  <p>Welcome to our holistic wellness community!</p>\n  \n  <p>We're thrilled to have you join us on this journey of spiritual and physical well-being. Our carefully curated collection of crystals, herbs, essential oils, and wellness products is here to support your holistic lifestyle.</p>\n  \n  <div style=\"background: #fef5e7; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n    <h3 style=\"color: #2d3748; margin-top: 0;\">As a member, you'll enjoy:</h3>\n    <ul style=\"color: #4a5568;\">\n      <li>Exclusive access to new products</li>\n      <li>Special member discounts</li>\n      <li>Wellness tips and spiritual guidance</li>\n      <li>Priority customer support</li>\n    </ul>\n  </div>\n  \n  <p>Start exploring our collection and discover products that resonate with your energy.</p>\n  \n  <p style=\"margin-top: 30px;\">Namaste,<br>The Holistic Store Team</p>\n</div>\n      `.trim()\n    };\n  },\n\n  passwordReset: (resetData) => {\n    const { firstName, resetToken, resetUrl } = resetData;\n    \n    return {\n      subject: 'Password Reset Request',\n      text: `\nDear ${firstName},\n\nWe received a request to reset your password for your Holistic Store account.\n\nTo reset your password, please click the following link:\n${resetUrl}\n\nThis link will expire in 1 hour for security reasons.\n\nIf you didn't request this password reset, please ignore this email.\n\nBest regards,\nThe Holistic Store Team\n      `.trim(),\n      html: `\n<div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n  <h2 style=\"color: #4a5568;\">Password Reset Request</h2>\n  \n  <p>Dear ${firstName},</p>\n  \n  <p>We received a request to reset your password for your Holistic Store account.</p>\n  \n  <div style=\"background: #fed7d7; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #f56565;\">\n    <p>To reset your password, please click the button below:</p>\n    <a href=\"${resetUrl}\" style=\"display: inline-block; background: #4299e1; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; margin: 10px 0;\">Reset Password</a>\n    <p style=\"font-size: 14px; color: #718096;\">This link will expire in 1 hour for security reasons.</p>\n  </div>\n  \n  <p>If you didn't request this password reset, please ignore this email.</p>\n  \n  <p style=\"margin-top: 30px;\">Best regards,<br>The Holistic Store Team</p>\n</div>\n      `.trim()\n    };\n  }\n};\n\n// Send wholesaler notification email\nconst sendWholesalerNotification = async (wholesalerEmail, orderData) => {\n  const transporter = createTransporter();\n  if (!transporter) {\n    return { success: true, message: 'Email skipped - not configured' };\n  }\n  \n  const { orderNumber, orderDate, shippingAddress, items, notes } = orderData;\n  \n  // Build product list for email\n  const productList = items.map(item => \n    `- Product Code: ${item.wholesaler.productCode}\\n  Quantity: ${item.quantity}\\n  Product: ${item.productName || 'N/A'}`\n  ).join('\\n\\n');\n  \n  const emailContent = `\nDear Wholesaler,\n\nWe have received a new order that requires fulfillment. Please process and ship the following items directly to the customer.\n\nORDER DETAILS:\nOrder Number: ${orderNumber}\nOrder Date: ${orderDate}\n\nSHIPPING ADDRESS:\n${shippingAddress.firstName} ${shippingAddress.lastName}\n${shippingAddress.street}\n${shippingAddress.city}, ${shippingAddress.state} ${shippingAddress.zipCode}\n${shippingAddress.country}\n${shippingAddress.phone ? `Phone: ${shippingAddress.phone}` : ''}\n\nPRODUCTS TO SHIP:\n${productList}\n\n${notes ? `SPECIAL NOTES:\\n${notes}` : ''}\n\nPlease confirm receipt of this order and provide tracking information once shipped.\n\nBest regards,\nHolistic Store Team\n  `.trim();\n\n  const mailOptions = {\n    from: process.env.EMAIL_USER,\n    to: wholesalerEmail,\n    subject: `New Order - ${orderNumber}`,\n    text: emailContent\n  };\n\n  try {\n    const result = await transporter.sendMail(mailOptions);\n    return { success: true, messageId: result.messageId };\n  } catch (error) {\n    return { success: false, error: error.message };\n  }\n};\n\n// Send order confirmation email\nconst sendOrderConfirmation = async (customerEmail, orderData) => {\n  const transporter = createTransporter();\n  if (!transporter) {\n    return { success: true, message: 'Email skipped - not configured' };\n  }\n  \n  const template = emailTemplates.orderConfirmation(orderData);\n  \n  const mailOptions = {\n    from: process.env.EMAIL_USER,\n    to: customerEmail,\n    subject: template.subject,\n    text: template.text,\n    html: template.html\n  };\n\n  try {\n    const result = await transporter.sendMail(mailOptions);\n    return { success: true, messageId: result.messageId };\n  } catch (error) {\n    return { success: false, error: error.message };\n  }\n};\n\n// Send payment receipt email\nconst sendPaymentReceipt = async (customerEmail, paymentData) => {\n  const transporter = createTransporter();\n  if (!transporter) {\n    return { success: true, message: 'Email skipped - not configured' };\n  }\n  const template = emailTemplates.paymentReceipt(paymentData);\n  \n  const mailOptions = {\n    from: process.env.EMAIL_USER,\n    to: customerEmail,\n    subject: template.subject,\n    text: template.text,\n    html: template.html\n  };\n\n  try {\n    const result = await transporter.sendMail(mailOptions);\n    return { success: true, messageId: result.messageId };\n  } catch (error) {\n    return { success: false, error: error.message };\n  }\n};\n\n// Send order status update email\nconst sendOrderStatusUpdate = async (customerEmail, statusData) => {\n  const transporter = createTransporter();\n  if (!transporter) {\n    return { success: true, message: 'Email skipped - not configured' };\n  }\n  const template = emailTemplates.orderStatusUpdate(statusData);\n  \n  const mailOptions = {\n    from: process.env.EMAIL_USER,\n    to: customerEmail,\n    subject: template.subject,\n    text: template.text,\n    html: template.html\n  };\n\n  try {\n    const result = await transporter.sendMail(mailOptions);\n    return { success: true, messageId: result.messageId };\n  } catch (error) {\n    return { success: false, error: error.message };\n  }\n};\n\n// Send welcome email\nconst sendWelcomeEmail = async (customerEmail, userData) => {\n  const transporter = createTransporter();\n  if (!transporter) {\n    return { success: true, message: 'Email skipped - not configured' };\n  }\n  const template = emailTemplates.welcomeEmail(userData);\n  \n  const mailOptions = {\n    from: process.env.EMAIL_USER,\n    to: customerEmail,\n    subject: template.subject,\n    text: template.text,\n    html: template.html\n  };\n\n  try {\n    const result = await transporter.sendMail(mailOptions);\n    return { success: true, messageId: result.messageId };\n  } catch (error) {\n    return { success: false, error: error.message };\n  }\n};\n\n// Send password reset email\nconst sendPasswordResetEmail = async (customerEmail, resetData) => {\n  const transporter = createTransporter();\n  if (!transporter) {\n    return { success: true, message: 'Email skipped - not configured' };\n  }\n  const template = emailTemplates.passwordReset(resetData);\n  \n  const mailOptions = {\n    from: process.env.EMAIL_USER,\n    to: customerEmail,\n    subject: template.subject,\n    text: template.text,\n    html: template.html\n  };\n\n  try {\n    const result = await transporter.sendMail(mailOptions);\n    return { success: true, messageId: result.messageId };\n  } catch (error) {\n    return { success: false, error: error.message };\n  }\n};\n\n// Generic email sender for custom templates\nconst sendEmail = async (to, subject, textContent, htmlContent = null) => {\n  const transporter = createTransporter();\n  if (!transporter) {\n    return { success: true, message: 'Email skipped - not configured' };\n  }\n  \n  const mailOptions = {\n    from: process.env.EMAIL_USER,\n    to,\n    subject,\n    text: textContent,\n    ...(htmlContent && { html: htmlContent })\n  };\n\n  try {\n    const result = await transporter.sendMail(mailOptions);\n    return { success: true, messageId: result.messageId };\n  } catch (error) {\n    return { success: false, error: error.message };\n  }\n};\n\nmodule.exports = {\n  sendWholesalerNotification,\n  sendOrderConfirmation,\n  sendPaymentReceipt,\n  sendOrderStatusUpdate,\n  sendWelcomeEmail,\n  sendPasswordResetEmail,\n  sendEmail,\n  emailTemplates\n};"],"mappings":"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","ignoreList":[]}