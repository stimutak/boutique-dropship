c85196a6ede19da3e30ab7118587d2b1
/* istanbul ignore next */
function cov_jjf21zbn6() {
  var path = "/Users/oliver/Projects/boutique/middleware/security.js";
  var hash = "61ab54132fdb3b8e9c6fe91d741c28b9e6311018";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/oliver/Projects/boutique/middleware/security.js",
    statementMap: {
      "0": {
        start: {
          line: 1,
          column: 15
        },
        end: {
          line: 1,
          column: 32
        }
      },
      "1": {
        start: {
          line: 2,
          column: 22
        },
        end: {
          line: 2,
          column: 55
        }
      },
      "2": {
        start: {
          line: 3,
          column: 18
        },
        end: {
          line: 3,
          column: 47
        }
      },
      "3": {
        start: {
          line: 4,
          column: 17
        },
        end: {
          line: 4,
          column: 45
        }
      },
      "4": {
        start: {
          line: 5,
          column: 35
        },
        end: {
          line: 5,
          column: 63
        }
      },
      "5": {
        start: {
          line: 8,
          column: 23
        },
        end: {
          line: 33,
          column: 1
        }
      },
      "6": {
        start: {
          line: 10,
          column: 2
        },
        end: {
          line: 12,
          column: 3
        }
      },
      "7": {
        start: {
          line: 11,
          column: 4
        },
        end: {
          line: 11,
          column: 18
        }
      },
      "8": {
        start: {
          line: 15,
          column: 2
        },
        end: {
          line: 17,
          column: 3
        }
      },
      "9": {
        start: {
          line: 16,
          column: 4
        },
        end: {
          line: 16,
          column: 18
        }
      },
      "10": {
        start: {
          line: 19,
          column: 16
        },
        end: {
          line: 19,
          column: 61
        }
      },
      "11": {
        start: {
          line: 20,
          column: 23
        },
        end: {
          line: 20,
          column: 44
        }
      },
      "12": {
        start: {
          line: 22,
          column: 2
        },
        end: {
          line: 30,
          column: 3
        }
      },
      "13": {
        start: {
          line: 23,
          column: 4
        },
        end: {
          line: 29,
          column: 7
        }
      },
      "14": {
        start: {
          line: 32,
          column: 2
        },
        end: {
          line: 32,
          column: 9
        }
      },
      "15": {
        start: {
          line: 36,
          column: 26
        },
        end: {
          line: 41,
          column: 1
        }
      },
      "16": {
        start: {
          line: 37,
          column: 2
        },
        end: {
          line: 39,
          column: 3
        }
      },
      "17": {
        start: {
          line: 38,
          column: 4
        },
        end: {
          line: 38,
          column: 67
        }
      },
      "18": {
        start: {
          line: 40,
          column: 2
        },
        end: {
          line: 40,
          column: 9
        }
      },
      "19": {
        start: {
          line: 44,
          column: 19
        },
        end: {
          line: 72,
          column: 1
        }
      },
      "20": {
        start: {
          line: 45,
          column: 17
        },
        end: {
          line: 45,
          column: 41
        }
      },
      "21": {
        start: {
          line: 47,
          column: 2
        },
        end: {
          line: 55,
          column: 3
        }
      },
      "22": {
        start: {
          line: 48,
          column: 4
        },
        end: {
          line: 54,
          column: 7
        }
      },
      "23": {
        start: {
          line: 58,
          column: 23
        },
        end: {
          line: 58,
          column: 67
        }
      },
      "24": {
        start: {
          line: 60,
          column: 2
        },
        end: {
          line: 68,
          column: 3
        }
      },
      "25": {
        start: {
          line: 61,
          column: 4
        },
        end: {
          line: 67,
          column: 7
        }
      },
      "26": {
        start: {
          line: 70,
          column: 2
        },
        end: {
          line: 70,
          column: 24
        }
      },
      "27": {
        start: {
          line: 71,
          column: 2
        },
        end: {
          line: 71,
          column: 9
        }
      },
      "28": {
        start: {
          line: 75,
          column: 24
        },
        end: {
          line: 89,
          column: 1
        }
      },
      "29": {
        start: {
          line: 76,
          column: 2
        },
        end: {
          line: 88,
          column: 5
        }
      },
      "30": {
        start: {
          line: 93,
          column: 19
        },
        end: {
          line: 128,
          column: 1
        }
      },
      "31": {
        start: {
          line: 131,
          column: 21
        },
        end: {
          line: 137,
          column: 2
        }
      },
      "32": {
        start: {
          line: 134,
          column: 17
        },
        end: {
          line: 134,
          column: 20
        }
      },
      "33": {
        start: {
          line: 140,
          column: 22
        },
        end: {
          line: 147,
          column: 1
        }
      },
      "34": {
        start: {
          line: 144,
          column: 6
        },
        end: {
          line: 144,
          column: 75
        }
      },
      "35": {
        start: {
          line: 150,
          column: 24
        },
        end: {
          line: 187,
          column: 1
        }
      },
      "36": {
        start: {
          line: 190,
          column: 31
        },
        end: {
          line: 209,
          column: 1
        }
      },
      "37": {
        start: {
          line: 191,
          column: 17
        },
        end: {
          line: 191,
          column: 38
        }
      },
      "38": {
        start: {
          line: 193,
          column: 2
        },
        end: {
          line: 206,
          column: 3
        }
      },
      "39": {
        start: {
          line: 194,
          column: 4
        },
        end: {
          line: 205,
          column: 7
        }
      },
      "40": {
        start: {
          line: 199,
          column: 46
        },
        end: {
          line: 203,
          column: 9
        }
      },
      "41": {
        start: {
          line: 208,
          column: 2
        },
        end: {
          line: 208,
          column: 9
        }
      },
      "42": {
        start: {
          line: 212,
          column: 24
        },
        end: {
          line: 224,
          column: 1
        }
      },
      "43": {
        start: {
          line: 214,
          column: 2
        },
        end: {
          line: 214,
          column: 53
        }
      },
      "44": {
        start: {
          line: 215,
          column: 2
        },
        end: {
          line: 215,
          column: 43
        }
      },
      "45": {
        start: {
          line: 216,
          column: 2
        },
        end: {
          line: 216,
          column: 53
        }
      },
      "46": {
        start: {
          line: 217,
          column: 2
        },
        end: {
          line: 217,
          column: 70
        }
      },
      "47": {
        start: {
          line: 218,
          column: 2
        },
        end: {
          line: 218,
          column: 82
        }
      },
      "48": {
        start: {
          line: 221,
          column: 2
        },
        end: {
          line: 221,
          column: 35
        }
      },
      "49": {
        start: {
          line: 223,
          column: 2
        },
        end: {
          line: 223,
          column: 9
        }
      },
      "50": {
        start: {
          line: 226,
          column: 0
        },
        end: {
          line: 236,
          column: 2
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 8,
            column: 23
          },
          end: {
            line: 8,
            column: 24
          }
        },
        loc: {
          start: {
            line: 8,
            column: 43
          },
          end: {
            line: 33,
            column: 1
          }
        },
        line: 8
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 36,
            column: 26
          },
          end: {
            line: 36,
            column: 27
          }
        },
        loc: {
          start: {
            line: 36,
            column: 46
          },
          end: {
            line: 41,
            column: 1
          }
        },
        line: 36
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 44,
            column: 19
          },
          end: {
            line: 44,
            column: 20
          }
        },
        loc: {
          start: {
            line: 44,
            column: 39
          },
          end: {
            line: 72,
            column: 1
          }
        },
        line: 44
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 75,
            column: 24
          },
          end: {
            line: 75,
            column: 25
          }
        },
        loc: {
          start: {
            line: 75,
            column: 52
          },
          end: {
            line: 89,
            column: 1
          }
        },
        line: 75
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 134,
            column: 11
          },
          end: {
            line: 134,
            column: 12
          }
        },
        loc: {
          start: {
            line: 134,
            column: 17
          },
          end: {
            line: 134,
            column: 20
          }
        },
        line: 134
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 143,
            column: 16
          },
          end: {
            line: 143,
            column: 17
          }
        },
        loc: {
          start: {
            line: 143,
            column: 34
          },
          end: {
            line: 145,
            column: 5
          }
        },
        line: 143
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 190,
            column: 31
          },
          end: {
            line: 190,
            column: 32
          }
        },
        loc: {
          start: {
            line: 190,
            column: 51
          },
          end: {
            line: 209,
            column: 1
          }
        },
        line: 190
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 199,
            column: 36
          },
          end: {
            line: 199,
            column: 37
          }
        },
        loc: {
          start: {
            line: 199,
            column: 46
          },
          end: {
            line: 203,
            column: 9
          }
        },
        line: 199
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 212,
            column: 24
          },
          end: {
            line: 212,
            column: 25
          }
        },
        loc: {
          start: {
            line: 212,
            column: 44
          },
          end: {
            line: 224,
            column: 1
          }
        },
        line: 212
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 10,
            column: 2
          },
          end: {
            line: 12,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 10,
            column: 2
          },
          end: {
            line: 12,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 10
      },
      "1": {
        loc: {
          start: {
            line: 15,
            column: 2
          },
          end: {
            line: 17,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 15,
            column: 2
          },
          end: {
            line: 17,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 15
      },
      "2": {
        loc: {
          start: {
            line: 19,
            column: 16
          },
          end: {
            line: 19,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 19,
            column: 16
          },
          end: {
            line: 19,
            column: 43
          }
        }, {
          start: {
            line: 19,
            column: 47
          },
          end: {
            line: 19,
            column: 61
          }
        }],
        line: 19
      },
      "3": {
        loc: {
          start: {
            line: 22,
            column: 2
          },
          end: {
            line: 30,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 22,
            column: 2
          },
          end: {
            line: 30,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 22
      },
      "4": {
        loc: {
          start: {
            line: 22,
            column: 6
          },
          end: {
            line: 22,
            column: 55
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 22,
            column: 6
          },
          end: {
            line: 22,
            column: 12
          }
        }, {
          start: {
            line: 22,
            column: 16
          },
          end: {
            line: 22,
            column: 29
          }
        }, {
          start: {
            line: 22,
            column: 33
          },
          end: {
            line: 22,
            column: 55
          }
        }],
        line: 22
      },
      "5": {
        loc: {
          start: {
            line: 37,
            column: 2
          },
          end: {
            line: 39,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 37,
            column: 2
          },
          end: {
            line: 39,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 37
      },
      "6": {
        loc: {
          start: {
            line: 47,
            column: 2
          },
          end: {
            line: 55,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 47,
            column: 2
          },
          end: {
            line: 55,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 47
      },
      "7": {
        loc: {
          start: {
            line: 58,
            column: 23
          },
          end: {
            line: 58,
            column: 67
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 58,
            column: 23
          },
          end: {
            line: 58,
            column: 61
          }
        }, {
          start: {
            line: 58,
            column: 65
          },
          end: {
            line: 58,
            column: 67
          }
        }],
        line: 58
      },
      "8": {
        loc: {
          start: {
            line: 60,
            column: 2
          },
          end: {
            line: 68,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 60,
            column: 2
          },
          end: {
            line: 68,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 60
      },
      "9": {
        loc: {
          start: {
            line: 193,
            column: 2
          },
          end: {
            line: 206,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 193,
            column: 2
          },
          end: {
            line: 206,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 193
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "61ab54132fdb3b8e9c6fe91d741c28b9e6311018"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_jjf21zbn6 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_jjf21zbn6();
const crypto =
/* istanbul ignore next */
(cov_jjf21zbn6().s[0]++, require('crypto'));
const mongoSanitize =
/* istanbul ignore next */
(cov_jjf21zbn6().s[1]++, require('express-mongo-sanitize'));
const rateLimit =
/* istanbul ignore next */
(cov_jjf21zbn6().s[2]++, require('express-rate-limit'));
const slowDown =
/* istanbul ignore next */
(cov_jjf21zbn6().s[3]++, require('express-slow-down'));
const {
  body,
  validationResult
} =
/* istanbul ignore next */
(cov_jjf21zbn6().s[4]++, require('express-validator'));

// CSRF Protection Middleware
/* istanbul ignore next */
cov_jjf21zbn6().s[5]++;
const csrfProtection = (req, res, next) => {
  /* istanbul ignore next */
  cov_jjf21zbn6().f[0]++;
  cov_jjf21zbn6().s[6]++;
  // Skip CSRF for GET, HEAD, OPTIONS requests
  if (['GET', 'HEAD', 'OPTIONS'].includes(req.method)) {
    /* istanbul ignore next */
    cov_jjf21zbn6().b[0][0]++;
    cov_jjf21zbn6().s[7]++;
    return next();
  } else
  /* istanbul ignore next */
  {
    cov_jjf21zbn6().b[0][1]++;
  }

  // Skip CSRF for API key authenticated requests
  cov_jjf21zbn6().s[8]++;
  if (req.headers['x-api-key']) {
    /* istanbul ignore next */
    cov_jjf21zbn6().b[1][0]++;
    cov_jjf21zbn6().s[9]++;
    return next();
  } else
  /* istanbul ignore next */
  {
    cov_jjf21zbn6().b[1][1]++;
  }
  const token =
  /* istanbul ignore next */
  (cov_jjf21zbn6().s[10]++,
  /* istanbul ignore next */
  (cov_jjf21zbn6().b[2][0]++, req.headers['x-csrf-token']) ||
  /* istanbul ignore next */
  (cov_jjf21zbn6().b[2][1]++, req.body._csrf));
  const sessionToken =
  /* istanbul ignore next */
  (cov_jjf21zbn6().s[11]++, req.session.csrfToken);
  /* istanbul ignore next */
  cov_jjf21zbn6().s[12]++;
  if (
  /* istanbul ignore next */
  (cov_jjf21zbn6().b[4][0]++, !token) ||
  /* istanbul ignore next */
  (cov_jjf21zbn6().b[4][1]++, !sessionToken) ||
  /* istanbul ignore next */
  (cov_jjf21zbn6().b[4][2]++, token !== sessionToken)) {
    /* istanbul ignore next */
    cov_jjf21zbn6().b[3][0]++;
    cov_jjf21zbn6().s[13]++;
    return res.status(403).json({
      success: false,
      error: {
        code: 'CSRF_TOKEN_MISMATCH',
        message: 'Invalid CSRF token'
      }
    });
  } else
  /* istanbul ignore next */
  {
    cov_jjf21zbn6().b[3][1]++;
  }
  cov_jjf21zbn6().s[14]++;
  next();
};

// Generate CSRF token
/* istanbul ignore next */
cov_jjf21zbn6().s[15]++;
const generateCSRFToken = (req, res, next) => {
  /* istanbul ignore next */
  cov_jjf21zbn6().f[1]++;
  cov_jjf21zbn6().s[16]++;
  if (!req.session.csrfToken) {
    /* istanbul ignore next */
    cov_jjf21zbn6().b[5][0]++;
    cov_jjf21zbn6().s[17]++;
    req.session.csrfToken = crypto.randomBytes(32).toString('hex');
  } else
  /* istanbul ignore next */
  {
    cov_jjf21zbn6().b[5][1]++;
  }
  cov_jjf21zbn6().s[18]++;
  next();
};

// API Key Authentication
/* istanbul ignore next */
cov_jjf21zbn6().s[19]++;
const apiKeyAuth = (req, res, next) => {
  /* istanbul ignore next */
  cov_jjf21zbn6().f[2]++;
  const apiKey =
  /* istanbul ignore next */
  (cov_jjf21zbn6().s[20]++, req.headers['x-api-key']);
  /* istanbul ignore next */
  cov_jjf21zbn6().s[21]++;
  if (!apiKey) {
    /* istanbul ignore next */
    cov_jjf21zbn6().b[6][0]++;
    cov_jjf21zbn6().s[22]++;
    return res.status(401).json({
      success: false,
      error: {
        code: 'API_KEY_REQUIRED',
        message: 'API key is required for cross-site integration'
      }
    });
  } else
  /* istanbul ignore next */
  {
    cov_jjf21zbn6().b[6][1]++;
  }

  // Validate API key (in production, store these securely)
  const validApiKeys =
  /* istanbul ignore next */
  (cov_jjf21zbn6().s[23]++,
  /* istanbul ignore next */
  (cov_jjf21zbn6().b[7][0]++, process.env.VALID_API_KEYS?.split(',')) ||
  /* istanbul ignore next */
  (cov_jjf21zbn6().b[7][1]++, []));
  /* istanbul ignore next */
  cov_jjf21zbn6().s[24]++;
  if (!validApiKeys.includes(apiKey)) {
    /* istanbul ignore next */
    cov_jjf21zbn6().b[8][0]++;
    cov_jjf21zbn6().s[25]++;
    return res.status(401).json({
      success: false,
      error: {
        code: 'INVALID_API_KEY',
        message: 'Invalid API key'
      }
    });
  } else
  /* istanbul ignore next */
  {
    cov_jjf21zbn6().b[8][1]++;
  }
  cov_jjf21zbn6().s[26]++;
  req.apiKeyAuth = true;
  /* istanbul ignore next */
  cov_jjf21zbn6().s[27]++;
  next();
};

// Enhanced Rate Limiting
/* istanbul ignore next */
cov_jjf21zbn6().s[28]++;
const createRateLimit = (windowMs, max, message) => {
  /* istanbul ignore next */
  cov_jjf21zbn6().f[3]++;
  cov_jjf21zbn6().s[29]++;
  return rateLimit({
    windowMs,
    max,
    message: {
      success: false,
      error: {
        code: 'RATE_LIMIT_EXCEEDED',
        message
      }
    },
    standardHeaders: true,
    legacyHeaders: false
  });
};

// Different rate limits for different endpoints
// More forgiving limits for development while still providing protection
const rateLimits =
/* istanbul ignore next */
(cov_jjf21zbn6().s[30]++, {
  // General API rate limit - increased for development
  general: createRateLimit(15 * 60 * 1000,
  // 15 minutes
  500,
  // 500 requests per window (was 100)
  'Too many requests, please try again later'),
  // Authentication endpoints - more forgiving for dev/testing
  auth: createRateLimit(15 * 60 * 1000,
  // 15 minutes
  50,
  // 50 requests per window (was 10)
  'Too many authentication attempts, please try again later'),
  // Payment endpoints rate limit - slightly increased
  payment: createRateLimit(60 * 60 * 1000,
  // 1 hour
  50,
  // 50 requests per hour (was 20)
  'Too many payment requests, please try again later'),
  // Admin endpoints rate limit - increased
  admin: createRateLimit(15 * 60 * 1000,
  // 15 minutes
  200,
  // 200 requests per window (was 50)
  'Too many admin requests, please try again later'),
  // Cross-site integration rate limit - increased
  integration: createRateLimit(60 * 1000,
  // 1 minute
  100,
  // 100 requests per minute (was 30)
  'Too many integration requests, please try again later')
});

// Slow down middleware for brute force protection
const speedLimiter =
/* istanbul ignore next */
(cov_jjf21zbn6().s[31]++, slowDown({
  windowMs: 15 * 60 * 1000,
  // 15 minutes
  delayAfter: 5,
  // allow 5 requests per windowMs without delay
  delayMs: () => {
    /* istanbul ignore next */
    cov_jjf21zbn6().f[4]++;
    cov_jjf21zbn6().s[32]++;
    return 500;
  },
  // add 500ms delay per request after delayAfter
  maxDelayMs: 20000,
  // max delay of 20 seconds
  validate: {
    delayMs: false
  } // disable warning
}));

// Input sanitization middleware
const sanitizeInput =
/* istanbul ignore next */
(cov_jjf21zbn6().s[33]++, [mongoSanitize({
  replaceWith: '_',
  onSanitize: ({
    req,
    key
  }) => {
    /* istanbul ignore next */
    cov_jjf21zbn6().f[5]++;
    cov_jjf21zbn6().s[34]++;
    console.warn(`Sanitized input: ${key} in ${req.method} ${req.path}`);
  }
})]);

// Common validation rules
const validationRules =
/* istanbul ignore next */
(cov_jjf21zbn6().s[35]++, {
  email: body('email').isEmail().normalizeEmail().withMessage('Please provide a valid email address'),
  password: body('password').isLength({
    min: 8
  }).withMessage('Password must be at least 8 characters long').matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/).withMessage('Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character'),
  name: body('name').trim().isLength({
    min: 2,
    max: 50
  }).withMessage('Name must be between 2 and 50 characters').matches(/^[a-zA-Z\s'-]+$/).withMessage('Name can only contain letters, spaces, hyphens, and apostrophes'),
  phone: body('phone').optional().isMobilePhone().withMessage('Please provide a valid phone number'),
  address: body('address').optional().trim().isLength({
    max: 200
  }).withMessage('Address must not exceed 200 characters'),
  price: body('price').isFloat({
    min: 0
  }).withMessage('Price must be a positive number'),
  quantity: body('quantity').isInt({
    min: 1
  }).withMessage('Quantity must be a positive integer')
});

// Validation error handler
/* istanbul ignore next */
cov_jjf21zbn6().s[36]++;
const handleValidationErrors = (req, res, next) => {
  /* istanbul ignore next */
  cov_jjf21zbn6().f[6]++;
  const errors =
  /* istanbul ignore next */
  (cov_jjf21zbn6().s[37]++, validationResult(req));
  /* istanbul ignore next */
  cov_jjf21zbn6().s[38]++;
  if (!errors.isEmpty()) {
    /* istanbul ignore next */
    cov_jjf21zbn6().b[9][0]++;
    cov_jjf21zbn6().s[39]++;
    return res.status(400).json({
      success: false,
      error: {
        code: 'VALIDATION_ERROR',
        message: 'Invalid input data',
        details: errors.array().map(error => {
          /* istanbul ignore next */
          cov_jjf21zbn6().f[7]++;
          cov_jjf21zbn6().s[40]++;
          return {
            field: error.path,
            message: error.msg,
            value: error.value
          };
        })
      }
    });
  } else
  /* istanbul ignore next */
  {
    cov_jjf21zbn6().b[9][1]++;
  }
  cov_jjf21zbn6().s[41]++;
  next();
};

// Security headers middleware
/* istanbul ignore next */
cov_jjf21zbn6().s[42]++;
const securityHeaders = (req, res, next) => {
  /* istanbul ignore next */
  cov_jjf21zbn6().f[8]++;
  cov_jjf21zbn6().s[43]++;
  // Additional security headers beyond helmet
  res.setHeader('X-Content-Type-Options', 'nosniff');
  /* istanbul ignore next */
  cov_jjf21zbn6().s[44]++;
  res.setHeader('X-Frame-Options', 'DENY');
  /* istanbul ignore next */
  cov_jjf21zbn6().s[45]++;
  res.setHeader('X-XSS-Protection', '1; mode=block');
  /* istanbul ignore next */
  cov_jjf21zbn6().s[46]++;
  res.setHeader('Referrer-Policy', 'strict-origin-when-cross-origin');
  /* istanbul ignore next */
  cov_jjf21zbn6().s[47]++;
  res.setHeader('Permissions-Policy', 'geolocation=(), microphone=(), camera=()');

  // Remove server information
  /* istanbul ignore next */
  cov_jjf21zbn6().s[48]++;
  res.removeHeader('X-Powered-By');
  /* istanbul ignore next */
  cov_jjf21zbn6().s[49]++;
  next();
};
/* istanbul ignore next */
cov_jjf21zbn6().s[50]++;
module.exports = {
  csrfProtection,
  generateCSRFToken,
  apiKeyAuth,
  rateLimits,
  speedLimiter,
  sanitizeInput,
  validationRules,
  handleValidationErrors,
  securityHeaders
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfampmMjF6Ym42IiwiYWN0dWFsQ292ZXJhZ2UiLCJjcnlwdG8iLCJzIiwicmVxdWlyZSIsIm1vbmdvU2FuaXRpemUiLCJyYXRlTGltaXQiLCJzbG93RG93biIsImJvZHkiLCJ2YWxpZGF0aW9uUmVzdWx0IiwiY3NyZlByb3RlY3Rpb24iLCJyZXEiLCJyZXMiLCJuZXh0IiwiZiIsImluY2x1ZGVzIiwibWV0aG9kIiwiYiIsImhlYWRlcnMiLCJ0b2tlbiIsIl9jc3JmIiwic2Vzc2lvblRva2VuIiwic2Vzc2lvbiIsImNzcmZUb2tlbiIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwiZXJyb3IiLCJjb2RlIiwibWVzc2FnZSIsImdlbmVyYXRlQ1NSRlRva2VuIiwicmFuZG9tQnl0ZXMiLCJ0b1N0cmluZyIsImFwaUtleUF1dGgiLCJhcGlLZXkiLCJ2YWxpZEFwaUtleXMiLCJwcm9jZXNzIiwiZW52IiwiVkFMSURfQVBJX0tFWVMiLCJzcGxpdCIsImNyZWF0ZVJhdGVMaW1pdCIsIndpbmRvd01zIiwibWF4Iiwic3RhbmRhcmRIZWFkZXJzIiwibGVnYWN5SGVhZGVycyIsInJhdGVMaW1pdHMiLCJnZW5lcmFsIiwiYXV0aCIsInBheW1lbnQiLCJhZG1pbiIsImludGVncmF0aW9uIiwic3BlZWRMaW1pdGVyIiwiZGVsYXlBZnRlciIsImRlbGF5TXMiLCJtYXhEZWxheU1zIiwidmFsaWRhdGUiLCJzYW5pdGl6ZUlucHV0IiwicmVwbGFjZVdpdGgiLCJvblNhbml0aXplIiwia2V5IiwiY29uc29sZSIsIndhcm4iLCJwYXRoIiwidmFsaWRhdGlvblJ1bGVzIiwiZW1haWwiLCJpc0VtYWlsIiwibm9ybWFsaXplRW1haWwiLCJ3aXRoTWVzc2FnZSIsInBhc3N3b3JkIiwiaXNMZW5ndGgiLCJtaW4iLCJtYXRjaGVzIiwibmFtZSIsInRyaW0iLCJwaG9uZSIsIm9wdGlvbmFsIiwiaXNNb2JpbGVQaG9uZSIsImFkZHJlc3MiLCJwcmljZSIsImlzRmxvYXQiLCJxdWFudGl0eSIsImlzSW50IiwiaGFuZGxlVmFsaWRhdGlvbkVycm9ycyIsImVycm9ycyIsImlzRW1wdHkiLCJkZXRhaWxzIiwiYXJyYXkiLCJtYXAiLCJmaWVsZCIsIm1zZyIsInZhbHVlIiwic2VjdXJpdHlIZWFkZXJzIiwic2V0SGVhZGVyIiwicmVtb3ZlSGVhZGVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInNlY3VyaXR5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpO1xuY29uc3QgbW9uZ29TYW5pdGl6ZSA9IHJlcXVpcmUoJ2V4cHJlc3MtbW9uZ28tc2FuaXRpemUnKTtcbmNvbnN0IHJhdGVMaW1pdCA9IHJlcXVpcmUoJ2V4cHJlc3MtcmF0ZS1saW1pdCcpO1xuY29uc3Qgc2xvd0Rvd24gPSByZXF1aXJlKCdleHByZXNzLXNsb3ctZG93bicpO1xuY29uc3QgeyBib2R5LCB2YWxpZGF0aW9uUmVzdWx0IH0gPSByZXF1aXJlKCdleHByZXNzLXZhbGlkYXRvcicpO1xuXG4vLyBDU1JGIFByb3RlY3Rpb24gTWlkZGxld2FyZVxuY29uc3QgY3NyZlByb3RlY3Rpb24gPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgLy8gU2tpcCBDU1JGIGZvciBHRVQsIEhFQUQsIE9QVElPTlMgcmVxdWVzdHNcbiAgaWYgKFsnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUyddLmluY2x1ZGVzKHJlcS5tZXRob2QpKSB7XG4gICAgcmV0dXJuIG5leHQoKTtcbiAgfVxuXG4gIC8vIFNraXAgQ1NSRiBmb3IgQVBJIGtleSBhdXRoZW50aWNhdGVkIHJlcXVlc3RzXG4gIGlmIChyZXEuaGVhZGVyc1sneC1hcGkta2V5J10pIHtcbiAgICByZXR1cm4gbmV4dCgpO1xuICB9XG5cbiAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVyc1sneC1jc3JmLXRva2VuJ10gfHwgcmVxLmJvZHkuX2NzcmY7XG4gIGNvbnN0IHNlc3Npb25Ub2tlbiA9IHJlcS5zZXNzaW9uLmNzcmZUb2tlbjtcblxuICBpZiAoIXRva2VuIHx8ICFzZXNzaW9uVG9rZW4gfHwgdG9rZW4gIT09IHNlc3Npb25Ub2tlbikge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIGNvZGU6ICdDU1JGX1RPS0VOX01JU01BVENIJyxcbiAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgQ1NSRiB0b2tlbidcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG5leHQoKTtcbn07XG5cbi8vIEdlbmVyYXRlIENTUkYgdG9rZW5cbmNvbnN0IGdlbmVyYXRlQ1NSRlRva2VuID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGlmICghcmVxLnNlc3Npb24uY3NyZlRva2VuKSB7XG4gICAgcmVxLnNlc3Npb24uY3NyZlRva2VuID0gY3J5cHRvLnJhbmRvbUJ5dGVzKDMyKS50b1N0cmluZygnaGV4Jyk7XG4gIH1cbiAgbmV4dCgpO1xufTtcblxuLy8gQVBJIEtleSBBdXRoZW50aWNhdGlvblxuY29uc3QgYXBpS2V5QXV0aCA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCBhcGlLZXkgPSByZXEuaGVhZGVyc1sneC1hcGkta2V5J107XG4gIFxuICBpZiAoIWFwaUtleSkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIGNvZGU6ICdBUElfS0VZX1JFUVVJUkVEJyxcbiAgICAgICAgbWVzc2FnZTogJ0FQSSBrZXkgaXMgcmVxdWlyZWQgZm9yIGNyb3NzLXNpdGUgaW50ZWdyYXRpb24nXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBWYWxpZGF0ZSBBUEkga2V5IChpbiBwcm9kdWN0aW9uLCBzdG9yZSB0aGVzZSBzZWN1cmVseSlcbiAgY29uc3QgdmFsaWRBcGlLZXlzID0gcHJvY2Vzcy5lbnYuVkFMSURfQVBJX0tFWVM/LnNwbGl0KCcsJykgfHwgW107XG4gIFxuICBpZiAoIXZhbGlkQXBpS2V5cy5pbmNsdWRlcyhhcGlLZXkpKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgY29kZTogJ0lOVkFMSURfQVBJX0tFWScsXG4gICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIEFQSSBrZXknXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXEuYXBpS2V5QXV0aCA9IHRydWU7XG4gIG5leHQoKTtcbn07XG5cbi8vIEVuaGFuY2VkIFJhdGUgTGltaXRpbmdcbmNvbnN0IGNyZWF0ZVJhdGVMaW1pdCA9ICh3aW5kb3dNcywgbWF4LCBtZXNzYWdlKSA9PiB7XG4gIHJldHVybiByYXRlTGltaXQoe1xuICAgIHdpbmRvd01zLFxuICAgIG1heCxcbiAgICBtZXNzYWdlOiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIGNvZGU6ICdSQVRFX0xJTUlUX0VYQ0VFREVEJyxcbiAgICAgICAgbWVzc2FnZVxuICAgICAgfVxuICAgIH0sXG4gICAgc3RhbmRhcmRIZWFkZXJzOiB0cnVlLFxuICAgIGxlZ2FjeUhlYWRlcnM6IGZhbHNlLFxuICB9KTtcbn07XG5cbi8vIERpZmZlcmVudCByYXRlIGxpbWl0cyBmb3IgZGlmZmVyZW50IGVuZHBvaW50c1xuLy8gTW9yZSBmb3JnaXZpbmcgbGltaXRzIGZvciBkZXZlbG9wbWVudCB3aGlsZSBzdGlsbCBwcm92aWRpbmcgcHJvdGVjdGlvblxuY29uc3QgcmF0ZUxpbWl0cyA9IHtcbiAgLy8gR2VuZXJhbCBBUEkgcmF0ZSBsaW1pdCAtIGluY3JlYXNlZCBmb3IgZGV2ZWxvcG1lbnRcbiAgZ2VuZXJhbDogY3JlYXRlUmF0ZUxpbWl0KFxuICAgIDE1ICogNjAgKiAxMDAwLCAvLyAxNSBtaW51dGVzXG4gICAgNTAwLCAvLyA1MDAgcmVxdWVzdHMgcGVyIHdpbmRvdyAod2FzIDEwMClcbiAgICAnVG9vIG1hbnkgcmVxdWVzdHMsIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXInXG4gICksXG4gIFxuICAvLyBBdXRoZW50aWNhdGlvbiBlbmRwb2ludHMgLSBtb3JlIGZvcmdpdmluZyBmb3IgZGV2L3Rlc3RpbmdcbiAgYXV0aDogY3JlYXRlUmF0ZUxpbWl0KFxuICAgIDE1ICogNjAgKiAxMDAwLCAvLyAxNSBtaW51dGVzXG4gICAgNTAsIC8vIDUwIHJlcXVlc3RzIHBlciB3aW5kb3cgKHdhcyAxMClcbiAgICAnVG9vIG1hbnkgYXV0aGVudGljYXRpb24gYXR0ZW1wdHMsIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXInXG4gICksXG4gIFxuICAvLyBQYXltZW50IGVuZHBvaW50cyByYXRlIGxpbWl0IC0gc2xpZ2h0bHkgaW5jcmVhc2VkXG4gIHBheW1lbnQ6IGNyZWF0ZVJhdGVMaW1pdChcbiAgICA2MCAqIDYwICogMTAwMCwgLy8gMSBob3VyXG4gICAgNTAsIC8vIDUwIHJlcXVlc3RzIHBlciBob3VyICh3YXMgMjApXG4gICAgJ1RvbyBtYW55IHBheW1lbnQgcmVxdWVzdHMsIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXInXG4gICksXG4gIFxuICAvLyBBZG1pbiBlbmRwb2ludHMgcmF0ZSBsaW1pdCAtIGluY3JlYXNlZFxuICBhZG1pbjogY3JlYXRlUmF0ZUxpbWl0KFxuICAgIDE1ICogNjAgKiAxMDAwLCAvLyAxNSBtaW51dGVzXG4gICAgMjAwLCAvLyAyMDAgcmVxdWVzdHMgcGVyIHdpbmRvdyAod2FzIDUwKVxuICAgICdUb28gbWFueSBhZG1pbiByZXF1ZXN0cywgcGxlYXNlIHRyeSBhZ2FpbiBsYXRlcidcbiAgKSxcbiAgXG4gIC8vIENyb3NzLXNpdGUgaW50ZWdyYXRpb24gcmF0ZSBsaW1pdCAtIGluY3JlYXNlZFxuICBpbnRlZ3JhdGlvbjogY3JlYXRlUmF0ZUxpbWl0KFxuICAgIDYwICogMTAwMCwgLy8gMSBtaW51dGVcbiAgICAxMDAsIC8vIDEwMCByZXF1ZXN0cyBwZXIgbWludXRlICh3YXMgMzApXG4gICAgJ1RvbyBtYW55IGludGVncmF0aW9uIHJlcXVlc3RzLCBwbGVhc2UgdHJ5IGFnYWluIGxhdGVyJ1xuICApXG59O1xuXG4vLyBTbG93IGRvd24gbWlkZGxld2FyZSBmb3IgYnJ1dGUgZm9yY2UgcHJvdGVjdGlvblxuY29uc3Qgc3BlZWRMaW1pdGVyID0gc2xvd0Rvd24oe1xuICB3aW5kb3dNczogMTUgKiA2MCAqIDEwMDAsIC8vIDE1IG1pbnV0ZXNcbiAgZGVsYXlBZnRlcjogNSwgLy8gYWxsb3cgNSByZXF1ZXN0cyBwZXIgd2luZG93TXMgd2l0aG91dCBkZWxheVxuICBkZWxheU1zOiAoKSA9PiA1MDAsIC8vIGFkZCA1MDBtcyBkZWxheSBwZXIgcmVxdWVzdCBhZnRlciBkZWxheUFmdGVyXG4gIG1heERlbGF5TXM6IDIwMDAwLCAvLyBtYXggZGVsYXkgb2YgMjAgc2Vjb25kc1xuICB2YWxpZGF0ZTogeyBkZWxheU1zOiBmYWxzZSB9IC8vIGRpc2FibGUgd2FybmluZ1xufSk7XG5cbi8vIElucHV0IHNhbml0aXphdGlvbiBtaWRkbGV3YXJlXG5jb25zdCBzYW5pdGl6ZUlucHV0ID0gW1xuICBtb25nb1Nhbml0aXplKHtcbiAgICByZXBsYWNlV2l0aDogJ18nLFxuICAgIG9uU2FuaXRpemU6ICh7IHJlcSwga2V5IH0pID0+IHtcbiAgICAgIGNvbnNvbGUud2FybihgU2FuaXRpemVkIGlucHV0OiAke2tleX0gaW4gJHtyZXEubWV0aG9kfSAke3JlcS5wYXRofWApO1xuICAgIH0sXG4gIH0pLFxuXTtcblxuLy8gQ29tbW9uIHZhbGlkYXRpb24gcnVsZXNcbmNvbnN0IHZhbGlkYXRpb25SdWxlcyA9IHtcbiAgZW1haWw6IGJvZHkoJ2VtYWlsJylcbiAgICAuaXNFbWFpbCgpXG4gICAgLm5vcm1hbGl6ZUVtYWlsKClcbiAgICAud2l0aE1lc3NhZ2UoJ1BsZWFzZSBwcm92aWRlIGEgdmFsaWQgZW1haWwgYWRkcmVzcycpLFxuICBcbiAgcGFzc3dvcmQ6IGJvZHkoJ3Bhc3N3b3JkJylcbiAgICAuaXNMZW5ndGgoeyBtaW46IDggfSlcbiAgICAud2l0aE1lc3NhZ2UoJ1Bhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgOCBjaGFyYWN0ZXJzIGxvbmcnKVxuICAgIC5tYXRjaGVzKC9eKD89LipbYS16XSkoPz0uKltBLVpdKSg/PS4qXFxkKSg/PS4qW0AkISUqPyZdKVtBLVphLXpcXGRAJCElKj8mXS8pXG4gICAgLndpdGhNZXNzYWdlKCdQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIHVwcGVyY2FzZSBsZXR0ZXIsIG9uZSBsb3dlcmNhc2UgbGV0dGVyLCBvbmUgbnVtYmVyLCBhbmQgb25lIHNwZWNpYWwgY2hhcmFjdGVyJyksXG4gIFxuICBuYW1lOiBib2R5KCduYW1lJylcbiAgICAudHJpbSgpXG4gICAgLmlzTGVuZ3RoKHsgbWluOiAyLCBtYXg6IDUwIH0pXG4gICAgLndpdGhNZXNzYWdlKCdOYW1lIG11c3QgYmUgYmV0d2VlbiAyIGFuZCA1MCBjaGFyYWN0ZXJzJylcbiAgICAubWF0Y2hlcygvXlthLXpBLVpcXHMnLV0rJC8pXG4gICAgLndpdGhNZXNzYWdlKCdOYW1lIGNhbiBvbmx5IGNvbnRhaW4gbGV0dGVycywgc3BhY2VzLCBoeXBoZW5zLCBhbmQgYXBvc3Ryb3BoZXMnKSxcbiAgXG4gIHBob25lOiBib2R5KCdwaG9uZScpXG4gICAgLm9wdGlvbmFsKClcbiAgICAuaXNNb2JpbGVQaG9uZSgpXG4gICAgLndpdGhNZXNzYWdlKCdQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIHBob25lIG51bWJlcicpLFxuICBcbiAgYWRkcmVzczogYm9keSgnYWRkcmVzcycpXG4gICAgLm9wdGlvbmFsKClcbiAgICAudHJpbSgpXG4gICAgLmlzTGVuZ3RoKHsgbWF4OiAyMDAgfSlcbiAgICAud2l0aE1lc3NhZ2UoJ0FkZHJlc3MgbXVzdCBub3QgZXhjZWVkIDIwMCBjaGFyYWN0ZXJzJyksXG4gIFxuICBwcmljZTogYm9keSgncHJpY2UnKVxuICAgIC5pc0Zsb2F0KHsgbWluOiAwIH0pXG4gICAgLndpdGhNZXNzYWdlKCdQcmljZSBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyksXG4gIFxuICBxdWFudGl0eTogYm9keSgncXVhbnRpdHknKVxuICAgIC5pc0ludCh7IG1pbjogMSB9KVxuICAgIC53aXRoTWVzc2FnZSgnUXVhbnRpdHkgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXInKSxcbn07XG5cbi8vIFZhbGlkYXRpb24gZXJyb3IgaGFuZGxlclxuY29uc3QgaGFuZGxlVmFsaWRhdGlvbkVycm9ycyA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCBlcnJvcnMgPSB2YWxpZGF0aW9uUmVzdWx0KHJlcSk7XG4gIFxuICBpZiAoIWVycm9ycy5pc0VtcHR5KCkpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjoge1xuICAgICAgICBjb2RlOiAnVkFMSURBVElPTl9FUlJPUicsXG4gICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIGlucHV0IGRhdGEnLFxuICAgICAgICBkZXRhaWxzOiBlcnJvcnMuYXJyYXkoKS5tYXAoZXJyb3IgPT4gKHtcbiAgICAgICAgICBmaWVsZDogZXJyb3IucGF0aCxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tc2csXG4gICAgICAgICAgdmFsdWU6IGVycm9yLnZhbHVlXG4gICAgICAgIH0pKVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIFxuICBuZXh0KCk7XG59O1xuXG4vLyBTZWN1cml0eSBoZWFkZXJzIG1pZGRsZXdhcmVcbmNvbnN0IHNlY3VyaXR5SGVhZGVycyA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAvLyBBZGRpdGlvbmFsIHNlY3VyaXR5IGhlYWRlcnMgYmV5b25kIGhlbG1ldFxuICByZXMuc2V0SGVhZGVyKCdYLUNvbnRlbnQtVHlwZS1PcHRpb25zJywgJ25vc25pZmYnKTtcbiAgcmVzLnNldEhlYWRlcignWC1GcmFtZS1PcHRpb25zJywgJ0RFTlknKTtcbiAgcmVzLnNldEhlYWRlcignWC1YU1MtUHJvdGVjdGlvbicsICcxOyBtb2RlPWJsb2NrJyk7XG4gIHJlcy5zZXRIZWFkZXIoJ1JlZmVycmVyLVBvbGljeScsICdzdHJpY3Qtb3JpZ2luLXdoZW4tY3Jvc3Mtb3JpZ2luJyk7XG4gIHJlcy5zZXRIZWFkZXIoJ1Blcm1pc3Npb25zLVBvbGljeScsICdnZW9sb2NhdGlvbj0oKSwgbWljcm9waG9uZT0oKSwgY2FtZXJhPSgpJyk7XG4gIFxuICAvLyBSZW1vdmUgc2VydmVyIGluZm9ybWF0aW9uXG4gIHJlcy5yZW1vdmVIZWFkZXIoJ1gtUG93ZXJlZC1CeScpO1xuICBcbiAgbmV4dCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNzcmZQcm90ZWN0aW9uLFxuICBnZW5lcmF0ZUNTUkZUb2tlbixcbiAgYXBpS2V5QXV0aCxcbiAgcmF0ZUxpbWl0cyxcbiAgc3BlZWRMaW1pdGVyLFxuICBzYW5pdGl6ZUlucHV0LFxuICB2YWxpZGF0aW9uUnVsZXMsXG4gIGhhbmRsZVZhbGlkYXRpb25FcnJvcnMsXG4gIHNlY3VyaXR5SGVhZGVyc1xufTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWVZO0lBQUFBLGFBQUEsWUFBQUEsQ0FBQTtNQUFBLE9BQUFDLGNBQUE7SUFBQTtFQUFBO0VBQUEsT0FBQUEsY0FBQTtBQUFBO0FBQUFELGFBQUE7QUFmWixNQUFNRSxNQUFNO0FBQUE7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