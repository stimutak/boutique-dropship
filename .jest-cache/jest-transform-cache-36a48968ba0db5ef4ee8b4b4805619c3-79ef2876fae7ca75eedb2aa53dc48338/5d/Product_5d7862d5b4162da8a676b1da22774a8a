961d9db42866875d9f38537199091a0e
const mongoose = require('mongoose');
const productSchema = new mongoose.Schema({
  name: {
    type: String,
    required: true,
    trim: true,
    index: true
  },
  slug: {
    type: String,
    required: true,
    unique: true,
    lowercase: true
  },
  description: {
    type: String,
    required: true
  },
  shortDescription: {
    type: String,
    required: true,
    maxlength: 200
  },
  price: {
    type: Number,
    required: true,
    min: 0
  },
  compareAtPrice: {
    type: Number,
    min: 0
  },
  // Multi-currency support
  baseCurrency: {
    type: String,
    default: 'USD',
    enum: ['USD', 'EUR', 'CNY', 'JPY', 'SAR', 'GBP', 'CAD']
  },
  prices: {
    USD: {
      type: Number,
      required: true
    },
    EUR: {
      type: Number
    },
    CNY: {
      type: Number
    },
    JPY: {
      type: Number
    },
    SAR: {
      type: Number
    },
    GBP: {
      type: Number
    },
    CAD: {
      type: Number
    }
  },
  images: [{
    url: {
      type: String,
      required: true
    },
    alt: {
      type: String,
      required: true
    },
    isPrimary: {
      type: Boolean,
      default: false
    }
  }],
  category: {
    type: String,
    required: true,
    enum: ['crystals', 'herbs', 'oils', 'supplements', 'books', 'accessories', 'other']
  },
  tags: [String],
  properties: {
    chakra: [String],
    element: [String],
    zodiac: [String],
    healing: [String],
    origin: String,
    size: String,
    weight: String
  },
  wholesaler: {
    name: {
      type: String,
      required: true
    },
    email: {
      type: String,
      required: true
    },
    productCode: {
      type: String,
      required: true
    },
    cost: {
      type: Number,
      required: true
    },
    minOrderQty: {
      type: Number,
      default: 1
    }
  },
  seo: {
    title: String,
    description: String,
    keywords: [String]
  },
  isActive: {
    type: Boolean,
    default: true
  },
  isFeatured: {
    type: Boolean,
    default: false
  },
  crossSiteIntegration: {
    enabled: {
      type: Boolean,
      default: true
    },
    referenceKey: String,
    // For linking from sister sites
    relatedContent: [String] // URLs or content IDs from sister sites
  }
}, {
  timestamps: true
});

// Indexes for performance
productSchema.index({
  name: 'text',
  description: 'text',
  tags: 'text'
});
productSchema.index({
  category: 1,
  isActive: 1
});
productSchema.index({
  slug: 1
});
productSchema.index({
  'crossSiteIntegration.referenceKey': 1
});
productSchema.index({
  tags: 1
});
productSchema.index({
  isFeatured: 1,
  isActive: 1
});
productSchema.index({
  price: 1,
  isActive: 1
});
productSchema.index({
  'properties.chakra': 1,
  isActive: 1
});
productSchema.index({
  createdAt: -1,
  isActive: 1
});

// Method to get public product data (excludes wholesaler info)
productSchema.methods.toPublicJSON = function () {
  const product = this.toObject();
  delete product.wholesaler;
  return product;
};

// Static method to get products for public API
productSchema.statics.findPublic = function (query = {}) {
  return this.find({
    ...query,
    isActive: true
  }).select('-wholesaler');
};

// Method to get cross-site integration data
productSchema.methods.getCrossSiteData = function () {
  return {
    _id: this._id,
    name: this.name,
    slug: this.slug,
    shortDescription: this.shortDescription,
    price: this.price,
    compareAtPrice: this.compareAtPrice,
    images: this.images,
    category: this.category,
    properties: this.properties,
    seo: this.seo,
    crossSiteIntegration: this.crossSiteIntegration
  };
};

// Validation for cross-site integration
productSchema.pre('save', function (next) {
  if (this.crossSiteIntegration.enabled && !this.crossSiteIntegration.referenceKey) {
    this.crossSiteIntegration.referenceKey = this.slug;
  }

  // Ensure USD price is always set from base price
  if (!this.prices) {
    this.prices = {};
  }
  this.prices.USD = this.price;
  next();
});
module.exports = mongoose.model('Product', productSchema);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJwcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInRyaW0iLCJpbmRleCIsInNsdWciLCJ1bmlxdWUiLCJsb3dlcmNhc2UiLCJkZXNjcmlwdGlvbiIsInNob3J0RGVzY3JpcHRpb24iLCJtYXhsZW5ndGgiLCJwcmljZSIsIk51bWJlciIsIm1pbiIsImNvbXBhcmVBdFByaWNlIiwiYmFzZUN1cnJlbmN5IiwiZGVmYXVsdCIsImVudW0iLCJwcmljZXMiLCJVU0QiLCJFVVIiLCJDTlkiLCJKUFkiLCJTQVIiLCJHQlAiLCJDQUQiLCJpbWFnZXMiLCJ1cmwiLCJhbHQiLCJpc1ByaW1hcnkiLCJCb29sZWFuIiwiY2F0ZWdvcnkiLCJ0YWdzIiwicHJvcGVydGllcyIsImNoYWtyYSIsImVsZW1lbnQiLCJ6b2RpYWMiLCJoZWFsaW5nIiwib3JpZ2luIiwic2l6ZSIsIndlaWdodCIsIndob2xlc2FsZXIiLCJlbWFpbCIsInByb2R1Y3RDb2RlIiwiY29zdCIsIm1pbk9yZGVyUXR5Iiwic2VvIiwidGl0bGUiLCJrZXl3b3JkcyIsImlzQWN0aXZlIiwiaXNGZWF0dXJlZCIsImNyb3NzU2l0ZUludGVncmF0aW9uIiwiZW5hYmxlZCIsInJlZmVyZW5jZUtleSIsInJlbGF0ZWRDb250ZW50IiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsIm1ldGhvZHMiLCJ0b1B1YmxpY0pTT04iLCJwcm9kdWN0IiwidG9PYmplY3QiLCJzdGF0aWNzIiwiZmluZFB1YmxpYyIsInF1ZXJ5IiwiZmluZCIsInNlbGVjdCIsImdldENyb3NzU2l0ZURhdGEiLCJfaWQiLCJwcmUiLCJuZXh0IiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5cbmNvbnN0IHByb2R1Y3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgbmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB0cmltOiB0cnVlLFxuICAgIGluZGV4OiB0cnVlXG4gIH0sXG4gIHNsdWc6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgdW5pcXVlOiB0cnVlLFxuICAgIGxvd2VyY2FzZTogdHJ1ZVxuICB9LFxuICBkZXNjcmlwdGlvbjoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZVxuICB9LFxuICBzaG9ydERlc2NyaXB0aW9uOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIG1heGxlbmd0aDogMjAwXG4gIH0sXG4gIHByaWNlOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIG1pbjogMFxuICB9LFxuICBjb21wYXJlQXRQcmljZToge1xuICAgIHR5cGU6IE51bWJlcixcbiAgICBtaW46IDBcbiAgfSxcbiAgLy8gTXVsdGktY3VycmVuY3kgc3VwcG9ydFxuICBiYXNlQ3VycmVuY3k6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJ1VTRCcsXG4gICAgZW51bTogWydVU0QnLCAnRVVSJywgJ0NOWScsICdKUFknLCAnU0FSJywgJ0dCUCcsICdDQUQnXVxuICB9LFxuICBwcmljZXM6IHtcbiAgICBVU0Q6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIEVVUjogeyB0eXBlOiBOdW1iZXIgfSxcbiAgICBDTlk6IHsgdHlwZTogTnVtYmVyIH0sXG4gICAgSlBZOiB7IHR5cGU6IE51bWJlciB9LFxuICAgIFNBUjogeyB0eXBlOiBOdW1iZXIgfSxcbiAgICBHQlA6IHsgdHlwZTogTnVtYmVyIH0sXG4gICAgQ0FEOiB7IHR5cGU6IE51bWJlciB9XG4gIH0sXG4gIGltYWdlczogW3tcbiAgICB1cmw6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGFsdDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgaXNQcmltYXJ5OiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH1cbiAgfV0sXG4gIGNhdGVnb3J5OiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIGVudW06IFsnY3J5c3RhbHMnLCAnaGVyYnMnLCAnb2lscycsICdzdXBwbGVtZW50cycsICdib29rcycsICdhY2Nlc3NvcmllcycsICdvdGhlciddXG4gIH0sXG4gIHRhZ3M6IFtTdHJpbmddLFxuICBwcm9wZXJ0aWVzOiB7XG4gICAgY2hha3JhOiBbU3RyaW5nXSxcbiAgICBlbGVtZW50OiBbU3RyaW5nXSxcbiAgICB6b2RpYWM6IFtTdHJpbmddLFxuICAgIGhlYWxpbmc6IFtTdHJpbmddLFxuICAgIG9yaWdpbjogU3RyaW5nLFxuICAgIHNpemU6IFN0cmluZyxcbiAgICB3ZWlnaHQ6IFN0cmluZ1xuICB9LFxuICB3aG9sZXNhbGVyOiB7XG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgZW1haWw6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHByb2R1Y3RDb2RlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBjb3N0OiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBtaW5PcmRlclF0eTogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDEgfVxuICB9LFxuICBzZW86IHtcbiAgICB0aXRsZTogU3RyaW5nLFxuICAgIGRlc2NyaXB0aW9uOiBTdHJpbmcsXG4gICAga2V5d29yZHM6IFtTdHJpbmddXG4gIH0sXG4gIGlzQWN0aXZlOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiB0cnVlXG4gIH0sXG4gIGlzRmVhdHVyZWQ6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IGZhbHNlXG4gIH0sXG4gIGNyb3NzU2l0ZUludGVncmF0aW9uOiB7XG4gICAgZW5hYmxlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiB0cnVlIH0sXG4gICAgcmVmZXJlbmNlS2V5OiBTdHJpbmcsIC8vIEZvciBsaW5raW5nIGZyb20gc2lzdGVyIHNpdGVzXG4gICAgcmVsYXRlZENvbnRlbnQ6IFtTdHJpbmddIC8vIFVSTHMgb3IgY29udGVudCBJRHMgZnJvbSBzaXN0ZXIgc2l0ZXNcbiAgfVxufSwge1xuICB0aW1lc3RhbXBzOiB0cnVlXG59KTtcblxuLy8gSW5kZXhlcyBmb3IgcGVyZm9ybWFuY2VcbnByb2R1Y3RTY2hlbWEuaW5kZXgoeyBuYW1lOiAndGV4dCcsIGRlc2NyaXB0aW9uOiAndGV4dCcsIHRhZ3M6ICd0ZXh0JyB9KTtcbnByb2R1Y3RTY2hlbWEuaW5kZXgoeyBjYXRlZ29yeTogMSwgaXNBY3RpdmU6IDEgfSk7XG5wcm9kdWN0U2NoZW1hLmluZGV4KHsgc2x1ZzogMSB9KTtcbnByb2R1Y3RTY2hlbWEuaW5kZXgoeyAnY3Jvc3NTaXRlSW50ZWdyYXRpb24ucmVmZXJlbmNlS2V5JzogMSB9KTtcbnByb2R1Y3RTY2hlbWEuaW5kZXgoeyB0YWdzOiAxIH0pO1xucHJvZHVjdFNjaGVtYS5pbmRleCh7IGlzRmVhdHVyZWQ6IDEsIGlzQWN0aXZlOiAxIH0pO1xucHJvZHVjdFNjaGVtYS5pbmRleCh7IHByaWNlOiAxLCBpc0FjdGl2ZTogMSB9KTtcbnByb2R1Y3RTY2hlbWEuaW5kZXgoeyAncHJvcGVydGllcy5jaGFrcmEnOiAxLCBpc0FjdGl2ZTogMSB9KTtcbnByb2R1Y3RTY2hlbWEuaW5kZXgoeyBjcmVhdGVkQXQ6IC0xLCBpc0FjdGl2ZTogMSB9KTtcblxuLy8gTWV0aG9kIHRvIGdldCBwdWJsaWMgcHJvZHVjdCBkYXRhIChleGNsdWRlcyB3aG9sZXNhbGVyIGluZm8pXG5wcm9kdWN0U2NoZW1hLm1ldGhvZHMudG9QdWJsaWNKU09OID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHByb2R1Y3QgPSB0aGlzLnRvT2JqZWN0KCk7XG4gIGRlbGV0ZSBwcm9kdWN0Lndob2xlc2FsZXI7XG4gIHJldHVybiBwcm9kdWN0O1xufTtcblxuLy8gU3RhdGljIG1ldGhvZCB0byBnZXQgcHJvZHVjdHMgZm9yIHB1YmxpYyBBUElcbnByb2R1Y3RTY2hlbWEuc3RhdGljcy5maW5kUHVibGljID0gZnVuY3Rpb24ocXVlcnkgPSB7fSkge1xuICByZXR1cm4gdGhpcy5maW5kKHsgLi4ucXVlcnksIGlzQWN0aXZlOiB0cnVlIH0pLnNlbGVjdCgnLXdob2xlc2FsZXInKTtcbn07XG5cbi8vIE1ldGhvZCB0byBnZXQgY3Jvc3Mtc2l0ZSBpbnRlZ3JhdGlvbiBkYXRhXG5wcm9kdWN0U2NoZW1hLm1ldGhvZHMuZ2V0Q3Jvc3NTaXRlRGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIF9pZDogdGhpcy5faWQsXG4gICAgbmFtZTogdGhpcy5uYW1lLFxuICAgIHNsdWc6IHRoaXMuc2x1ZyxcbiAgICBzaG9ydERlc2NyaXB0aW9uOiB0aGlzLnNob3J0RGVzY3JpcHRpb24sXG4gICAgcHJpY2U6IHRoaXMucHJpY2UsXG4gICAgY29tcGFyZUF0UHJpY2U6IHRoaXMuY29tcGFyZUF0UHJpY2UsXG4gICAgaW1hZ2VzOiB0aGlzLmltYWdlcyxcbiAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeSxcbiAgICBwcm9wZXJ0aWVzOiB0aGlzLnByb3BlcnRpZXMsXG4gICAgc2VvOiB0aGlzLnNlbyxcbiAgICBjcm9zc1NpdGVJbnRlZ3JhdGlvbjogdGhpcy5jcm9zc1NpdGVJbnRlZ3JhdGlvblxuICB9O1xufTtcblxuLy8gVmFsaWRhdGlvbiBmb3IgY3Jvc3Mtc2l0ZSBpbnRlZ3JhdGlvblxucHJvZHVjdFNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbihuZXh0KSB7XG4gIGlmICh0aGlzLmNyb3NzU2l0ZUludGVncmF0aW9uLmVuYWJsZWQgJiYgIXRoaXMuY3Jvc3NTaXRlSW50ZWdyYXRpb24ucmVmZXJlbmNlS2V5KSB7XG4gICAgdGhpcy5jcm9zc1NpdGVJbnRlZ3JhdGlvbi5yZWZlcmVuY2VLZXkgPSB0aGlzLnNsdWc7XG4gIH1cbiAgXG4gIC8vIEVuc3VyZSBVU0QgcHJpY2UgaXMgYWx3YXlzIHNldCBmcm9tIGJhc2UgcHJpY2VcbiAgaWYgKCF0aGlzLnByaWNlcykge1xuICAgIHRoaXMucHJpY2VzID0ge307XG4gIH1cbiAgdGhpcy5wcmljZXMuVVNEID0gdGhpcy5wcmljZTtcbiAgXG4gIG5leHQoKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVsKCdQcm9kdWN0JywgcHJvZHVjdFNjaGVtYSk7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFFcEMsTUFBTUMsYUFBYSxHQUFHLElBQUlGLFFBQVEsQ0FBQ0csTUFBTSxDQUFDO0VBQ3hDQyxJQUFJLEVBQUU7SUFDSkMsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRSxJQUFJO0lBQ2RDLElBQUksRUFBRSxJQUFJO0lBQ1ZDLEtBQUssRUFBRTtFQUNULENBQUM7RUFDREMsSUFBSSxFQUFFO0lBQ0pMLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUUsSUFBSTtJQUNkSSxNQUFNLEVBQUUsSUFBSTtJQUNaQyxTQUFTLEVBQUU7RUFDYixDQUFDO0VBQ0RDLFdBQVcsRUFBRTtJQUNYUixJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNETyxnQkFBZ0IsRUFBRTtJQUNoQlQsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRSxJQUFJO0lBQ2RRLFNBQVMsRUFBRTtFQUNiLENBQUM7RUFDREMsS0FBSyxFQUFFO0lBQ0xYLElBQUksRUFBRVksTUFBTTtJQUNaVixRQUFRLEVBQUUsSUFBSTtJQUNkVyxHQUFHLEVBQUU7RUFDUCxDQUFDO0VBQ0RDLGNBQWMsRUFB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