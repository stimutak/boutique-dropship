517decd9af7f3288b18142247a90e18f
const request = require('supertest');
const jwt = require('jsonwebtoken');
const mongoose = require('mongoose');
const User = require('../../models/User');
const Product = require('../../models/Product');
const Order = require('../../models/Order');
const {
  createTestApp
} = require('../helpers/testApp');
describe('Performance and Load Testing', () => {
  let app;
  let testProducts = [];
  let testUsers = [];
  let userTokens = [];
  beforeAll(async () => {
    app = createTestApp();

    // Create test data for performance testing
    await setupPerformanceTestData();
  }, 30000);
  beforeEach(async () => {
    // Clear orders but keep users and products for performance tests
    await Order.deleteMany({});
  });
  async function setupPerformanceTestData() {
    // Clear existing data
    await User.deleteMany({});
    await Product.deleteMany({});
    await Order.deleteMany({});

    // Create 100 test products
    const productData = [];
    for (let i = 0; i < 100; i++) {
      productData.push({
        name: `Performance Product ${i}`,
        slug: `performance-product-${i}`,
        description: `High-quality holistic product ${i} for performance testing`,
        shortDescription: `Performance product ${i}`,
        price: 10 + i * 0.5,
        category: ['crystals', 'herbs', 'oils', 'supplements'][i % 4],
        properties: {
          chakra: [['root'], ['sacral'], ['solar-plexus'], ['heart'], ['throat'], ['third-eye'], ['crown']][i % 7],
          element: ['earth', 'water', 'fire', 'air'][i % 4],
          zodiac: ['aries', 'taurus', 'gemini', 'cancer'][i % 4]
        },
        wholesaler: {
          name: `Wholesaler ${Math.floor(i / 10)}`,
          email: `wholesaler${Math.floor(i / 10)}@test.com`,
          productCode: `PP${i.toString().padStart(3, '0')}`,
          cost: 5 + i * 0.25
        },
        tags: [`tag${i % 5}`, `category${i % 3}`, `type${i % 7}`]
      });
    }
    testProducts = await Product.insertMany(productData);

    // Create 20 test users
    const userData = [];
    for (let i = 0; i < 20; i++) {
      userData.push({
        email: `perfuser${i}@test.com`,
        password: 'password123',
        firstName: `User${i}`,
        lastName: 'Performance',
        addresses: [{
          type: 'shipping',
          firstName: `User${i}`,
          lastName: 'Performance',
          street: `${100 + i} Performance St`,
          city: 'Test City',
          state: 'CA',
          zipCode: '90210',
          country: 'US',
          isDefault: true
        }]
      });
    }
    testUsers = await User.insertMany(userData);

    // Generate tokens for users
    userTokens = testUsers.map(user => jwt.sign({
      userId: user._id
    }, process.env.JWT_SECRET, {
      expiresIn: '1h'
    }));
  }
  describe('API Response Time Tests', () => {
    it('should handle product catalog requests within acceptable time', async () => {
      const iterations = 10;
      const times = [];
      for (let i = 0; i < iterations; i++) {
        const startTime = Date.now();
        const response = await request(app).get('/api/products?limit=20').expect(200);
        const endTime = Date.now();
        times.push(endTime - startTime);
        expect(response.body.success).toBe(true);
        expect(response.body.data.products.length).toBeGreaterThan(0);
      }
      const avgTime = times.reduce((a, b) => a + b, 0) / times.length;
      const maxTime = Math.max(...times);
      console.log(`Product catalog - Average: ${avgTime}ms, Max: ${maxTime}ms`);

      // Should average under 200ms and max under 500ms
      expect(avgTime).toBeLessThan(200);
      expect(maxTime).toBeLessThan(500);
    });
    it('should handle product search requests efficiently', async () => {
      const searchTerms = ['crystal', 'herb', 'oil', 'supplement', 'performance'];
      const times = [];
      for (const term of searchTerms) {
        const startTime = Date.now();
        const response = await request(app).get(`/api/products/search?q=${term}`).expect(200);
        const endTime = Date.now();
        times.push(endTime - startTime);
        expect(response.body.success).toBe(true);
      }
      const avgTime = times.reduce((a, b) => a + b, 0) / times.length;
      console.log(`Product search - Average: ${avgTime}ms`);

      // Search should average under 300ms
      expect(avgTime).toBeLessThan(300);
    });
    it('should handle individual product page loads quickly', async () => {
      const productSlugs = testProducts.slice(0, 10).map(p => p.slug);
      const times = [];
      for (const slug of productSlugs) {
        const startTime = Date.now();
        const response = await request(app).get(`/api/products/${slug}`).expect(200);
        const endTime = Date.now();
        times.push(endTime - startTime);
        expect(response.body.success).toBe(true);
        expect(response.body.data.product.slug).toBe(slug);
      }
      const avgTime = times.reduce((a, b) => a + b, 0) / times.length;
      console.log(`Individual product - Average: ${avgTime}ms`);

      // Individual product loads should average under 100ms
      expect(avgTime).toBeLessThan(100);
    });
  });
  describe('Concurrent User Load Tests', () => {
    it('should handle concurrent user registrations', async () => {
      const concurrentRegistrations = [];
      for (let i = 0; i < 10; i++) {
        concurrentRegistrations.push(request(app).post('/api/auth/register').send({
          email: `concurrent${i}@test.com`,
          password: 'password123',
          firstName: `Concurrent${i}`,
          lastName: 'User'
        }));
      }
      const startTime = Date.now();
      const results = await Promise.all(concurrentRegistrations);
      const endTime = Date.now();
      results.forEach((result, index) => {
        expect(result.status).toBe(201);
        expect(result.body.success).toBe(true);
        expect(result.body.user.email).toBe(`concurrent${index}@test.com`);
      });
      console.log(`Concurrent registrations (10): ${endTime - startTime}ms`);
      // Should complete within 2 seconds
      expect(endTime - startTime).toBeLessThan(2000);
    });
    it('should handle concurrent cart operations', async () => {
      const concurrentCartOps = [];

      // Each user adds different products to cart
      for (let i = 0; i < 10; i++) {
        concurrentCartOps.push(request(app).post('/api/cart/add').set('Authorization', `Bearer ${userTokens[i]}`).send({
          productId: testProducts[i]._id,
          quantity: Math.floor(Math.random() * 3) + 1
        }));
      }
      const startTime = Date.now();
      const results = await Promise.all(concurrentCartOps);
      const endTime = Date.now();
      results.forEach(result => {
        expect(result.status).toBe(200);
        expect(result.body.success).toBe(true);
      });
      console.log(`Concurrent cart operations (10): ${endTime - startTime}ms`);
      // Should complete within 1 second
      expect(endTime - startTime).toBeLessThan(1000);
    });
    it('should handle concurrent order creation', async () => {
      const concurrentOrders = [];
      for (let i = 0; i < 5; i++) {
        concurrentOrders.push(request(app).post('/api/orders').set('Authorization', `Bearer ${userTokens[i]}`).send({
          items: [{
            product: testProducts[i * 2]._id,
            quantity: 1,
            price: testProducts[i * 2].price
          }],
          useDefaultAddress: true
        }));
      }
      const startTime = Date.now();
      const results = await Promise.all(concurrentOrders);
      const endTime = Date.now();
      results.forEach(result => {
        expect(result.status).toBe(201);
        expect(result.body.success).toBe(true);
        expect(result.body.data.order.items.length).toBe(1);
      });
      console.log(`Concurrent order creation (5): ${endTime - startTime}ms`);
      // Should complete within 1.5 seconds
      expect(endTime - startTime).toBeLessThan(1500);
    });
  });
  describe('Database Query Performance', () => {
    it('should handle complex product filtering efficiently', async () => {
      const filterTests = [{
        category: 'crystals',
        chakra: 'heart'
      }, {
        category: 'herbs',
        element: 'fire'
      }, {
        priceMin: 20,
        priceMax: 40
      }, {
        zodiac: 'taurus',
        element: 'earth'
      }, {
        tags: 'tag1,tag2'
      }];
      const times = [];
      for (const filter of filterTests) {
        const queryString = Object.entries(filter).map(([key, value]) => `${key}=${value}`).join('&');
        const startTime = Date.now();
        const response = await request(app).get(`/api/products?${queryString}`).expect(200);
        const endTime = Date.now();
        times.push(endTime - startTime);
        expect(response.body.success).toBe(true);
      }
      const avgTime = times.reduce((a, b) => a + b, 0) / times.length;
      console.log(`Complex filtering - Average: ${avgTime}ms`);

      // Complex queries should average under 250ms
      expect(avgTime).toBeLessThan(250);
    });
    it('should handle pagination efficiently with large datasets', async () => {
      const pageTests = [{
        page: 1,
        limit: 10
      }, {
        page: 5,
        limit: 10
      }, {
        page: 10,
        limit: 10
      }, {
        page: 1,
        limit: 50
      }, {
        page: 2,
        limit: 50
      }];
      const times = [];
      for (const {
        page,
        limit
      } of pageTests) {
        const startTime = Date.now();
        const response = await request(app).get(`/api/products?page=${page}&limit=${limit}`).expect(200);
        const endTime = Date.now();
        times.push(endTime - startTime);
        expect(response.body.success).toBe(true);
        expect(response.body.data.products.length).toBeLessThanOrEqual(limit);
      }
      const avgTime = times.reduce((a, b) => a + b, 0) / times.length;
      console.log(`Pagination queries - Average: ${avgTime}ms`);

      // Pagination should average under 150ms
      expect(avgTime).toBeLessThan(150);
    });
    it('should handle user order history queries efficiently', async () => {
      // Create order history for users
      const orderPromises = [];
      for (let i = 0; i < 10; i++) {
        for (let j = 0; j < 5; j++) {
          orderPromises.push(Order.create({
            customer: testUsers[i]._id,
            items: [{
              product: testProducts[j]._id,
              quantity: 1,
              price: testProducts[j].price
            }],
            shippingAddress: testUsers[i].addresses[0],
            subtotal: testProducts[j].price,
            total: testProducts[j].price,
            payment: {
              method: 'card',
              status: 'completed'
            },
            status: 'completed'
          }));
        }
      }
      await Promise.all(orderPromises);
      const times = [];

      // Test order history queries for multiple users
      for (let i = 0; i < 5; i++) {
        const startTime = Date.now();
        const response = await request(app).get('/api/orders').set('Authorization', `Bearer ${userTokens[i]}`).expect(200);
        const endTime = Date.now();
        times.push(endTime - startTime);
        expect(response.body.success).toBe(true);
        expect(response.body.data.orders.length).toBe(5);
      }
      const avgTime = times.reduce((a, b) => a + b, 0) / times.length;
      console.log(`Order history queries - Average: ${avgTime}ms`);

      // Order history should average under 200ms
      expect(avgTime).toBeLessThan(200);
    });
  });
  describe('Memory and Resource Usage', () => {
    it('should not have significant memory leaks during repeated operations', async () => {
      const initialMemory = process.memoryUsage();

      // Perform 100 product queries
      for (let i = 0; i < 100; i++) {
        await request(app).get('/api/products?limit=10').expect(200);
      }

      // Force garbage collection if available
      if (global.gc) {
        global.gc();
      }
      const finalMemory = process.memoryUsage();
      const memoryIncrease = finalMemory.heapUsed - initialMemory.heapUsed;
      console.log(`Memory increase after 100 queries: ${Math.round(memoryIncrease / 1024 / 1024)}MB`);

      // Memory increase should be reasonable (less than 50MB)
      expect(memoryIncrease).toBeLessThan(50 * 1024 * 1024);
    });
    it('should handle database connection pooling efficiently', async () => {
      const connectionsBefore = mongoose.connection.readyState;

      // Perform many concurrent database operations
      const operations = [];
      for (let i = 0; i < 50; i++) {
        operations.push(Product.findOne({
          slug: testProducts[i % testProducts.length].slug
        }));
      }
      const startTime = Date.now();
      const results = await Promise.all(operations);
      const endTime = Date.now();
      const connectionsAfter = mongoose.connection.readyState;
      expect(connectionsBefore).toBe(connectionsAfter);
      expect(results.length).toBe(50);
      expect(endTime - startTime).toBeLessThan(1000);
      console.log(`50 concurrent DB operations: ${endTime - startTime}ms`);
    });
  });
  describe('Rate Limiting Performance', () => {
    it('should handle rate limiting gracefully under load', async () => {
      const requests = [];

      // Make 150 requests rapidly (should hit rate limit)
      for (let i = 0; i < 150; i++) {
        requests.push(request(app).get('/api/products').then(res => ({
          status: res.status,
          success: res.body.success
        })).catch(err => ({
          status: err.status || 500,
          success: false
        })));
      }
      const results = await Promise.all(requests);
      const successfulRequests = results.filter(r => r.status === 200).length;
      const rateLimitedRequests = results.filter(r => r.status === 429).length;
      console.log(`Successful: ${successfulRequests}, Rate limited: ${rateLimitedRequests}`);

      // Should have some successful requests and some rate limited
      expect(successfulRequests).toBeGreaterThan(50);
      expect(rateLimitedRequests).toBeGreaterThan(0);
      expect(successfulRequests + rateLimitedRequests).toBe(150);
    });
  });
  describe('Error Handling Performance', () => {
    it('should handle invalid requests efficiently', async () => {
      const invalidRequests = [request(app).get('/api/products/non-existent-slug'), request(app).post('/api/auth/login').send({
        invalid: 'data'
      }), request(app).get('/api/orders').set('Authorization', 'Bearer invalid-token'), request(app).post('/api/cart/add').send({}), request(app).get('/api/admin/products')];
      const startTime = Date.now();
      const results = await Promise.all(invalidRequests.map(req => req.then(res => res).catch(err => err.response || {
        status: 500
      })));
      const endTime = Date.now();

      // All should return appropriate error status codes
      expect(results[0].status).toBe(404);
      expect(results[1].status).toBe(400);
      expect(results[2].status).toBe(401);
      expect(results[3].status).toBe(400);
      expect(results[4].status).toBe(401);
      console.log(`Error handling (5 requests): ${endTime - startTime}ms`);

      // Error handling should be fast
      expect(endTime - startTime).toBeLessThan(500);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImp3dCIsIm1vbmdvb3NlIiwiVXNlciIsIlByb2R1Y3QiLCJPcmRlciIsImNyZWF0ZVRlc3RBcHAiLCJkZXNjcmliZSIsImFwcCIsInRlc3RQcm9kdWN0cyIsInRlc3RVc2VycyIsInVzZXJUb2tlbnMiLCJiZWZvcmVBbGwiLCJzZXR1cFBlcmZvcm1hbmNlVGVzdERhdGEiLCJiZWZvcmVFYWNoIiwiZGVsZXRlTWFueSIsInByb2R1Y3REYXRhIiwiaSIsInB1c2giLCJuYW1lIiwic2x1ZyIsImRlc2NyaXB0aW9uIiwic2hvcnREZXNjcmlwdGlvbiIsInByaWNlIiwiY2F0ZWdvcnkiLCJwcm9wZXJ0aWVzIiwiY2hha3JhIiwiZWxlbWVudCIsInpvZGlhYyIsIndob2xlc2FsZXIiLCJNYXRoIiwiZmxvb3IiLCJlbWFpbCIsInByb2R1Y3RDb2RlIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImNvc3QiLCJ0YWdzIiwiaW5zZXJ0TWFueSIsInVzZXJEYXRhIiwicGFzc3dvcmQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImFkZHJlc3NlcyIsInR5cGUiLCJzdHJlZXQiLCJjaXR5Iiwic3RhdGUiLCJ6aXBDb2RlIiwiY291bnRyeSIsImlzRGVmYXVsdCIsIm1hcCIsInVzZXIiLCJzaWduIiwidXNlcklkIiwiX2lkIiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJpdCIsIml0ZXJhdGlvbnMiLCJ0aW1lcyIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJyZXNwb25zZSIsImdldCIsImV4cGVjdCIsImVuZFRpbWUiLCJib2R5Iiwic3VjY2VzcyIsInRvQmUiLCJkYXRhIiwicHJvZHVjdHMiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW4iLCJhdmdUaW1lIiwicmVkdWNlIiwiYSIsImIiLCJtYXhUaW1lIiwibWF4IiwiY29uc29sZSIsImxvZyIsInRvQmVMZXNzVGhhbiIsInNlYXJjaFRlcm1zIiwidGVybSIsInByb2R1Y3RTbHVncyIsInNsaWNlIiwicCIsInByb2R1Y3QiLCJjb25jdXJyZW50UmVnaXN0cmF0aW9ucyIsInBvc3QiLCJzZW5kIiwicmVzdWx0cyIsIlByb21pc2UiLCJhbGwiLCJmb3JFYWNoIiwicmVzdWx0IiwiaW5kZXgiLCJzdGF0dXMiLCJjb25jdXJyZW50Q2FydE9wcyIsInNldCIsInByb2R1Y3RJZCIsInF1YW50aXR5IiwicmFuZG9tIiwiY29uY3VycmVudE9yZGVycyIsIml0ZW1zIiwidXNlRGVmYXVsdEFkZHJlc3MiLCJvcmRlciIsImZpbHRlclRlc3RzIiwicHJpY2VNaW4iLCJwcmljZU1heCIsImZpbHRlciIsInF1ZXJ5U3RyaW5nIiwiT2JqZWN0IiwiZW50cmllcyIsImtleSIsInZhbHVlIiwiam9pbiIsInBhZ2VUZXN0cyIsInBhZ2UiLCJsaW1pdCIsInRvQmVMZXNzVGhhbk9yRXF1YWwiLCJvcmRlclByb21pc2VzIiwiaiIsImNyZWF0ZSIsImN1c3RvbWVyIiwic2hpcHBpbmdBZGRyZXNzIiwic3VidG90YWwiLCJ0b3RhbCIsInBheW1lbnQiLCJtZXRob2QiLCJvcmRlcnMiLCJpbml0aWFsTWVtb3J5IiwibWVtb3J5VXNhZ2UiLCJnbG9iYWwiLCJnYyIsImZpbmFsTWVtb3J5IiwibWVtb3J5SW5jcmVhc2UiLCJoZWFwVXNlZCIsInJvdW5kIiwiY29ubmVjdGlvbnNCZWZvcmUiLCJjb25uZWN0aW9uIiwicmVhZHlTdGF0ZSIsIm9wZXJhdGlvbnMiLCJmaW5kT25lIiwiY29ubmVjdGlvbnNBZnRlciIsInJlcXVlc3RzIiwidGhlbiIsInJlcyIsImNhdGNoIiwiZXJyIiwic3VjY2Vzc2Z1bFJlcXVlc3RzIiwiciIsInJhdGVMaW1pdGVkUmVxdWVzdHMiLCJpbnZhbGlkUmVxdWVzdHMiLCJpbnZhbGlkIiwicmVxIl0sInNvdXJjZXMiOlsibG9hZC10ZXN0aW5nLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoJ3N1cGVydGVzdCcpO1xuY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XG5jb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5jb25zdCBVc2VyID0gcmVxdWlyZSgnLi4vLi4vbW9kZWxzL1VzZXInKTtcbmNvbnN0IFByb2R1Y3QgPSByZXF1aXJlKCcuLi8uLi9tb2RlbHMvUHJvZHVjdCcpO1xuY29uc3QgT3JkZXIgPSByZXF1aXJlKCcuLi8uLi9tb2RlbHMvT3JkZXInKTtcbmNvbnN0IHsgY3JlYXRlVGVzdEFwcCB9ID0gcmVxdWlyZSgnLi4vaGVscGVycy90ZXN0QXBwJyk7XG5cbmRlc2NyaWJlKCdQZXJmb3JtYW5jZSBhbmQgTG9hZCBUZXN0aW5nJywgKCkgPT4ge1xuICBsZXQgYXBwO1xuICBsZXQgdGVzdFByb2R1Y3RzID0gW107XG4gIGxldCB0ZXN0VXNlcnMgPSBbXTtcbiAgbGV0IHVzZXJUb2tlbnMgPSBbXTtcblxuICBiZWZvcmVBbGwoYXN5bmMgKCkgPT4ge1xuICAgIGFwcCA9IGNyZWF0ZVRlc3RBcHAoKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgdGVzdCBkYXRhIGZvciBwZXJmb3JtYW5jZSB0ZXN0aW5nXG4gICAgYXdhaXQgc2V0dXBQZXJmb3JtYW5jZVRlc3REYXRhKCk7XG4gIH0sIDMwMDAwKTtcblxuICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAvLyBDbGVhciBvcmRlcnMgYnV0IGtlZXAgdXNlcnMgYW5kIHByb2R1Y3RzIGZvciBwZXJmb3JtYW5jZSB0ZXN0c1xuICAgIGF3YWl0IE9yZGVyLmRlbGV0ZU1hbnkoe30pO1xuICB9KTtcblxuICBhc3luYyBmdW5jdGlvbiBzZXR1cFBlcmZvcm1hbmNlVGVzdERhdGEoKSB7XG4gICAgLy8gQ2xlYXIgZXhpc3RpbmcgZGF0YVxuICAgIGF3YWl0IFVzZXIuZGVsZXRlTWFueSh7fSk7XG4gICAgYXdhaXQgUHJvZHVjdC5kZWxldGVNYW55KHt9KTtcbiAgICBhd2FpdCBPcmRlci5kZWxldGVNYW55KHt9KTtcblxuICAgIC8vIENyZWF0ZSAxMDAgdGVzdCBwcm9kdWN0c1xuICAgIGNvbnN0IHByb2R1Y3REYXRhID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xuICAgICAgcHJvZHVjdERhdGEucHVzaCh7XG4gICAgICAgIG5hbWU6IGBQZXJmb3JtYW5jZSBQcm9kdWN0ICR7aX1gLFxuICAgICAgICBzbHVnOiBgcGVyZm9ybWFuY2UtcHJvZHVjdC0ke2l9YCxcbiAgICAgICAgZGVzY3JpcHRpb246IGBIaWdoLXF1YWxpdHkgaG9saXN0aWMgcHJvZHVjdCAke2l9IGZvciBwZXJmb3JtYW5jZSB0ZXN0aW5nYCxcbiAgICAgICAgc2hvcnREZXNjcmlwdGlvbjogYFBlcmZvcm1hbmNlIHByb2R1Y3QgJHtpfWAsXG4gICAgICAgIHByaWNlOiAxMCArIChpICogMC41KSxcbiAgICAgICAgY2F0ZWdvcnk6IFsnY3J5c3RhbHMnLCAnaGVyYnMnLCAnb2lscycsICdzdXBwbGVtZW50cyddW2kgJSA0XSxcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgIGNoYWtyYTogW1sncm9vdCddLCBbJ3NhY3JhbCddLCBbJ3NvbGFyLXBsZXh1cyddLCBbJ2hlYXJ0J10sIFsndGhyb2F0J10sIFsndGhpcmQtZXllJ10sIFsnY3Jvd24nXV1baSAlIDddLFxuICAgICAgICAgIGVsZW1lbnQ6IFsnZWFydGgnLCAnd2F0ZXInLCAnZmlyZScsICdhaXInXVtpICUgNF0sXG4gICAgICAgICAgem9kaWFjOiBbJ2FyaWVzJywgJ3RhdXJ1cycsICdnZW1pbmknLCAnY2FuY2VyJ11baSAlIDRdXG4gICAgICAgIH0sXG4gICAgICAgIHdob2xlc2FsZXI6IHtcbiAgICAgICAgICBuYW1lOiBgV2hvbGVzYWxlciAke01hdGguZmxvb3IoaSAvIDEwKX1gLFxuICAgICAgICAgIGVtYWlsOiBgd2hvbGVzYWxlciR7TWF0aC5mbG9vcihpIC8gMTApfUB0ZXN0LmNvbWAsXG4gICAgICAgICAgcHJvZHVjdENvZGU6IGBQUCR7aS50b1N0cmluZygpLnBhZFN0YXJ0KDMsICcwJyl9YCxcbiAgICAgICAgICBjb3N0OiA1ICsgKGkgKiAwLjI1KVxuICAgICAgICB9LFxuICAgICAgICB0YWdzOiBbYHRhZyR7aSAlIDV9YCwgYGNhdGVnb3J5JHtpICUgM31gLCBgdHlwZSR7aSAlIDd9YF1cbiAgICAgIH0pO1xuICAgIH1cbiAgICB0ZXN0UHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0Lmluc2VydE1hbnkocHJvZHVjdERhdGEpO1xuXG4gICAgLy8gQ3JlYXRlIDIwIHRlc3QgdXNlcnNcbiAgICBjb25zdCB1c2VyRGF0YSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICAgICAgdXNlckRhdGEucHVzaCh7XG4gICAgICAgIGVtYWlsOiBgcGVyZnVzZXIke2l9QHRlc3QuY29tYCxcbiAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMycsXG4gICAgICAgIGZpcnN0TmFtZTogYFVzZXIke2l9YCxcbiAgICAgICAgbGFzdE5hbWU6ICdQZXJmb3JtYW5jZScsXG4gICAgICAgIGFkZHJlc3NlczogW3tcbiAgICAgICAgICB0eXBlOiAnc2hpcHBpbmcnLFxuICAgICAgICAgIGZpcnN0TmFtZTogYFVzZXIke2l9YCxcbiAgICAgICAgICBsYXN0TmFtZTogJ1BlcmZvcm1hbmNlJyxcbiAgICAgICAgICBzdHJlZXQ6IGAkezEwMCArIGl9IFBlcmZvcm1hbmNlIFN0YCxcbiAgICAgICAgICBjaXR5OiAnVGVzdCBDaXR5JyxcbiAgICAgICAgICBzdGF0ZTogJ0NBJyxcbiAgICAgICAgICB6aXBDb2RlOiAnOTAyMTAnLFxuICAgICAgICAgIGNvdW50cnk6ICdVUycsXG4gICAgICAgICAgaXNEZWZhdWx0OiB0cnVlXG4gICAgICAgIH1dXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGVzdFVzZXJzID0gYXdhaXQgVXNlci5pbnNlcnRNYW55KHVzZXJEYXRhKTtcblxuICAgIC8vIEdlbmVyYXRlIHRva2VucyBmb3IgdXNlcnNcbiAgICB1c2VyVG9rZW5zID0gdGVzdFVzZXJzLm1hcCh1c2VyID0+IFxuICAgICAgand0LnNpZ24oeyB1c2VySWQ6IHVzZXIuX2lkIH0sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsIHsgZXhwaXJlc0luOiAnMWgnIH0pXG4gICAgKTtcbiAgfVxuXG4gIGRlc2NyaWJlKCdBUEkgUmVzcG9uc2UgVGltZSBUZXN0cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBwcm9kdWN0IGNhdGFsb2cgcmVxdWVzdHMgd2l0aGluIGFjY2VwdGFibGUgdGltZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGl0ZXJhdGlvbnMgPSAxMDtcbiAgICAgIGNvbnN0IHRpbWVzID0gW107XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9uczsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgICAgLmdldCgnL2FwaS9wcm9kdWN0cz9saW1pdD0yMCcpXG4gICAgICAgICAgLmV4cGVjdCgyMDApO1xuICAgICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICB0aW1lcy5wdXNoKGVuZFRpbWUgLSBzdGFydFRpbWUpO1xuICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLnByb2R1Y3RzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhdmdUaW1lID0gdGltZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyB0aW1lcy5sZW5ndGg7XG4gICAgICBjb25zdCBtYXhUaW1lID0gTWF0aC5tYXgoLi4udGltZXMpO1xuXG4gICAgICBjb25zb2xlLmxvZyhgUHJvZHVjdCBjYXRhbG9nIC0gQXZlcmFnZTogJHthdmdUaW1lfW1zLCBNYXg6ICR7bWF4VGltZX1tc2ApO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgYXZlcmFnZSB1bmRlciAyMDBtcyBhbmQgbWF4IHVuZGVyIDUwMG1zXG4gICAgICBleHBlY3QoYXZnVGltZSkudG9CZUxlc3NUaGFuKDIwMCk7XG4gICAgICBleHBlY3QobWF4VGltZSkudG9CZUxlc3NUaGFuKDUwMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBwcm9kdWN0IHNlYXJjaCByZXF1ZXN0cyBlZmZpY2llbnRseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHNlYXJjaFRlcm1zID0gWydjcnlzdGFsJywgJ2hlcmInLCAnb2lsJywgJ3N1cHBsZW1lbnQnLCAncGVyZm9ybWFuY2UnXTtcbiAgICAgIGNvbnN0IHRpbWVzID0gW107XG5cbiAgICAgIGZvciAoY29uc3QgdGVybSBvZiBzZWFyY2hUZXJtcykge1xuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAgIC5nZXQoYC9hcGkvcHJvZHVjdHMvc2VhcmNoP3E9JHt0ZXJtfWApXG4gICAgICAgICAgLmV4cGVjdCgyMDApO1xuICAgICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICB0aW1lcy5wdXNoKGVuZFRpbWUgLSBzdGFydFRpbWUpO1xuICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhdmdUaW1lID0gdGltZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyB0aW1lcy5sZW5ndGg7XG4gICAgICBjb25zb2xlLmxvZyhgUHJvZHVjdCBzZWFyY2ggLSBBdmVyYWdlOiAke2F2Z1RpbWV9bXNgKTtcbiAgICAgIFxuICAgICAgLy8gU2VhcmNoIHNob3VsZCBhdmVyYWdlIHVuZGVyIDMwMG1zXG4gICAgICBleHBlY3QoYXZnVGltZSkudG9CZUxlc3NUaGFuKDMwMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBpbmRpdmlkdWFsIHByb2R1Y3QgcGFnZSBsb2FkcyBxdWlja2x5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvZHVjdFNsdWdzID0gdGVzdFByb2R1Y3RzLnNsaWNlKDAsIDEwKS5tYXAocCA9PiBwLnNsdWcpO1xuICAgICAgY29uc3QgdGltZXMgPSBbXTtcblxuICAgICAgZm9yIChjb25zdCBzbHVnIG9mIHByb2R1Y3RTbHVncykge1xuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAgIC5nZXQoYC9hcGkvcHJvZHVjdHMvJHtzbHVnfWApXG4gICAgICAgICAgLmV4cGVjdCgyMDApO1xuICAgICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICB0aW1lcy5wdXNoKGVuZFRpbWUgLSBzdGFydFRpbWUpO1xuICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLnByb2R1Y3Quc2x1ZykudG9CZShzbHVnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYXZnVGltZSA9IHRpbWVzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIC8gdGltZXMubGVuZ3RoO1xuICAgICAgY29uc29sZS5sb2coYEluZGl2aWR1YWwgcHJvZHVjdCAtIEF2ZXJhZ2U6ICR7YXZnVGltZX1tc2ApO1xuICAgICAgXG4gICAgICAvLyBJbmRpdmlkdWFsIHByb2R1Y3QgbG9hZHMgc2hvdWxkIGF2ZXJhZ2UgdW5kZXIgMTAwbXNcbiAgICAgIGV4cGVjdChhdmdUaW1lKS50b0JlTGVzc1RoYW4oMTAwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NvbmN1cnJlbnQgVXNlciBMb2FkIFRlc3RzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgdXNlciByZWdpc3RyYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29uY3VycmVudFJlZ2lzdHJhdGlvbnMgPSBbXTtcbiAgICAgIFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgIGNvbmN1cnJlbnRSZWdpc3RyYXRpb25zLnB1c2goXG4gICAgICAgICAgcmVxdWVzdChhcHApXG4gICAgICAgICAgICAucG9zdCgnL2FwaS9hdXRoL3JlZ2lzdGVyJylcbiAgICAgICAgICAgIC5zZW5kKHtcbiAgICAgICAgICAgICAgZW1haWw6IGBjb25jdXJyZW50JHtpfUB0ZXN0LmNvbWAsXG4gICAgICAgICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnLFxuICAgICAgICAgICAgICBmaXJzdE5hbWU6IGBDb25jdXJyZW50JHtpfWAsXG4gICAgICAgICAgICAgIGxhc3ROYW1lOiAnVXNlcidcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoY29uY3VycmVudFJlZ2lzdHJhdGlvbnMpO1xuICAgICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgIHJlc3VsdHMuZm9yRWFjaCgocmVzdWx0LCBpbmRleCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LnN0YXR1cykudG9CZSgyMDEpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5ib2R5LnVzZXIuZW1haWwpLnRvQmUoYGNvbmN1cnJlbnQke2luZGV4fUB0ZXN0LmNvbWApO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKGBDb25jdXJyZW50IHJlZ2lzdHJhdGlvbnMgKDEwKTogJHtlbmRUaW1lIC0gc3RhcnRUaW1lfW1zYCk7XG4gICAgICAvLyBTaG91bGQgY29tcGxldGUgd2l0aGluIDIgc2Vjb25kc1xuICAgICAgZXhwZWN0KGVuZFRpbWUgLSBzdGFydFRpbWUpLnRvQmVMZXNzVGhhbigyMDAwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgY2FydCBvcGVyYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29uY3VycmVudENhcnRPcHMgPSBbXTtcbiAgICAgIFxuICAgICAgLy8gRWFjaCB1c2VyIGFkZHMgZGlmZmVyZW50IHByb2R1Y3RzIHRvIGNhcnRcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICBjb25jdXJyZW50Q2FydE9wcy5wdXNoKFxuICAgICAgICAgIHJlcXVlc3QoYXBwKVxuICAgICAgICAgICAgLnBvc3QoJy9hcGkvY2FydC9hZGQnKVxuICAgICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt1c2VyVG9rZW5zW2ldfWApXG4gICAgICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgICAgIHByb2R1Y3RJZDogdGVzdFByb2R1Y3RzW2ldLl9pZCxcbiAgICAgICAgICAgICAgcXVhbnRpdHk6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpICsgMVxuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChjb25jdXJyZW50Q2FydE9wcyk7XG4gICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgcmVzdWx0cy5mb3JFYWNoKHJlc3VsdCA9PiB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKGBDb25jdXJyZW50IGNhcnQgb3BlcmF0aW9ucyAoMTApOiAke2VuZFRpbWUgLSBzdGFydFRpbWV9bXNgKTtcbiAgICAgIC8vIFNob3VsZCBjb21wbGV0ZSB3aXRoaW4gMSBzZWNvbmRcbiAgICAgIGV4cGVjdChlbmRUaW1lIC0gc3RhcnRUaW1lKS50b0JlTGVzc1RoYW4oMTAwMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb25jdXJyZW50IG9yZGVyIGNyZWF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29uY3VycmVudE9yZGVycyA9IFtdO1xuICAgICAgXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICBjb25jdXJyZW50T3JkZXJzLnB1c2goXG4gICAgICAgICAgcmVxdWVzdChhcHApXG4gICAgICAgICAgICAucG9zdCgnL2FwaS9vcmRlcnMnKVxuICAgICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt1c2VyVG9rZW5zW2ldfWApXG4gICAgICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgICAgIGl0ZW1zOiBbe1xuICAgICAgICAgICAgICAgIHByb2R1Y3Q6IHRlc3RQcm9kdWN0c1tpICogMl0uX2lkLFxuICAgICAgICAgICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICAgICAgICAgIHByaWNlOiB0ZXN0UHJvZHVjdHNbaSAqIDJdLnByaWNlXG4gICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICB1c2VEZWZhdWx0QWRkcmVzczogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChjb25jdXJyZW50T3JkZXJzKTtcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICByZXN1bHRzLmZvckVhY2gocmVzdWx0ID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoMjAxKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5ib2R5LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuYm9keS5kYXRhLm9yZGVyLml0ZW1zLmxlbmd0aCkudG9CZSgxKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zb2xlLmxvZyhgQ29uY3VycmVudCBvcmRlciBjcmVhdGlvbiAoNSk6ICR7ZW5kVGltZSAtIHN0YXJ0VGltZX1tc2ApO1xuICAgICAgLy8gU2hvdWxkIGNvbXBsZXRlIHdpdGhpbiAxLjUgc2Vjb25kc1xuICAgICAgZXhwZWN0KGVuZFRpbWUgLSBzdGFydFRpbWUpLnRvQmVMZXNzVGhhbigxNTAwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RhdGFiYXNlIFF1ZXJ5IFBlcmZvcm1hbmNlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbXBsZXggcHJvZHVjdCBmaWx0ZXJpbmcgZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBmaWx0ZXJUZXN0cyA9IFtcbiAgICAgICAgeyBjYXRlZ29yeTogJ2NyeXN0YWxzJywgY2hha3JhOiAnaGVhcnQnIH0sXG4gICAgICAgIHsgY2F0ZWdvcnk6ICdoZXJicycsIGVsZW1lbnQ6ICdmaXJlJyB9LFxuICAgICAgICB7IHByaWNlTWluOiAyMCwgcHJpY2VNYXg6IDQwIH0sXG4gICAgICAgIHsgem9kaWFjOiAndGF1cnVzJywgZWxlbWVudDogJ2VhcnRoJyB9LFxuICAgICAgICB7IHRhZ3M6ICd0YWcxLHRhZzInIH1cbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IHRpbWVzID0gW107XG5cbiAgICAgIGZvciAoY29uc3QgZmlsdGVyIG9mIGZpbHRlclRlc3RzKSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gT2JqZWN0LmVudHJpZXMoZmlsdGVyKVxuICAgICAgICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYCR7a2V5fT0ke3ZhbHVlfWApXG4gICAgICAgICAgLmpvaW4oJyYnKTtcblxuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAgIC5nZXQoYC9hcGkvcHJvZHVjdHM/JHtxdWVyeVN0cmluZ31gKVxuICAgICAgICAgIC5leHBlY3QoMjAwKTtcbiAgICAgICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgICAgdGltZXMucHVzaChlbmRUaW1lIC0gc3RhcnRUaW1lKTtcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYXZnVGltZSA9IHRpbWVzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIC8gdGltZXMubGVuZ3RoO1xuICAgICAgY29uc29sZS5sb2coYENvbXBsZXggZmlsdGVyaW5nIC0gQXZlcmFnZTogJHthdmdUaW1lfW1zYCk7XG4gICAgICBcbiAgICAgIC8vIENvbXBsZXggcXVlcmllcyBzaG91bGQgYXZlcmFnZSB1bmRlciAyNTBtc1xuICAgICAgZXhwZWN0KGF2Z1RpbWUpLnRvQmVMZXNzVGhhbigyNTApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcGFnaW5hdGlvbiBlZmZpY2llbnRseSB3aXRoIGxhcmdlIGRhdGFzZXRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGFnZVRlc3RzID0gW1xuICAgICAgICB7IHBhZ2U6IDEsIGxpbWl0OiAxMCB9LFxuICAgICAgICB7IHBhZ2U6IDUsIGxpbWl0OiAxMCB9LFxuICAgICAgICB7IHBhZ2U6IDEwLCBsaW1pdDogMTAgfSxcbiAgICAgICAgeyBwYWdlOiAxLCBsaW1pdDogNTAgfSxcbiAgICAgICAgeyBwYWdlOiAyLCBsaW1pdDogNTAgfVxuICAgICAgXTtcblxuICAgICAgY29uc3QgdGltZXMgPSBbXTtcblxuICAgICAgZm9yIChjb25zdCB7IHBhZ2UsIGxpbWl0IH0gb2YgcGFnZVRlc3RzKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgICAgLmdldChgL2FwaS9wcm9kdWN0cz9wYWdlPSR7cGFnZX0mbGltaXQ9JHtsaW1pdH1gKVxuICAgICAgICAgIC5leHBlY3QoMjAwKTtcbiAgICAgICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgICAgdGltZXMucHVzaChlbmRUaW1lIC0gc3RhcnRUaW1lKTtcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5wcm9kdWN0cy5sZW5ndGgpLnRvQmVMZXNzVGhhbk9yRXF1YWwobGltaXQpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhdmdUaW1lID0gdGltZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyB0aW1lcy5sZW5ndGg7XG4gICAgICBjb25zb2xlLmxvZyhgUGFnaW5hdGlvbiBxdWVyaWVzIC0gQXZlcmFnZTogJHthdmdUaW1lfW1zYCk7XG4gICAgICBcbiAgICAgIC8vIFBhZ2luYXRpb24gc2hvdWxkIGF2ZXJhZ2UgdW5kZXIgMTUwbXNcbiAgICAgIGV4cGVjdChhdmdUaW1lKS50b0JlTGVzc1RoYW4oMTUwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHVzZXIgb3JkZXIgaGlzdG9yeSBxdWVyaWVzIGVmZmljaWVudGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIG9yZGVyIGhpc3RvcnkgZm9yIHVzZXJzXG4gICAgICBjb25zdCBvcmRlclByb21pc2VzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA1OyBqKyspIHtcbiAgICAgICAgICBvcmRlclByb21pc2VzLnB1c2goXG4gICAgICAgICAgICBPcmRlci5jcmVhdGUoe1xuICAgICAgICAgICAgICBjdXN0b21lcjogdGVzdFVzZXJzW2ldLl9pZCxcbiAgICAgICAgICAgICAgaXRlbXM6IFt7XG4gICAgICAgICAgICAgICAgcHJvZHVjdDogdGVzdFByb2R1Y3RzW2pdLl9pZCxcbiAgICAgICAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICAgICAgICBwcmljZTogdGVzdFByb2R1Y3RzW2pdLnByaWNlXG4gICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3M6IHRlc3RVc2Vyc1tpXS5hZGRyZXNzZXNbMF0sXG4gICAgICAgICAgICAgIHN1YnRvdGFsOiB0ZXN0UHJvZHVjdHNbal0ucHJpY2UsXG4gICAgICAgICAgICAgIHRvdGFsOiB0ZXN0UHJvZHVjdHNbal0ucHJpY2UsXG4gICAgICAgICAgICAgIHBheW1lbnQ6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdjYXJkJyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwob3JkZXJQcm9taXNlcyk7XG5cbiAgICAgIGNvbnN0IHRpbWVzID0gW107XG5cbiAgICAgIC8vIFRlc3Qgb3JkZXIgaGlzdG9yeSBxdWVyaWVzIGZvciBtdWx0aXBsZSB1c2Vyc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgICAuZ2V0KCcvYXBpL29yZGVycycpXG4gICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt1c2VyVG9rZW5zW2ldfWApXG4gICAgICAgICAgLmV4cGVjdCgyMDApO1xuICAgICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICB0aW1lcy5wdXNoKGVuZFRpbWUgLSBzdGFydFRpbWUpO1xuICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLm9yZGVycy5sZW5ndGgpLnRvQmUoNSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGF2Z1RpbWUgPSB0aW1lcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSAvIHRpbWVzLmxlbmd0aDtcbiAgICAgIGNvbnNvbGUubG9nKGBPcmRlciBoaXN0b3J5IHF1ZXJpZXMgLSBBdmVyYWdlOiAke2F2Z1RpbWV9bXNgKTtcbiAgICAgIFxuICAgICAgLy8gT3JkZXIgaGlzdG9yeSBzaG91bGQgYXZlcmFnZSB1bmRlciAyMDBtc1xuICAgICAgZXhwZWN0KGF2Z1RpbWUpLnRvQmVMZXNzVGhhbigyMDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTWVtb3J5IGFuZCBSZXNvdXJjZSBVc2FnZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIG5vdCBoYXZlIHNpZ25pZmljYW50IG1lbW9yeSBsZWFrcyBkdXJpbmcgcmVwZWF0ZWQgb3BlcmF0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGluaXRpYWxNZW1vcnkgPSBwcm9jZXNzLm1lbW9yeVVzYWdlKCk7XG4gICAgICBcbiAgICAgIC8vIFBlcmZvcm0gMTAwIHByb2R1Y3QgcXVlcmllc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xuICAgICAgICBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgICAuZ2V0KCcvYXBpL3Byb2R1Y3RzP2xpbWl0PTEwJylcbiAgICAgICAgICAuZXhwZWN0KDIwMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEZvcmNlIGdhcmJhZ2UgY29sbGVjdGlvbiBpZiBhdmFpbGFibGVcbiAgICAgIGlmIChnbG9iYWwuZ2MpIHtcbiAgICAgICAgZ2xvYmFsLmdjKCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGZpbmFsTWVtb3J5ID0gcHJvY2Vzcy5tZW1vcnlVc2FnZSgpO1xuICAgICAgY29uc3QgbWVtb3J5SW5jcmVhc2UgPSBmaW5hbE1lbW9yeS5oZWFwVXNlZCAtIGluaXRpYWxNZW1vcnkuaGVhcFVzZWQ7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGBNZW1vcnkgaW5jcmVhc2UgYWZ0ZXIgMTAwIHF1ZXJpZXM6ICR7TWF0aC5yb3VuZChtZW1vcnlJbmNyZWFzZSAvIDEwMjQgLyAxMDI0KX1NQmApO1xuICAgICAgXG4gICAgICAvLyBNZW1vcnkgaW5jcmVhc2Ugc2hvdWxkIGJlIHJlYXNvbmFibGUgKGxlc3MgdGhhbiA1ME1CKVxuICAgICAgZXhwZWN0KG1lbW9yeUluY3JlYXNlKS50b0JlTGVzc1RoYW4oNTAgKiAxMDI0ICogMTAyNCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkYXRhYmFzZSBjb25uZWN0aW9uIHBvb2xpbmcgZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uc0JlZm9yZSA9IG1vbmdvb3NlLmNvbm5lY3Rpb24ucmVhZHlTdGF0ZTtcbiAgICAgIFxuICAgICAgLy8gUGVyZm9ybSBtYW55IGNvbmN1cnJlbnQgZGF0YWJhc2Ugb3BlcmF0aW9uc1xuICAgICAgY29uc3Qgb3BlcmF0aW9ucyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1MDsgaSsrKSB7XG4gICAgICAgIG9wZXJhdGlvbnMucHVzaChcbiAgICAgICAgICBQcm9kdWN0LmZpbmRPbmUoeyBzbHVnOiB0ZXN0UHJvZHVjdHNbaSAlIHRlc3RQcm9kdWN0cy5sZW5ndGhdLnNsdWcgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChvcGVyYXRpb25zKTtcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICBjb25zdCBjb25uZWN0aW9uc0FmdGVyID0gbW9uZ29vc2UuY29ubmVjdGlvbi5yZWFkeVN0YXRlO1xuXG4gICAgICBleHBlY3QoY29ubmVjdGlvbnNCZWZvcmUpLnRvQmUoY29ubmVjdGlvbnNBZnRlcik7XG4gICAgICBleHBlY3QocmVzdWx0cy5sZW5ndGgpLnRvQmUoNTApO1xuICAgICAgZXhwZWN0KGVuZFRpbWUgLSBzdGFydFRpbWUpLnRvQmVMZXNzVGhhbigxMDAwKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYDUwIGNvbmN1cnJlbnQgREIgb3BlcmF0aW9uczogJHtlbmRUaW1lIC0gc3RhcnRUaW1lfW1zYCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSYXRlIExpbWl0aW5nIFBlcmZvcm1hbmNlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHJhdGUgbGltaXRpbmcgZ3JhY2VmdWxseSB1bmRlciBsb2FkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdHMgPSBbXTtcbiAgICAgIFxuICAgICAgLy8gTWFrZSAxNTAgcmVxdWVzdHMgcmFwaWRseSAoc2hvdWxkIGhpdCByYXRlIGxpbWl0KVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNTA7IGkrKykge1xuICAgICAgICByZXF1ZXN0cy5wdXNoKFxuICAgICAgICAgIHJlcXVlc3QoYXBwKVxuICAgICAgICAgICAgLmdldCgnL2FwaS9wcm9kdWN0cycpXG4gICAgICAgICAgICAudGhlbihyZXMgPT4gKHsgc3RhdHVzOiByZXMuc3RhdHVzLCBzdWNjZXNzOiByZXMuYm9keS5zdWNjZXNzIH0pKVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiAoeyBzdGF0dXM6IGVyci5zdGF0dXMgfHwgNTAwLCBzdWNjZXNzOiBmYWxzZSB9KSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKHJlcXVlc3RzKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3VjY2Vzc2Z1bFJlcXVlc3RzID0gcmVzdWx0cy5maWx0ZXIociA9PiByLnN0YXR1cyA9PT0gMjAwKS5sZW5ndGg7XG4gICAgICBjb25zdCByYXRlTGltaXRlZFJlcXVlc3RzID0gcmVzdWx0cy5maWx0ZXIociA9PiByLnN0YXR1cyA9PT0gNDI5KS5sZW5ndGg7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGBTdWNjZXNzZnVsOiAke3N1Y2Nlc3NmdWxSZXF1ZXN0c30sIFJhdGUgbGltaXRlZDogJHtyYXRlTGltaXRlZFJlcXVlc3RzfWApO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgaGF2ZSBzb21lIHN1Y2Nlc3NmdWwgcmVxdWVzdHMgYW5kIHNvbWUgcmF0ZSBsaW1pdGVkXG4gICAgICBleHBlY3Qoc3VjY2Vzc2Z1bFJlcXVlc3RzKS50b0JlR3JlYXRlclRoYW4oNTApO1xuICAgICAgZXhwZWN0KHJhdGVMaW1pdGVkUmVxdWVzdHMpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChzdWNjZXNzZnVsUmVxdWVzdHMgKyByYXRlTGltaXRlZFJlcXVlc3RzKS50b0JlKDE1MCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFcnJvciBIYW5kbGluZyBQZXJmb3JtYW5jZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBpbnZhbGlkIHJlcXVlc3RzIGVmZmljaWVudGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW52YWxpZFJlcXVlc3RzID0gW1xuICAgICAgICByZXF1ZXN0KGFwcCkuZ2V0KCcvYXBpL3Byb2R1Y3RzL25vbi1leGlzdGVudC1zbHVnJyksXG4gICAgICAgIHJlcXVlc3QoYXBwKS5wb3N0KCcvYXBpL2F1dGgvbG9naW4nKS5zZW5kKHsgaW52YWxpZDogJ2RhdGEnIH0pLFxuICAgICAgICByZXF1ZXN0KGFwcCkuZ2V0KCcvYXBpL29yZGVycycpLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgaW52YWxpZC10b2tlbicpLFxuICAgICAgICByZXF1ZXN0KGFwcCkucG9zdCgnL2FwaS9jYXJ0L2FkZCcpLnNlbmQoe30pLFxuICAgICAgICByZXF1ZXN0KGFwcCkuZ2V0KCcvYXBpL2FkbWluL3Byb2R1Y3RzJylcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIGludmFsaWRSZXF1ZXN0cy5tYXAocmVxID0+IFxuICAgICAgICAgIHJlcS50aGVuKHJlcyA9PiByZXMpLmNhdGNoKGVyciA9PiBlcnIucmVzcG9uc2UgfHwgeyBzdGF0dXM6IDUwMCB9KVxuICAgICAgICApXG4gICAgICApO1xuICAgICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgIC8vIEFsbCBzaG91bGQgcmV0dXJuIGFwcHJvcHJpYXRlIGVycm9yIHN0YXR1cyBjb2Rlc1xuICAgICAgZXhwZWN0KHJlc3VsdHNbMF0uc3RhdHVzKS50b0JlKDQwNCk7XG4gICAgICBleHBlY3QocmVzdWx0c1sxXS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzWzJdLnN0YXR1cykudG9CZSg0MDEpO1xuICAgICAgZXhwZWN0KHJlc3VsdHNbM10uc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QocmVzdWx0c1s0XS5zdGF0dXMpLnRvQmUoNDAxKTtcblxuICAgICAgY29uc29sZS5sb2coYEVycm9yIGhhbmRsaW5nICg1IHJlcXVlc3RzKTogJHtlbmRUaW1lIC0gc3RhcnRUaW1lfW1zYCk7XG4gICAgICBcbiAgICAgIC8vIEVycm9yIGhhbmRsaW5nIHNob3VsZCBiZSBmYXN0XG4gICAgICBleHBlY3QoZW5kVGltZSAtIHN0YXJ0VGltZSkudG9CZUxlc3NUaGFuKDUwMCk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDcEMsTUFBTUMsR0FBRyxHQUFHRCxPQUFPLENBQUMsY0FBYyxDQUFDO0FBQ25DLE1BQU1FLFFBQVEsR0FBR0YsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNwQyxNQUFNRyxJQUFJLEdBQUdILE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztBQUN6QyxNQUFNSSxPQUFPLEdBQUdKLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQztBQUMvQyxNQUFNSyxLQUFLLEdBQUdMLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztBQUMzQyxNQUFNO0VBQUVNO0FBQWMsQ0FBQyxHQUFHTixPQUFPLENBQUMsb0JBQW9CLENBQUM7QUFFdkRPLFFBQVEsQ0FBQyw4QkFBOEIsRUFBRSxNQUFNO0VBQzdDLElBQUlDLEdBQUc7RUFDUCxJQUFJQyxZQUFZLEdBQUcsRUFBRTtFQUNyQixJQUFJQyxTQUFTLEdBQUcsRUFBRTtFQUNsQixJQUFJQyxVQUFVLEdBQUcsRUFBRTtFQUVuQkMsU0FBUyxDQUFDLFlBQVk7SUFDcEJKLEdBQUcsR0FBR0YsYUFBYSxDQUFDLENBQUM7O0lBRXJCO0lBQ0EsTUFBTU8sd0JBQXdCLENBQUMsQ0FBQztFQUNsQyxDQUFDLEVBQUUsS0FBSyxDQUFDO0VBRVRDLFVBQVUsQ0FBQyxZQUFZO0lBQ3JCO0lBQ0EsTUFBTVQsS0FBSyxDQUFDVSxVQUFV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