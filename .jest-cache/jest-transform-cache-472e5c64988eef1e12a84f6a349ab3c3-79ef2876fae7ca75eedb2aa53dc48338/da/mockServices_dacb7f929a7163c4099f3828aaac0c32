ca804020f794b40ada28892997e3d12d
// Mock all external services for testing

// Mock nodemailer

// Mock Mollie client

// Mock logger

// Mock error recovery

// Mock wholesaler notification service

// Mock email service
_getJestObj().mock('nodemailer', () => ({
  createTransport: jest.fn(() => ({
    sendMail: jest.fn(() => Promise.resolve({
      messageId: 'test-message-id',
      accepted: ['test@example.com'],
      rejected: []
    }))
  }))
}));
_getJestObj().mock('@mollie/api-client', () => ({
  createMollieClient: jest.fn(() => ({
    payments: {
      create: jest.fn(() => Promise.resolve({
        id: 'tr_test123',
        status: 'open',
        amount: {
          value: '10.00',
          currency: 'EUR'
        },
        description: 'Test payment',
        redirectUrl: 'https://example.com/return',
        webhookUrl: 'https://example.com/webhook',
        _links: {
          checkout: {
            href: 'https://checkout.mollie.com/test'
          }
        }
      })),
      get: jest.fn(() => Promise.resolve({
        id: 'tr_test123',
        status: 'paid',
        amount: {
          value: '10.00',
          currency: 'EUR'
        }
      })),
      list: jest.fn(() => Promise.resolve({
        _embedded: {
          payments: []
        },
        count: 0
      }))
    },
    methods: {
      list: jest.fn(() => Promise.resolve([{
        id: 'creditcard',
        description: 'Credit card'
      }, {
        id: 'ideal',
        description: 'iDEAL'
      }]))
    }
  }))
}));
_getJestObj().mock('../../utils/logger', () => ({
  logger: {
    info: jest.fn(),
    error: jest.fn(),
    warn: jest.fn(),
    debug: jest.fn()
  }
}));
_getJestObj().mock('../../utils/errorRecovery', () => ({
  getCircuitBreakerStatus: jest.fn(() => ({
    payment: {
      state: 'closed',
      failures: 0
    },
    email: {
      state: 'closed',
      failures: 0
    },
    wholesaler: {
      state: 'closed',
      failures: 0
    }
  })),
  executeWithCircuitBreaker: jest.fn((service, operation) => operation())
}));
_getJestObj().mock('../../utils/wholesalerNotificationService', () => ({
  sendOrderNotification: jest.fn(() => Promise.resolve({
    success: true,
    messageId: 'test-notification-id'
  })),
  retryFailedNotifications: jest.fn(() => Promise.resolve({
    success: true,
    retriedCount: 0
  }))
}));
_getJestObj().mock('../../utils/emailService', () => ({
  sendWelcomeEmail: jest.fn(() => Promise.resolve({
    success: true,
    messageId: 'welcome-email-id'
  })),
  sendOrderConfirmation: jest.fn(() => Promise.resolve({
    success: true,
    messageId: 'order-confirmation-id'
  })),
  sendPasswordResetEmail: jest.fn(() => Promise.resolve({
    success: true,
    messageId: 'password-reset-id'
  }))
}));
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
module.exports = {
  // Export mocked services for direct access in tests if needed
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJjcmVhdGVUcmFuc3BvcnQiLCJqZXN0IiwiZm4iLCJzZW5kTWFpbCIsIlByb21pc2UiLCJyZXNvbHZlIiwibWVzc2FnZUlkIiwiYWNjZXB0ZWQiLCJyZWplY3RlZCIsImNyZWF0ZU1vbGxpZUNsaWVudCIsInBheW1lbnRzIiwiY3JlYXRlIiwiaWQiLCJzdGF0dXMiLCJhbW91bnQiLCJ2YWx1ZSIsImN1cnJlbmN5IiwiZGVzY3JpcHRpb24iLCJyZWRpcmVjdFVybCIsIndlYmhvb2tVcmwiLCJfbGlua3MiLCJjaGVja291dCIsImhyZWYiLCJnZXQiLCJsaXN0IiwiX2VtYmVkZGVkIiwiY291bnQiLCJtZXRob2RzIiwibG9nZ2VyIiwiaW5mbyIsImVycm9yIiwid2FybiIsImRlYnVnIiwiZ2V0Q2lyY3VpdEJyZWFrZXJTdGF0dXMiLCJwYXltZW50Iiwic3RhdGUiLCJmYWlsdXJlcyIsImVtYWlsIiwid2hvbGVzYWxlciIsImV4ZWN1dGVXaXRoQ2lyY3VpdEJyZWFrZXIiLCJzZXJ2aWNlIiwib3BlcmF0aW9uIiwic2VuZE9yZGVyTm90aWZpY2F0aW9uIiwic3VjY2VzcyIsInJldHJ5RmFpbGVkTm90aWZpY2F0aW9ucyIsInJldHJpZWRDb3VudCIsInNlbmRXZWxjb21lRW1haWwiLCJzZW5kT3JkZXJDb25maXJtYXRpb24iLCJzZW5kUGFzc3dvcmRSZXNldEVtYWlsIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJtb2NrU2VydmljZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTW9jayBhbGwgZXh0ZXJuYWwgc2VydmljZXMgZm9yIHRlc3RpbmdcblxuLy8gTW9jayBub2RlbWFpbGVyXG5qZXN0Lm1vY2soJ25vZGVtYWlsZXInLCAoKSA9PiAoe1xuICBjcmVhdGVUcmFuc3BvcnQ6IGplc3QuZm4oKCkgPT4gKHtcbiAgICBzZW5kTWFpbDogamVzdC5mbigoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgbWVzc2FnZUlkOiAndGVzdC1tZXNzYWdlLWlkJyxcbiAgICAgIGFjY2VwdGVkOiBbJ3Rlc3RAZXhhbXBsZS5jb20nXSxcbiAgICAgIHJlamVjdGVkOiBbXVxuICAgIH0pKVxuICB9KSlcbn0pKTtcblxuLy8gTW9jayBNb2xsaWUgY2xpZW50XG5qZXN0Lm1vY2soJ0Btb2xsaWUvYXBpLWNsaWVudCcsICgpID0+ICh7XG4gIGNyZWF0ZU1vbGxpZUNsaWVudDogamVzdC5mbigoKSA9PiAoe1xuICAgIHBheW1lbnRzOiB7XG4gICAgICBjcmVhdGU6IGplc3QuZm4oKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgaWQ6ICd0cl90ZXN0MTIzJyxcbiAgICAgICAgc3RhdHVzOiAnb3BlbicsXG4gICAgICAgIGFtb3VudDogeyB2YWx1ZTogJzEwLjAwJywgY3VycmVuY3k6ICdFVVInIH0sXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGVzdCBwYXltZW50JyxcbiAgICAgICAgcmVkaXJlY3RVcmw6ICdodHRwczovL2V4YW1wbGUuY29tL3JldHVybicsXG4gICAgICAgIHdlYmhvb2tVcmw6ICdodHRwczovL2V4YW1wbGUuY29tL3dlYmhvb2snLFxuICAgICAgICBfbGlua3M6IHtcbiAgICAgICAgICBjaGVja291dDogeyBocmVmOiAnaHR0cHM6Ly9jaGVja291dC5tb2xsaWUuY29tL3Rlc3QnIH1cbiAgICAgICAgfVxuICAgICAgfSkpLFxuICAgICAgZ2V0OiBqZXN0LmZuKCgpID0+IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIGlkOiAndHJfdGVzdDEyMycsXG4gICAgICAgIHN0YXR1czogJ3BhaWQnLFxuICAgICAgICBhbW91bnQ6IHsgdmFsdWU6ICcxMC4wMCcsIGN1cnJlbmN5OiAnRVVSJyB9XG4gICAgICB9KSksXG4gICAgICBsaXN0OiBqZXN0LmZuKCgpID0+IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIF9lbWJlZGRlZDogeyBwYXltZW50czogW10gfSxcbiAgICAgICAgY291bnQ6IDBcbiAgICAgIH0pKVxuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgbGlzdDogamVzdC5mbigoKSA9PiBQcm9taXNlLnJlc29sdmUoW1xuICAgICAgICB7IGlkOiAnY3JlZGl0Y2FyZCcsIGRlc2NyaXB0aW9uOiAnQ3JlZGl0IGNhcmQnIH0sXG4gICAgICAgIHsgaWQ6ICdpZGVhbCcsIGRlc2NyaXB0aW9uOiAnaURFQUwnIH1cbiAgICAgIF0pKVxuICAgIH1cbiAgfSkpXG59KSk7XG5cbi8vIE1vY2sgbG9nZ2VyXG5qZXN0Lm1vY2soJy4uLy4uL3V0aWxzL2xvZ2dlcicsICgpID0+ICh7XG4gIGxvZ2dlcjoge1xuICAgIGluZm86IGplc3QuZm4oKSxcbiAgICBlcnJvcjogamVzdC5mbigpLFxuICAgIHdhcm46IGplc3QuZm4oKSxcbiAgICBkZWJ1ZzogamVzdC5mbigpXG4gIH1cbn0pKTtcblxuLy8gTW9jayBlcnJvciByZWNvdmVyeVxuamVzdC5tb2NrKCcuLi8uLi91dGlscy9lcnJvclJlY292ZXJ5JywgKCkgPT4gKHtcbiAgZ2V0Q2lyY3VpdEJyZWFrZXJTdGF0dXM6IGplc3QuZm4oKCkgPT4gKHtcbiAgICBwYXltZW50OiB7IHN0YXRlOiAnY2xvc2VkJywgZmFpbHVyZXM6IDAgfSxcbiAgICBlbWFpbDogeyBzdGF0ZTogJ2Nsb3NlZCcsIGZhaWx1cmVzOiAwIH0sXG4gICAgd2hvbGVzYWxlcjogeyBzdGF0ZTogJ2Nsb3NlZCcsIGZhaWx1cmVzOiAwIH1cbiAgfSkpLFxuICBleGVjdXRlV2l0aENpcmN1aXRCcmVha2VyOiBqZXN0LmZuKChzZXJ2aWNlLCBvcGVyYXRpb24pID0+IG9wZXJhdGlvbigpKVxufSkpO1xuXG4vLyBNb2NrIHdob2xlc2FsZXIgbm90aWZpY2F0aW9uIHNlcnZpY2Vcbmplc3QubW9jaygnLi4vLi4vdXRpbHMvd2hvbGVzYWxlck5vdGlmaWNhdGlvblNlcnZpY2UnLCAoKSA9PiAoe1xuICBzZW5kT3JkZXJOb3RpZmljYXRpb246IGplc3QuZm4oKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICBzdWNjZXNzOiB0cnVlLFxuICAgIG1lc3NhZ2VJZDogJ3Rlc3Qtbm90aWZpY2F0aW9uLWlkJ1xuICB9KSksXG4gIHJldHJ5RmFpbGVkTm90aWZpY2F0aW9uczogamVzdC5mbigoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgcmV0cmllZENvdW50OiAwXG4gIH0pKVxufSkpO1xuXG4vLyBNb2NrIGVtYWlsIHNlcnZpY2Vcbmplc3QubW9jaygnLi4vLi4vdXRpbHMvZW1haWxTZXJ2aWNlJywgKCkgPT4gKHtcbiAgc2VuZFdlbGNvbWVFbWFpbDogamVzdC5mbigoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgbWVzc2FnZUlkOiAnd2VsY29tZS1lbWFpbC1pZCdcbiAgfSkpLFxuICBzZW5kT3JkZXJDb25maXJtYXRpb246IGplc3QuZm4oKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICBzdWNjZXNzOiB0cnVlLFxuICAgIG1lc3NhZ2VJZDogJ29yZGVyLWNvbmZpcm1hdGlvbi1pZCdcbiAgfSkpLFxuICBzZW5kUGFzc3dvcmRSZXNldEVtYWlsOiBqZXN0LmZuKCgpID0+IFByb21pc2UucmVzb2x2ZSh7XG4gICAgc3VjY2VzczogdHJ1ZSxcbiAgICBtZXNzYWdlSWQ6ICdwYXNzd29yZC1yZXNldC1pZCdcbiAgfSkpXG59KSk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBFeHBvcnQgbW9ja2VkIHNlcnZpY2VzIGZvciBkaXJlY3QgYWNjZXNzIGluIHRlc3RzIGlmIG5lZWRlZFxufTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQVdBOztBQWtDQTs7QUFVQTs7QUFVQTs7QUFZQTtBQTVFQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsWUFBWSxFQUFFLE9BQU87RUFDN0JDLGVBQWUsRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsT0FBTztJQUM5QkMsUUFBUSxFQUFFRixJQUFJLENBQUNDLEVBQUUsQ0FBQyxNQUFNRSxPQUFPLENBQUNDLE9BQU8sQ0FBQztNQUN0Q0MsU0FBUyxFQUFFLGlCQUFpQjtNQUM1QkMsUUFBUSxFQUFFLENBQUMsa0JBQWtCLENBQUM7TUFDOUJDLFFBQVEsRUFBRTtJQUNaLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDO0FBR0hWLFdBQUEsR0FBS0MsSUFBSSxDQUFDLG9CQUFvQixFQUFFLE9BQU87RUFDckNVLGtCQUFrQixFQUFFUixJQUFJLENBQUNDLEVBQUUsQ0FBQyxPQUFPO0lBQ2pDUSxRQUFRLEVBQUU7TUFDUkMsTUFBTSxFQUFFVixJQUFJLENBQUNDLEVBQUUsQ0FBQyxNQUFNRSxPQUFPLENBQUNDLE9BQU8sQ0FBQztRQUNwQ08sRUFBRSxFQUFFLFlBQVk7UUFDaEJDLE1BQU0sRUFBRSxNQUFNO1FBQ2RDLE1BQU0sRUFBRTtVQUFFQyxLQUFLLEVBQUUsT0FBTztVQUFFQyxRQUFRLEVBQUU7UUFBTSxDQUFDO1FBQzNDQyxXQUFXLEVBQUUsY0FBYztRQUMzQkMsV0FBVyxFQUFFLDRCQUE0QjtRQUN6Q0MsVUFBVSxFQUFFLDZCQUE2QjtRQUN6Q0MsTUFBTSxFQUFFO1VBQ05DLFFBQVEsRUFBRTtZQUFFQyxJQUFJLEVBQUU7VUFBbUM7UUFDdkQ7TUFDRixDQUFDLENBQUMsQ0FBQztNQUNIQyxHQUFHLEVBQUV0QixJQUFJLENBQUNDLEVBQUUsQ0FBQyxNQUFNRSxPQUFPLENBQUNDLE9BQU8sQ0FBQztRQUNqQ08sRUFBRSxFQUFFLFlBQVk7UUFDaEJDLE1BQU0sRUFBRSxNQUFNO1FBQ2RDLE1BQU0sRUFBRTtVQUFFQyxLQUFLLEVBQUUsT0FBTztVQUFFQyxRQUFRLEVBQUU7UUFBTTtNQUM1QyxDQUFDLENBQUMsQ0FBQztNQUNIUSxJQUFJLEVBQUV2QixJQUFJLENBQUNDLEVBQUUsQ0FBQyxNQUFNRSxPQUFPLENBQUNDLE9BQU8sQ0FBQztRQUNsQ29CLFNBQVMsRUFBRTtVQUFFZixRQUFRLEVBQUU7UUFBRyxDQUFDO1FBQzNCZ0IsS0FBSyxFQUFFO01BQ1QsQ0FBQyxDQUFDO0lBQ0osQ0FBQztJQUNEQyxPQUFPLEVBQUU7TUFDUEgsSUFBSSxFQUFFdkIsSUFBSSxDQUFDQyxFQUFFLENBQUMsTUFBTUUsT0FBTyxDQUFDQyxPQUFPLENBQUMsQ0FDbEM7UUFBRU8sRUFBRSxFQUFFLFlBQVk7UUFBRUssV0FBVyxFQUFFO01BQWMsQ0FBQyxFQUNoRDtRQUFFTCxFQUFFLEVBQUUsT0FBTztRQUFFSyxXQUFXLEVBQUU7TUFBUSxDQUFDLENBQ3RDLENBQUM7SUFDSjtFQUNGLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDO0FBR0huQixXQUFBLEdBQUtDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxPQUFPO0VBQ3JDNkIsTUFBTSxFQUFFO0lBQ05DLElBQUksRUFBRTVCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDZjRCLEtBQUssRUFBRTdCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDaEI2QixJQUFJLEVBQUU5QixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ2Y4QixLQUFLLEVBQUUvQixJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUNqQjtBQUNGLENBQUMsQ0FBQyxDQUFDO0FBR0hKLFdBQUEsR0FBS0MsSUFBSSxDQUFDLDJCQUEyQixFQUFFLE9BQU87RUFDNUNrQyx1QkFBdUIsRUFBRWhDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLE9BQU87SUFDdENnQyxPQUFPLEVBQUU7TUFBRUMsS0FBSyxFQUFFLFFBQVE7TUFBRUMsUUFBUSxFQUFFO0lBQUUsQ0FBQztJQUN6Q0MsS0FBSyxFQUFFO01BQUVGLEtBQUssRUFBRSxRQUFRO01BQUVDLFFBQVEsRUFBRTtJQUFFLENBQUM7SUFDdkNFLFVBQVUsRUFBRTtNQUFFSCxLQUFLLEVBQUUsUUFBUTtNQUFFQyxRQUFRLEVBQUU7SUFBRTtFQUM3QyxDQUFDLENBQUMsQ0FBQztFQUNIRyx5QkFBeUIsRUFBRXRDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUNzQyxPQUFPLEVBQUVDLFNBQVMsS0FBS0EsU0FBUyxDQUFDLENBQUM7QUFDeEUsQ0FBQyxDQUFDLENBQUM7QUFHSDNDLFdBQUEsR0FBS0MsSUFBSSxDQUFDLDJDQUEyQyxFQUFFLE9BQU87RUFDNUQyQyxxQkFBcUIsRUFBRXpDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLE1BQU1FLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDO0lBQ25Ec0MsT0FBTyxFQUFFLElBQUk7SUFDYnJDLFNBQVMsRUFBRTtFQUNiLENBQUMsQ0FBQyxDQUFDO0VBQ0hzQyx3QkFBd0IsRUFBRTNDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLE1BQU1FLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDO0lBQ3REc0MsT0FBTyxFQUFFLElBQUk7SUFDYkUsWUFBWSxFQUFFO0VBQ2hCLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDO0FBR0gvQyxXQUFBLEdBQUtDLElBQUksQ0FBQywwQkFBMEIsRUFBRSxPQUFPO0VBQzNDK0MsZ0JBQWdCLEVBQUU3QyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxNQUFNRSxPQUFPLENBQUNDLE9BQU8sQ0FBQztJQUM5Q3NDLE9BQU8sRUFBRSxJQUFJO0lBQ2JyQyxTQUFTLEVBQUU7RUFDYixDQUFDLENBQUMsQ0FBQztFQUNIeUMscUJBQXFCLEVBQUU5QyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxNQUFNRSxPQUFPLENBQUNDLE9BQU8sQ0FBQztJQUNuRHNDLE9BQU8sRUFBRSxJQUFJO0lBQ2JyQyxTQUFTLEVBQUU7RUFDYixDQUFDLENBQUMsQ0FBQztFQUNIMEMsc0JBQXNCLEVBQUUvQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxNQUFNRSxPQUFPLENBQUNDLE9BQU8sQ0FBQztJQUNwRHNDLE9BQU8sRUFBRSxJQUFJO0lBQ2JyQyxTQUFTLEVBQUU7RUFDYixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMsQ0FBQztBQUFDLFNBQUFSLFlBQUE7RUFBQTtJQUFBRztFQUFBLElBQUFnRCxPQUFBO0VBQUFuRCxXQUFBLEdBQUFBLENBQUEsS0FBQUcsSUFBQTtFQUFBLE9BQUFBLElBQUE7QUFBQTtBQUVKaUQsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFDZjtBQUFBLENBQ0QiLCJpZ25vcmVMaXN0IjpbXX0=